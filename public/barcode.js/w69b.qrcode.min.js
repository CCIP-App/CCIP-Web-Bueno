self.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,o,t){var r=e.split("."),n=t||goog.global;r[0]in n||!n.execScript||n.execScript("var "+r[0]);for(var g;r.length&&(g=r.shift());)!r.length&&goog.isDef(o)?n[g]=o:n=n[g]?n[g]:n[g]={}},goog.define=function(e,o){var t=o;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(t=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,t)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,o){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e,o)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return COMPILED?void 0:goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(){},goog.forwardDeclare("Document"),goog.forwardDeclare("XMLHttpRequest"),COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,o){for(var t,r=e.split("."),n=o||goog.global;t=r.shift();){if(!goog.isDefAndNotNull(n[t]))return null;n=n[t]}return n},goog.globalize=function(e,o){var t=o||goog.global;for(var r in e)t[r]=e[r]},goog.addDependency=function(e,o,t,r){if(goog.DEPENDENCIES_ENABLED){for(var n,g,i=e.replace(/\\/g,"/"),s=goog.dependencies_,a=0;n=o[a];a++)s.nameToPath[n]=i,s.pathIsModule[i]=!!r;for(var u=0;g=t[u];u++)i in s.requires||(s.requires[i]={}),s.requires[i][g]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var o=goog.getPathFromDeps_(e);if(o)return goog.writeScripts_(o),null}var t="goog.require could not find: "+e;throw goog.logToConsole_(t),Error(t)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return void 0!==e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,o=e.getElementsByTagName("SCRIPT"),t=o.length-1;t>=0;--t){var r=o[t],n=r.src,g=n.lastIndexOf("?"),i=-1==g?n.length:g;if("base.js"==n.substr(i-7,7))return void(goog.basePath=n.substr(0,i-7))}},goog.importScript_=function(e,o){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;t(e,o)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){var o='goog.retrieveAndExecModule_("'+e+'");';goog.importScript_("",o)&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,o){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(o+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+o+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var o=goog.queuedModules_;goog.queuedModules_=[];for(var t=0;e>t;t++){var r=o[t];goog.maybeProcessDeferredPath_(r)}}},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var o=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+o)}},goog.isDeferredModule_=function(e){var o=goog.getPathFromDeps_(e);if(o&&goog.dependencies_.pathIsModule[o]){var t=goog.basePath+o;return t in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var o=goog.getPathFromDeps_(e);if(o&&o in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[o])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var o=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(o)}},goog.loadModule=function(e){var o=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0};var t;if(goog.isFunction(e))t=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");t=goog.loadModuleFromSource_.call(goog.global,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,t):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(t),goog.loadedModules_[r]=t}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var o=goog.global.document,t=o.createElement("script");t.type="text/javascript",t.src=e,t.defer=!1,t.async=!1,o.head.appendChild(t)},goog.writeScriptTag_=function(e,o){if(goog.inHtmlDocument_()){var t=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==t.readyState){var r=/\bdeps.js$/.test(e);if(r)return!1;throw Error('Cannot write "'+e+'" after document load')}var n=goog.IS_OLD_IE_;if(void 0===o)if(n){var g=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";t.write('<script type="text/javascript" src="'+e+'"'+g+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else t.write('<script type="text/javascript">'+o+"<\/script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,o){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==o&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function o(e){if(!(e in n.written||e in n.visited)){if(n.visited[e]=!0,e in n.requires)for(var g in n.requires[e])if(!goog.isProvided_(g)){if(!(g in n.nameToPath))throw Error("Undefined nameToPath for "+g);o(n.nameToPath[g])}e in r||(r[e]=!0,t.push(e))}}var t=[],r={},n=goog.dependencies_;o(e);for(var g=0;g<t.length;g++){var i=t[g];goog.dependencies_.written[i]=!0}var s=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var g=0;g<t.length;g++){var i=t[g];if(!i)throw goog.moduleLoaderState_=s,Error("Undefined script input");n.pathIsModule[i]?goog.importModule_(goog.basePath+i):goog.importScript_(goog.basePath+i)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var o=e.split("/"),t=0;t<o.length;)"."==o[t]?o.splice(t,1):t&&".."==o[t]&&o[t-1]&&".."!=o[t-1]?o.splice(--t,2):t++;return o.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var o=new goog.global.XMLHttpRequest;return o.open("get",e,!1),o.send(),o.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var o=e;e=goog.normalizePath_(e);var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=goog.loadFileSync_(e);if(null==r)throw Error("load of "+e+"failed");var n=goog.wrapModule_(e,r),g=goog.IS_OLD_IE_;g?(goog.dependencies_.deferred[o]=n,goog.queuedModules_.push(o)):t(e,n)}},goog.typeOf=function(e){var o=typeof e;if("object"==o){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return o;var t=Object.prototype.toString.call(e);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==o&&void 0===e.call)return"object";return o},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var o=goog.typeOf(e);return"array"==o||"object"==o&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var o=typeof e;return"object"==o&&null!=e||"function"==o},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);/** @preserveTry */
try{delete e[goog.UID_PROPERTY_]}catch(o){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var o=goog.typeOf(e);if("object"==o||"array"==o){if(e.clone)return e.clone();var t="array"==o?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,o){if(!e)throw Error();if(arguments.length>2){var t=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,t),e.apply(o,r)}}return function(){return e.apply(o,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,o){for(var t in o)e[t]=o[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(o){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.body.appendChild(r),t.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,o){var t,r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){for(var o=e.split("-"),t=[],n=0;n<o.length;n++)t.push(r(o[n]));return t.join("-")};return t=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},o?e+"-"+t(o):t(e)},goog.setCssNameMapping=function(e,o){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=o},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,o){return o&&(e=e.replace(/\{\$([^}]+)}/g,function(e,t){return t in o?o[t]:e})),e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,o,t){goog.exportPath_(e,o,t)},goog.exportProperty=function(e,o,t){e[o]=t},goog.inherits=function(e,o){function t(){}t.prototype=o.prototype,e.superClass_=o.prototype,e.prototype=new t,e.prototype.constructor=e,e.base=function(e,t){for(var r=Array(arguments.length-2),n=2;n<arguments.length;n++)r[n-2]=arguments[n];return o.prototype[t].apply(e,r)}},goog.base=function(e,o){var t=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!t)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(t.superClass_){for(var r=Array(arguments.length-1),n=1;n<arguments.length;n++)r[n-1]=arguments[n];return t.superClass_.constructor.apply(e,r)}for(var g=Array(arguments.length-2),n=2;n<arguments.length;n++)g[n-2]=arguments[n];for(var i=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[o]===t)i=!0;else if(i)return s.prototype[o].apply(e,g);if(e[o]===t)return e.constructor.prototype[o].apply(e,g);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,o){var t=o.constructor,r=o.statics;t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var n=goog.defineClass.createSealingConstructor_(t,e);return e&&goog.inherits(n,e),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(n.prototype,o),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,o){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(o&&o.prototype&&o.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var t=function(){var o=e.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(o),o};return t}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,o){var t;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.provide("goog.disposeAll"),goog.require("goog.disposable.IDisposable"),goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.define("goog.Disposable.MONITORING_MODE",0),goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION",!0),goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e=[];for(var o in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(o)&&e.push(goog.Disposable.instances_[+o]);return e},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.onDisposeCallbacks_,goog.Disposable.prototype.creationStack,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,o){return this.disposed_?void e.call(o):(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),void this.onDisposeCallbacks_.push(goog.isDef(o)?goog.bind(e,o):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&"function"==typeof e.isDisposed?e.isDisposed():!1},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(){for(var e=0,o=arguments.length;o>e;++e){var t=arguments[e];goog.isArrayLike(t)?goog.disposeAll.apply(null,t):goog.dispose(t)}},goog.provide("w69b.FileSaver"),goog.require("goog.Disposable"),goog.scope(function(){w69b.FileSaver=function(e,o){this.blob=e,this.name=o,this.objectUrl_=null};var e=w69b.FileSaver;goog.inherits(e,goog.Disposable);var o=w69b.FileSaver.prototype;e.saveAs=function(o,t){var r=navigator.msSaveBlob;if(r)r.call(navigator,o,t);else{var n=new e(o,t);n.save(),window.setTimeout(function(){n.dispose()},1e3)}},e.checkSupport_=function(){var e=document.createElement("a");return navigator.msSaveBlob||"download"in e},e.SUPPORTED_=e.checkSupport_(),e.isSupported=function(){return e.SUPPORTED_},e.click=function(e){var o=document.createEvent("MouseEvents");return o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(o)},o.save=function(){var o=document.createElement("a");return"download"in o?(this.objectUrl_||(this.objectUrl_=window.URL.createObjectURL(this.blob)),o.href=this.objectUrl_,o.download=this.name,e.click(o)):!1},o.disposeInternal=function(){this.objectUrl_&&window.URL.revokeObjectURL(this.objectUrl_)}}),goog.provide("goog.debug.Error"),goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}e&&(this.message=e+""),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.provide("goog.dom.NodeType"),goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",!1),goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,o){return 0==e.lastIndexOf(o,0)},goog.string.endsWith=function(e,o){var t=e.length-o.length;return t>=0&&e.indexOf(o,t)==t},goog.string.caseInsensitiveStartsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(0,o.length))},goog.string.caseInsensitiveEndsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(e.length-o.length,o.length))},goog.string.caseInsensitiveEquals=function(e,o){return e.toLowerCase()==o.toLowerCase()},goog.string.subs=function(e){for(var o=e.split("%s"),t="",r=Array.prototype.slice.call(arguments,1);r.length&&o.length>1;)t+=o.shift()+r.shift();return t+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,o){var t=(e+"").toLowerCase(),r=(o+"").toLowerCase();return r>t?-1:t==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,o){if(e==o)return 0;if(!e)return-1;if(!o)return 1;for(var t=e.toLowerCase().match(goog.string.numerateCompareRegExp_),r=o.toLowerCase().match(goog.string.numerateCompareRegExp_),n=Math.min(t.length,r.length),g=0;n>g;g++){var i=t[g],s=r[g];if(i!=s){var a=parseInt(i,10);if(!isNaN(a)){var u=parseInt(s,10);if(!isNaN(u)&&a-u)return a-u}return s>i?-1:1}}return t.length!=r.length?t.length-r.length:o>e?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(e+"")},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,o){return e.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.htmlEscape=function(e,o){return o?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):goog.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,o){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,o):e},goog.string.unescapeEntitiesUsingDom_=function(e,o){var t,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return t=o?o.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,o){var n=r[e];if(n)return n;if("#"==o.charAt(0)){var g=+("0"+o.substr(1));isNaN(g)||(n=String.fromCharCode(g))}return n||(t.innerHTML=e+" ",n=t.firstChild.nodeValue.slice(0,-1)),r[e]=n})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,o){switch(o){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==o.charAt(0)){var t=+("0"+o.substr(1));if(!isNaN(t))return String.fromCharCode(t)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,o){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,o){for(var t=o.length,r=0;t>r;r++){var n=1==t?o:o.charAt(r);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,o,t){return t&&(e=goog.string.unescapeEntities(e)),e.length>o&&(e=e.substring(0,o-3)+"..."),t&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,o,t,r){if(t&&(e=goog.string.unescapeEntities(e)),r&&e.length>o){r>o&&(r=o);var n=e.length-r,g=o-r;e=e.substring(0,g)+"..."+e.substring(n)}else if(e.length>o){var i=Math.floor(o/2),s=e.length-i;i+=o%2,e=e.substring(0,i)+"..."+e.substring(s)}return t&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if(e+="",e.quote)return e.quote();for(var o=['"'],t=0;t<e.length;t++){var r=e.charAt(t),n=r.charCodeAt(0);o[t+1]=goog.string.specialEscapeChars_[r]||(n>31&&127>n?r:goog.string.escapeChar(r))}return o.push('"'),o.join("")},goog.string.escapeString=function(e){for(var o=[],t=0;t<e.length;t++)o[t]=goog.string.escapeChar(e.charAt(t));return o.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var o=e,t=e.charCodeAt(0);return t>31&&127>t?o=e:(256>t?(o="\\x",(16>t||t>256)&&(o+="0")):(o="\\u",4096>t&&(o+="0")),o+=t.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=o},goog.string.contains=function(e,o){return-1!=e.indexOf(o)},goog.string.caseInsensitiveContains=function(e,o){return goog.string.contains(e.toLowerCase(),o.toLowerCase())},goog.string.countOf=function(e,o){return e&&o?e.split(o).length-1:0},goog.string.removeAt=function(e,o,t){var r=e;return o>=0&&o<e.length&&t>0&&(r=e.substr(0,o)+e.substr(o+t,e.length-o-t)),r},goog.string.remove=function(e,o){var t=RegExp(goog.string.regExpEscape(o),"");return e.replace(t,"")},goog.string.removeAll=function(e,o){var t=RegExp(goog.string.regExpEscape(o),"g");return e.replace(t,"")},goog.string.regExpEscape=function(e){return(e+"").replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,o){return e.repeat(o)}:function(e,o){return Array(o+1).join(e)},goog.string.padNumber=function(e,o,t){var r=goog.isDef(t)?e.toFixed(t):e+"",n=r.indexOf(".");return-1==n&&(n=r.length),goog.string.repeat("0",Math.max(0,o-n))+r},goog.string.makeSafe=function(e){return null==e?"":e+""},goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^goog.now()).toString(36)},goog.string.compareVersions=function(e,o){for(var t=0,r=goog.string.trim(e+"").split("."),n=goog.string.trim(o+"").split("."),g=Math.max(r.length,n.length),i=0;0==t&&g>i;i++){var s=r[i]||"",a=n[i]||"",u=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var c=u.exec(s)||["","",""],d=l.exec(a)||["","",""];if(0==c[0].length&&0==d[0].length)break;var h=0==c[1].length?0:parseInt(c[1],10),f=0==d[1].length?0:parseInt(d[1],10);t=goog.string.compareElements_(h,f)||goog.string.compareElements_(0==c[2].length,0==d[2].length)||goog.string.compareElements_(c[2],d[2])}while(0==t)}return t},goog.string.compareElements_=function(e,o){return o>e?-1:e>o?1:0},goog.string.hashCode=function(e){for(var o=0,t=0;t<e.length;++t)o=31*o+e.charCodeAt(t)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var o=+e;return 0==o&&goog.string.isEmptyOrWhitespace(e)?0/0:o},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return(e+"").replace(/\-([a-z])/g,function(e,o){return o.toUpperCase()})},goog.string.toSelectorCase=function(e){return(e+"").replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,o){var t=goog.isString(o)?goog.string.regExpEscape(o):"\\s";t=t?"|["+t+"]+":"";var r=RegExp("(^"+t+")([a-z])","g");return e.replace(r,function(e,o,t){return o+t.toUpperCase()})},goog.string.capitalize=function(e){return(e.charAt(0)+"").toUpperCase()+(e.substr(1)+"").toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e+=""),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):0/0},goog.string.splitLimit=function(e,o,t){for(var r=e.split(o),n=[];t>0&&r.length;)n.push(r.shift()),t--;return r.length&&n.push(r.join(o)),n},goog.string.editDistance=function(e,o){var t=[],r=[];if(e==o)return 0;if(!e.length||!o.length)return Math.max(e.length,o.length);for(var n=0;n<o.length+1;n++)t[n]=n;for(var n=0;n<e.length;n++){r[0]=n+1;for(var g=0;g<o.length;g++){var i=e[n]!=o[g];r[g+1]=Math.min(r[g]+1,t[g+1]+1,t[g]+i)}for(var g=0;g<t.length;g++)t[g]=r[g]}return r[o.length]},goog.provide("goog.asserts"),goog.provide("goog.asserts.AssertionError"),goog.require("goog.debug.Error"),goog.require("goog.dom.NodeType"),goog.require("goog.string"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,o){o.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,o)),o.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,o,t,r){var n="Assertion failed";if(t){n+=": "+t;var g=r}else e&&(n+=": "+e,g=o);var i=new goog.asserts.AssertionError(""+n,g||[]);goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,o,t){return!goog.asserts.ENABLE_ASSERTS||e instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(e)],t,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.provide("goog.debug.EntryPointMonitor"),goog.provide("goog.debug.entryPointRegistry"),goog.require("goog.asserts"),goog.debug.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor.prototype.wrap,goog.debug.EntryPointMonitor.prototype.unwrap,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var o=goog.debug.entryPointRegistry.monitors_,t=0;t<o.length;t++)e(goog.bind(o[t].wrap,o[t]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var o=goog.bind(e.wrap,e),t=0;t<goog.debug.entryPointRegistry.refList_.length;t++)goog.debug.entryPointRegistry.refList_[t](o);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var o=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==o[o.length-1],"Only the most recent monitor can be unwrapped.");for(var t=goog.bind(e.unwrap,e),r=0;r<goog.debug.entryPointRegistry.refList_.length;r++)goog.debug.entryPointRegistry.refList_[r](t);o.length--},goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.require("goog.asserts"),goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",!1),goog.array.ArrayLike,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,o,t)}:function(e,o,t){var r=null==t?0:0>t?Math.max(0,e.length+t):t;if(goog.isString(e))return goog.isString(o)&&1==o.length?e.indexOf(o,r):-1;for(var n=r;n<e.length;n++)if(n in e&&e[n]===o)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,o,t){goog.asserts.assert(null!=e.length);var r=null==t?e.length-1:t;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,o,r)}:function(e,o,t){var r=null==t?e.length-1:t;if(0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(o)&&1==o.length?e.lastIndexOf(o,r):-1;for(var n=r;n>=0;n--)if(n in e&&e[n]===o)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(e,o,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=0;r>g;g++)g in n&&o.call(t,n[g],g,e)},goog.array.forEachRight=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=r-1;g>=0;--g)g in n&&o.call(t,n[g],g,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=[],g=0,i=goog.isString(e)?e.split(""):e,s=0;r>s;s++)if(s in i){var a=i[s];o.call(t,a,s,e)&&(n[g++]=a)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=Array(r),g=goog.isString(e)?e.split(""):e,i=0;r>i;i++)i in g&&(n[i]=o.call(t,g[i],i,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(e,o,t,r){return goog.asserts.assert(null!=e.length),r&&(o=goog.bind(o,r)),goog.array.ARRAY_PROTOTYPE_.reduce.call(e,o,t)}:function(e,o,t,r){var n=t;return goog.array.forEach(e,function(t,g){n=o.call(r,n,t,g,e)}),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,o,t,r){return goog.asserts.assert(null!=e.length),r&&(o=goog.bind(o,r)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(e,o,t)}:function(e,o,t,r){var n=t;return goog.array.forEachRight(e,function(t,g){n=o.call(r,n,t,g,e)}),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=0;r>g;g++)if(g in n&&o.call(t,n[g],g,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(e,o,t){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,o,t)}:function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=0;r>g;g++)if(g in n&&!o.call(t,n[g],g,e))return!1;return!0},goog.array.count=function(e,o,t){var r=0;return goog.array.forEach(e,function(e,n,g){o.call(t,e,n,g)&&++r},t),r},goog.array.find=function(e,o,t){var r=goog.array.findIndex(e,o,t);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndex=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=0;r>g;g++)if(g in n&&o.call(t,n[g],g,e))return g;return-1},goog.array.findRight=function(e,o,t){var r=goog.array.findIndexRight(e,o,t);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndexRight=function(e,o,t){for(var r=e.length,n=goog.isString(e)?e.split(""):e,g=r-1;g>=0;g--)if(g in n&&o.call(t,n[g],g,e))return g;return-1},goog.array.contains=function(e,o){return goog.array.indexOf(e,o)>=0},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var o=e.length-1;o>=0;o--)delete e[o];e.length=0},goog.array.insert=function(e,o){goog.array.contains(e,o)||e.push(o)},goog.array.insertAt=function(e,o,t){goog.array.splice(e,t,0,o)},goog.array.insertArrayAt=function(e,o,t){goog.partial(goog.array.splice,e,t,0).apply(null,o)},goog.array.insertBefore=function(e,o,t){var r;2==arguments.length||(r=goog.array.indexOf(e,t))<0?e.push(o):goog.array.insertAt(e,o,r)},goog.array.remove=function(e,o){var t,r=goog.array.indexOf(e,o);return(t=r>=0)&&goog.array.removeAt(e,r),t},goog.array.removeAt=function(e,o){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,o,1).length},goog.array.removeIf=function(e,o,t){var r=goog.array.findIndex(e,o,t);return 0>r?!1:(goog.array.removeAt(e,r),!0)},goog.array.removeAllIf=function(e,o,t){var r=0;return goog.array.forEachRight(e,function(n,g){o.call(t,n,g,e)&&goog.array.removeAt(e,g)&&r++}),r},goog.array.concat=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var o=e.length;if(o>0){for(var t=Array(o),r=0;o>r;r++)t[r]=e[r];return t}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];if(goog.isArrayLike(t)){var r=e.length||0,n=t.length||0;e.length=r+n;for(var g=0;n>g;g++)e[r+g]=t[g]}else e.push(t)}},goog.array.splice=function(e){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,o,t){return goog.asserts.assert(null!=e.length),arguments.length>2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,o,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,o)
},goog.array.removeDuplicates=function(e,o,t){for(var r=o||e,n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e},g=t||n,i={},s=0,a=0;a<e.length;){var u=e[a++],l=g(u);Object.prototype.hasOwnProperty.call(i,l)||(i[l]=!0,r[s++]=u)}r.length=s},goog.array.binarySearch=function(e,o,t){return goog.array.binarySearch_(e,t||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(e,o,t){return goog.array.binarySearch_(e,o,!0,void 0,t)},goog.array.binarySearch_=function(e,o,t,r,n){for(var g,i=0,s=e.length;s>i;){var a,u=i+s>>1;a=t?o.call(n,e[u],u,e):o(r,e[u]),a>0?i=u+1:(s=u,g=!a)}return g?i:~i},goog.array.sort=function(e,o){e.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(e,o){function t(e,o){return n(e.value,o.value)||e.index-o.index}for(var r=0;r<e.length;r++)e[r]={index:r,value:e[r]};var n=o||goog.array.defaultCompare;goog.array.sort(e,t);for(var r=0;r<e.length;r++)e[r]=e[r].value},goog.array.sortByKey=function(e,o,t){var r=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return r(o(e),o(t))})},goog.array.sortObjectsByKey=function(e,o,t){goog.array.sortByKey(e,function(e){return e[o]},t)},goog.array.isSorted=function(e,o,t){for(var r=o||goog.array.defaultCompare,n=1;n<e.length;n++){var g=r(e[n-1],e[n]);if(g>0||0==g&&t)return!1}return!0},goog.array.equals=function(e,o,t){if(!goog.isArrayLike(e)||!goog.isArrayLike(o)||e.length!=o.length)return!1;for(var r=e.length,n=t||goog.array.defaultCompareEquality,g=0;r>g;g++)if(!n(e[g],o[g]))return!1;return!0},goog.array.compare3=function(e,o,t){for(var r=t||goog.array.defaultCompare,n=Math.min(e.length,o.length),g=0;n>g;g++){var i=r(e[g],o[g]);if(0!=i)return i}return goog.array.defaultCompare(e.length,o.length)},goog.array.defaultCompare=function(e,o){return e>o?1:o>e?-1:0},goog.array.inverseDefaultCompare=function(e,o){return-goog.array.defaultCompare(e,o)},goog.array.defaultCompareEquality=function(e,o){return e===o},goog.array.binaryInsert=function(e,o,t){var r=goog.array.binarySearch(e,o,t);return 0>r?(goog.array.insertAt(e,o,-(r+1)),!0):!1},goog.array.binaryRemove=function(e,o,t){var r=goog.array.binarySearch(e,o,t);return 0>r?!1:goog.array.removeAt(e,r)},goog.array.bucket=function(e,o,t){for(var r={},n=0;n<e.length;n++){var g=e[n],i=o.call(t,g,n,e);if(goog.isDef(i)){var s=r[i]||(r[i]=[]);s.push(g)}}return r},goog.array.toObject=function(e,o,t){var r={};return goog.array.forEach(e,function(n,g){r[o.call(t,n,g,e)]=n}),r},goog.array.range=function(e,o,t){var r=[],n=0,g=e,i=t||1;if(void 0!==o&&(n=e,g=o),0>i*(g-n))return[];if(i>0)for(var s=n;g>s;s+=i)r.push(s);else for(var s=n;s>g;s+=i)r.push(s);return r},goog.array.repeat=function(e,o){for(var t=[],r=0;o>r;r++)t[r]=e;return t},goog.array.flatten=function(){for(var e=8192,o=[],t=0;t<arguments.length;t++){var r=arguments[t];if(goog.isArray(r))for(var n=0;n<r.length;n+=e)for(var g=goog.array.slice(r,n,n+e),i=goog.array.flatten.apply(null,g),s=0;s<i.length;s++)o.push(i[s]);else o.push(r)}return o},goog.array.rotate=function(e,o){return goog.asserts.assert(null!=e.length),e.length&&(o%=e.length,o>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-o,o)):0>o&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-o))),e},goog.array.moveItem=function(e,o,t){goog.asserts.assert(o>=0&&o<e.length),goog.asserts.assert(t>=0&&t<e.length);var r=goog.array.ARRAY_PROTOTYPE_.splice.call(e,o,1);goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,0,r[0])},goog.array.zip=function(){if(!arguments.length)return[];for(var e=[],o=0;!0;o++){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(o>=n.length)return e;t.push(n[o])}e.push(t)}},goog.array.shuffle=function(e,o){for(var t=o||Math.random,r=e.length-1;r>0;r--){var n=Math.floor(t()*(r+1)),g=e[r];e[r]=e[n],e[n]=g}},goog.array.copyByIndex=function(e,o){var t=[];return goog.array.forEach(o,function(o){t.push(e[o])}),t},goog.provide("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();if(e){var o=e.userAgent;if(o)return o}return""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(o,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(o,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var o,t=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];o=t.exec(e);)r.push([o[1],o[2],o[3]||void 0]);return r},goog.provide("goog.object"),goog.object.forEach=function(e,o,t){for(var r in e)o.call(t,e[r],r,e)},goog.object.filter=function(e,o,t){var r={};for(var n in e)o.call(t,e[n],n,e)&&(r[n]=e[n]);return r},goog.object.map=function(e,o,t){var r={};for(var n in e)r[n]=o.call(t,e[n],n,e);return r},goog.object.some=function(e,o,t){for(var r in e)if(o.call(t,e[r],r,e))return!0;return!1},goog.object.every=function(e,o,t){for(var r in e)if(!o.call(t,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var o=0;for(var t in e)o++;return o},goog.object.getAnyKey=function(e){for(var o in e)return o},goog.object.getAnyValue=function(e){for(var o in e)return e[o]},goog.object.contains=function(e,o){return goog.object.containsValue(e,o)},goog.object.getValues=function(e){var o=[],t=0;for(var r in e)o[t++]=e[r];return o},goog.object.getKeys=function(e){var o=[],t=0;for(var r in e)o[t++]=r;return o},goog.object.getValueByKeys=function(e,o){for(var t=goog.isArrayLike(o),r=t?o:arguments,n=t?0:1;n<r.length&&(e=e[r[n]],goog.isDef(e));n++);return e},goog.object.containsKey=function(e,o){return o in e},goog.object.containsValue=function(e,o){for(var t in e)if(e[t]==o)return!0;return!1},goog.object.findKey=function(e,o,t){for(var r in e)if(o.call(t,e[r],r,e))return r;return void 0},goog.object.findValue=function(e,o,t){var r=goog.object.findKey(e,o,t);return r&&e[r]},goog.object.isEmpty=function(e){for(var o in e)return!1;return!0},goog.object.clear=function(e){for(var o in e)delete e[o]},goog.object.remove=function(e,o){var t;return(t=o in e)&&delete e[o],t},goog.object.add=function(e,o,t){if(o in e)throw Error('The object already contains the key "'+o+'"');goog.object.set(e,o,t)},goog.object.get=function(e,o,t){return o in e?e[o]:t},goog.object.set=function(e,o,t){e[o]=t},goog.object.setIfUndefined=function(e,o,t){return o in e?e[o]:e[o]=t},goog.object.setWithReturnValueIfNotSet=function(e,o,t){if(o in e)return e[o];var r=t();return e[o]=r,r},goog.object.equals=function(e,o){for(var t in e)if(!(t in o)||e[t]!==o[t])return!1;for(var t in o)if(!(t in e))return!1;return!0},goog.object.clone=function(e){var o={};for(var t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var o=goog.typeOf(e);if("object"==o||"array"==o){if(goog.isFunction(e.clone))return e.clone();var t="array"==o?[]:{};for(var r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var o={};for(var t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(e){for(var o,t,r=1;r<arguments.length;r++){t=arguments[r];for(o in t)e[o]=t[o];for(var n=0;n<goog.object.PROTOTYPE_FIELDS_.length;n++)o=goog.object.PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}},goog.object.create=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var o={},t=0;e>t;t+=2)o[arguments[t]]=arguments[t+1];return o},goog.object.createSet=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},t=0;e>t;t++)o[arguments[t]]=!0;return o},goog.object.createImmutableView=function(e){var o=e;return Object.isFrozen&&!Object.isFrozen(e)&&(o=Object.create(e),Object.freeze(o)),o},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.provide("goog.labs.userAgent.browser"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.object"),goog.require("goog.string"),goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){var o=goog.array.find(e,n);return r[o]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);var t=goog.labs.userAgent.util.extractVersionTuples(o),r={};goog.array.forEach(t,function(e){var o=e[0],t=e[1];r[o]=t});var n=goog.partial(goog.object.containsKey,r);if(goog.labs.userAgent.browser.isOpera())return e(["Version","Opera","OPR"]);if(goog.labs.userAgent.browser.isEdge())return e(["Edge"]);if(goog.labs.userAgent.browser.isChrome())return e(["Chrome","CriOS"]);var g=t[2];return g&&g[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)>=0},goog.labs.userAgent.browser.getIEVersion_=function(e){var o=/rv: *([\d\.]*)/.exec(e);if(o&&o[1])return o[1];var t="",r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1]){var n=/Trident\/(\d.\d)/.exec(e);if("7.0"==r[1])if(n&&n[1])switch(n[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1]}return t},goog.provide("goog.labs.userAgent.engine"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){var o=goog.labs.userAgent.util.extractVersionTuples(e),t=goog.labs.userAgent.engine.getEngineTuple_(o);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(o,"Firefox"):t[1];var r,n=o[0];if(n&&(r=n[2])){var g=/Trident\/([^\s;]+)/.exec(r);if(g)return g[1]}}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var o=0;o<e.length;o++){var t=e[o];if("Edge"==t[0])return t}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)>=0},goog.labs.userAgent.engine.getVersionForKey_=function(e,o){var t=goog.array.find(e,function(e){return o==e[0]});return t&&t[1]||""},goog.provide("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e,o=goog.labs.userAgent.util.getUserAgent(),t="";if(goog.labs.userAgent.platform.isWindows()){e=/Windows (?:NT|Phone) ([0-9.]+)/;var r=e.exec(o);t=r?r[1]:"0.0"}else if(goog.labs.userAgent.platform.isIos()){e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var r=e.exec(o);t=r&&r[1].replace(/_/g,".")}else if(goog.labs.userAgent.platform.isMacintosh()){e=/Mac OS X ([0-9_.]+)/;var r=e.exec(o);t=r?r[1].replace(/_/g,"."):"10"}else if(goog.labs.userAgent.platform.isAndroid()){e=/Android\s+([^\);]+)(\)|;)/;var r=e.exec(o);t=r&&r[1]}else if(goog.labs.userAgent.platform.isChromeOS()){e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var r=e.exec(o);t=r&&r[1]}return t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)>=0},goog.provide("goog.userAgent"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.define("goog.userAgent.ASSUME_IE",!1),goog.define("goog.userAgent.ASSUME_EDGE",!1),goog.define("goog.userAgent.ASSUME_GECKO",!1),goog.define("goog.userAgent.ASSUME_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_OPERA",!1),goog.define("goog.userAgent.ASSUME_ANY_VERSION",!1),goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.define("goog.userAgent.ASSUME_MAC",!1),goog.define("goog.userAgent.ASSUME_WINDOWS",!1),goog.define("goog.userAgent.ASSUME_LINUX",!1),goog.define("goog.userAgent.ASSUME_X11",!1),goog.define("goog.userAgent.ASSUME_ANDROID",!1),goog.define("goog.userAgent.ASSUME_IPHONE",!1),goog.define("goog.userAgent.ASSUME_IPAD",!1),goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.operaVersion_=function(){var e=goog.global.opera.version;try{return e()}catch(o){return e}},goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera)return goog.userAgent.operaVersion_();var e="",o=goog.userAgent.getVersionRegexResult_();if(o&&(e=o?o[1]:""),goog.userAgent.IE){var t=goog.userAgent.getDocumentMode_();if(t>parseFloat(e))return t+""}return e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,o){return goog.string.compareVersions(e,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=goog.string.compareVersions(goog.userAgent.VERSION,e)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,o=goog.userAgent.getDocumentMode_();return e&&goog.userAgent.IE?o||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}(),goog.provide("goog.events.BrowserFeature"),goog.require("goog.userAgent"),goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.provide("goog.events.EventId"),goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.provide("goog.events.Event"),goog.provide("goog.events.EventLike"),goog.require("goog.Disposable"),goog.require("goog.events.EventId"),goog.events.EventLike,goog.events.Event=function(e,o){this.type=e instanceof goog.events.EventId?e+"":e,this.target=o,this.currentTarget=this.target,this.propagationStopped_=!1,this.defaultPrevented=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.provide("goog.events.EventType"),goog.require("goog.userAgent"),goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint"},goog.provide("goog.reflect"),goog.reflect.object=function(e,o){return o},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,o){/** @preserveTry */
try{return goog.reflect.sinkValue(e[o]),!0}catch(t){}return!1},goog.provide("goog.events.BrowserEvent"),goog.provide("goog.events.BrowserEvent.MouseButton"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Event"),goog.require("goog.events.EventType"),goog.require("goog.reflect"),goog.require("goog.userAgent"),goog.events.BrowserEvent=function(e,o){goog.events.BrowserEvent.base(this,"constructor",e?e.type:""),this.target=null,this.currentTarget=null,this.relatedTarget=null,this.offsetX=0,this.offsetY=0,this.clientX=0,this.clientY=0,this.screenX=0,this.screenY=0,this.button=0,this.keyCode=0,this.charCode=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,o)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(e,o){var t=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=o;var n=e.relatedTarget;n?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(n,"nodeName")||(n=null)):t==goog.events.EventType.MOUSEOVER?n=e.fromElement:t==goog.events.EventType.MOUSEOUT&&(n=e.toElement),this.relatedTarget=n,goog.isNull(r)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==t?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)/** @preserveTry */
try{var o=112,t=123;(e.ctrlKey||e.keyCode>=o&&e.keyCode<=t)&&(e.keyCode=-1)}catch(r){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.provide("goog.events.Listenable"),goog.provide("goog.events.ListenableKey"),goog.require("goog.events.EventId"),goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen,goog.events.Listenable.prototype.listenOnce,goog.events.Listenable.prototype.unlisten,goog.events.Listenable.prototype.unlistenByKey,goog.events.Listenable.prototype.dispatchEvent,goog.events.Listenable.prototype.removeAllListeners,goog.events.Listenable.prototype.getParentEventTarget,goog.events.Listenable.prototype.fireListeners,goog.events.Listenable.prototype.getListeners,goog.events.Listenable.prototype.getListener,goog.events.Listenable.prototype.hasListener,goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.ListenableKey.prototype.src,goog.events.ListenableKey.prototype.type,goog.events.ListenableKey.prototype.listener,goog.events.ListenableKey.prototype.capture,goog.events.ListenableKey.prototype.handler,goog.events.ListenableKey.prototype.key,goog.provide("goog.events.Listener"),goog.require("goog.events.ListenableKey"),goog.events.Listener=function(e,o,t,r,n,g){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=o,this.src=t,this.type=r,this.capture=!!n,this.handler=g,this.key=goog.events.ListenableKey.reserveKey(),this.callOnce=!1,this.removed=!1},goog.define("goog.events.Listener.ENABLE_MONITORING",!1),goog.events.Listener.prototype.creationStack,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null},goog.provide("goog.events.ListenerMap"),goog.require("goog.array"),goog.require("goog.events.Listener"),goog.require("goog.object"),goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e=0;for(var o in this.listeners)e+=this.listeners[o].length;return e},goog.events.ListenerMap.prototype.add=function(e,o,t,r,n){var g=""+e,i=this.listeners[g];i||(i=this.listeners[g]=[],this.typeCount_++);var s,a=goog.events.ListenerMap.findListenerIndex_(i,o,r,n);return a>-1?(s=i[a],t||(s.callOnce=!1)):(s=new goog.events.Listener(o,null,this.src,g,!!r,n),s.callOnce=t,i.push(s)),s},goog.events.ListenerMap.prototype.remove=function(e,o,t,r){var n=""+e;if(!(n in this.listeners))return!1;var g=this.listeners[n],i=goog.events.ListenerMap.findListenerIndex_(g,o,t,r);if(i>-1){var s=g[i];return s.markAsRemoved(),goog.array.removeAt(g,i),0==g.length&&(delete this.listeners[n],this.typeCount_--),!0}return!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var o=e.type;if(!(o in this.listeners))return!1;var t=goog.array.remove(this.listeners[o],e);return t&&(e.markAsRemoved(),0==this.listeners[o].length&&(delete this.listeners[o],this.typeCount_--)),t},goog.events.ListenerMap.prototype.removeAll=function(e){var o=e&&""+e,t=0;for(var r in this.listeners)if(!o||r==o){for(var n=this.listeners[r],g=0;g<n.length;g++)++t,n[g].markAsRemoved();delete this.listeners[r],this.typeCount_--}return t},goog.events.ListenerMap.prototype.getListeners=function(e,o){var t=this.listeners[""+e],r=[];if(t)for(var n=0;n<t.length;++n){var g=t[n];g.capture==o&&r.push(g)}return r},goog.events.ListenerMap.prototype.getListener=function(e,o,t,r){var n=this.listeners[""+e],g=-1;return n&&(g=goog.events.ListenerMap.findListenerIndex_(n,o,t,r)),g>-1?n[g]:null},goog.events.ListenerMap.prototype.hasListener=function(e,o){var t=goog.isDef(e),r=t?""+e:"",n=goog.isDef(o);return goog.object.some(this.listeners,function(e){for(var g=0;g<e.length;++g)if(!(t&&e[g].type!=r||n&&e[g].capture!=o))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,o,t,r){for(var n=0;n<e.length;++n){var g=e[n];if(!g.removed&&g.listener==o&&g.capture==!!t&&g.handler==r)return n}return-1},goog.provide("goog.events"),goog.provide("goog.events.CaptureSimulationMode"),goog.provide("goog.events.Key"),goog.provide("goog.events.ListenableType"),goog.require("goog.asserts"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.events.BrowserEvent"),goog.require("goog.events.BrowserFeature"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.forwardDeclare("goog.debug.ErrorHandler"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.Key,goog.events.ListenableType,goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.define("goog.events.CAPTURE_SIMULATION_MODE",2),goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,o,t,r,n){if(goog.isArray(o)){for(var g=0;g<o.length;g++)goog.events.listen(e,o[g],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?e.listen(o,t,r,n):goog.events.listen_(e,o,t,!1,r,n)},goog.events.listen_=function(e,o,t,r,n,g){if(!o)throw Error("Invalid event type");var i=!!n;if(i&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var s=goog.events.getListenerMap_(e);s||(e[goog.events.LISTENER_MAP_PROP_]=s=new goog.events.ListenerMap(e));var a=s.add(o,t,r,n,g);if(a.proxy)return a;var u=goog.events.getProxy();if(a.proxy=u,u.src=e,u.listener=a,e.addEventListener)e.addEventListener(""+o,u,i);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(goog.events.getOnString_(""+o),u)}return goog.events.listenerCountEstimate_++,a},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,o=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(t){return e.call(o.src,o.listener,t)}:function(t){var r=e.call(o.src,o.listener,t);return r?void 0:r};return o},goog.events.listenOnce=function(e,o,t,r,n){if(goog.isArray(o)){for(var g=0;g<o.length;g++)goog.events.listenOnce(e,o[g],t,r,n);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(o,t,r,n):goog.events.listen_(e,o,t,!0,r,n)},goog.events.listenWithWrapper=function(e,o,t,r,n){o.listen(e,t,r,n)},goog.events.unlisten=function(e,o,t,r,n){if(goog.isArray(o)){for(var g=0;g<o.length;g++)goog.events.unlisten(e,o[g],t,r,n);return null}if(t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e))return e.unlisten(o,t,r,n);if(!e)return!1;var i=!!r,s=goog.events.getListenerMap_(e);if(s){var a=s.getListener(o,t,i,n);if(a)return goog.events.unlistenByKey(a)}return!1},goog.events.unlistenByKey=function(e){if(goog.isNumber(e))return!1;var o=e;if(!o||o.removed)return!1;var t=o.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(o);var r=o.type,n=o.proxy;t.removeEventListener?t.removeEventListener(r,n,o.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(r),n),goog.events.listenerCountEstimate_--;var g=goog.events.getListenerMap_(t);return g?(g.removeByKey(o),0==g.getTypeCount()&&(g.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):o.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,o,t,r,n){o.unlisten(e,t,r,n)},goog.events.removeAll=function(e,o){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(o);var t=goog.events.getListenerMap_(e);if(!t)return 0;var r=0,n=o&&""+o;for(var g in t.listeners)if(!n||g==n)for(var i=t.listeners[g].concat(),s=0;s<i.length;++s)goog.events.unlistenByKey(i[s])&&++r;return r},goog.events.getListeners=function(e,o,t){if(goog.events.Listenable.isImplementedBy(e))return e.getListeners(o,t);if(!e)return[];var r=goog.events.getListenerMap_(e);return r?r.getListeners(o,t):[]},goog.events.getListener=function(e,o,t,r,n){o=o,t=goog.events.wrapListener(t);var g=!!r;if(goog.events.Listenable.isImplementedBy(e))return e.getListener(o,t,g,n);if(!e)return null;var i=goog.events.getListenerMap_(e);return i?i.getListener(o,t,g,n):null},goog.events.hasListener=function(e,o,t){if(goog.events.Listenable.isImplementedBy(e))return e.hasListener(o,t);var r=goog.events.getListenerMap_(e);return!!r&&r.hasListener(o,t)},goog.events.expose=function(e){var o=[];for(var t in e)o.push(e[t]&&e[t].id?t+" = "+e[t]+" ("+e[t].id+")":t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,o,t,r){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(o,t,r):goog.events.fireListeners_(e,o,t,r)},goog.events.fireListeners_=function(e,o,t,r){var n=!0,g=goog.events.getListenerMap_(e);if(g){var i=g.listeners[""+o];if(i){i=i.concat();for(var s=0;s<i.length;s++){var a=i[s];if(a&&a.capture==t&&!a.removed){var u=goog.events.fireListener(a,r);n=n&&u!==!1}}}}return n},goog.events.fireListener=function(e,o){var t=e.listener,r=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),t.call(r,o)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,o){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(o)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,o){if(e.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var t=o||goog.getObjectByName("window.event"),r=new goog.events.BrowserEvent(t,this),n=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(t)){goog.events.markIeEvent_(t);for(var g=[],i=r.currentTarget;i;i=i.parentNode)g.push(i);for(var s=e.type,a=g.length-1;!r.propagationStopped_&&a>=0;a--){r.currentTarget=g[a];var u=goog.events.fireListeners_(g[a],s,!0,r);n=n&&u}for(var a=0;!r.propagationStopped_&&a<g.length;a++){r.currentTarget=g[a];var u=goog.events.fireListeners_(g[a],s,!1,r);n=n&&u}}}else n=goog.events.fireListener(e,r);return n}return goog.events.fireListener(e,new goog.events.BrowserEvent(o,this))},goog.events.markIeEvent_=function(e){var o=!1;if(0==e.keyCode)/** @preserveTry */
try{return void(e.keyCode=-1)}catch(t){o=!0}(o||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){var o=e[goog.events.LISTENER_MAP_PROP_];return o instanceof goog.events.ListenerMap?o:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(o){return e.handleEvent(o)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.provide("goog.math.Size"),goog.math.Size=function(e,o){this.width=e,this.height=o},goog.math.Size.equals=function(e,o){return e==o?!0:e&&o?e.width==o.width&&e.height==o.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.width*=e,this.height*=t,this},goog.math.Size.prototype.scaleToCover=function(e){var o=this.aspectRatio()>e.aspectRatio()?e.height/this.height:e.width/this.width;return this.scale(o)},goog.math.Size.prototype.scaleToFit=function(e){var o=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(o)},goog.provide("goog.crypt"),goog.require("goog.array"),goog.require("goog.asserts"),goog.crypt.stringToByteArray=function(e){for(var o=[],t=0,r=0;r<e.length;r++){for(var n=e.charCodeAt(r);n>255;)o[t++]=255&n,n>>=8;o[t++]=n}return o},goog.crypt.byteArrayToString=function(e){var o=8192;if(e.length<=o)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=o){var n=goog.array.slice(e,r,r+o);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e){return goog.array.map(e,function(e){var o=e.toString(16);return o.length>1?o:"0"+o}).join("")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var o=[],t=0;t<e.length;t+=2)o.push(parseInt(e.substring(t,t+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(e){for(var o=[],t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);128>n?o[t++]=n:2048>n?(o[t++]=n>>6|192,o[t++]=63&n|128):(o[t++]=n>>12|224,o[t++]=n>>6&63|128,o[t++]=63&n|128)}return o},goog.crypt.utf8ByteArrayToString=function(e){for(var o=[],t=0,r=0;t<e.length;){var n=e[t++];if(128>n)o[r++]=String.fromCharCode(n);else if(n>191&&224>n){var g=e[t++];o[r++]=String.fromCharCode((31&n)<<6|63&g)}else{var g=e[t++],i=e[t++];o[r++]=String.fromCharCode((15&n)<<12|(63&g)<<6|63&i)}}return o.join("")},goog.crypt.xorByteArray=function(e,o){goog.asserts.assert(e.length==o.length,"XOR array lengths must match");for(var t=[],r=0;r<e.length;r++)t.push(e[r]^o[r]);return t},goog.provide("goog.crypt.base64"),goog.require("goog.asserts"),goog.require("goog.crypt"),goog.require("goog.userAgent"),goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.charToByteMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.HAS_NATIVE_SUPPORT=goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA||"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,o){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),goog.crypt.base64.init_();for(var t=o?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,r=[],n=0;n<e.length;n+=3){var g=e[n],i=n+1<e.length,s=i?e[n+1]:0,a=n+2<e.length,u=a?e[n+2]:0,l=g>>2,c=(3&g)<<4|s>>4,d=(15&s)<<2|u>>6,h=63&u;a||(h=64,i||(d=64)),r.push(t[l],t[c],t[d],t[h])}return r.join("")},goog.crypt.base64.encodeString=function(e,o){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!o?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),o)},goog.crypt.base64.decodeString=function(e,o){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!o?goog.global.atob(e):goog.crypt.byteArrayToString(goog.crypt.base64.decodeStringToByteArray(e,o))},goog.crypt.base64.decodeStringToByteArray=function(e,o){goog.crypt.base64.init_();for(var t=o?goog.crypt.base64.charToByteMapWebSafe_:goog.crypt.base64.charToByteMap_,r=[],n=0;n<e.length;){var g=t[e.charAt(n++)],i=n<e.length,s=i?t[e.charAt(n)]:0;++n;var a=n<e.length,u=a?t[e.charAt(n)]:64;++n;var l=n<e.length,c=l?t[e.charAt(n)]:64;if(++n,null==g||null==s||null==u||null==c)throw Error();var d=g<<2|s>>4;if(r.push(d),64!=u){var h=s<<4&240|u>>2;if(r.push(h),64!=c){var f=u<<6&192|c;r.push(f)}}}return r},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={},goog.crypt.base64.charToByteMapWebSafe_={};for(var e=0;e<goog.crypt.base64.ENCODED_VALS.length;e++)goog.crypt.base64.byteToCharMap_[e]=goog.crypt.base64.ENCODED_VALS.charAt(e),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[e]]=e,goog.crypt.base64.byteToCharMapWebSafe_[e]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e),goog.crypt.base64.charToByteMapWebSafe_[goog.crypt.base64.byteToCharMapWebSafe_[e]]=e,e<goog.crypt.base64.ENCODED_VALS_BASE.length||(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e)]=e,goog.crypt.base64.charToByteMapWebSafe_[goog.crypt.base64.ENCODED_VALS.charAt(e)]=e)}},goog.provide("w69b.imgtools"),goog.require("goog.asserts"),goog.require("goog.crypt.base64"),goog.require("goog.math.Size"),goog.scope(function(){var e=w69b.imgtools,o=goog.math.Size,t=goog.crypt.base64;e.getCanvasAsBlob=function(e,o){if(e.toBlob)e.toBlob(o);else{if(!e.toDataURL)throw Error();var r=e.toDataURL(),n="data:image/png;base64,";if(!goog.string.startsWith(r,n))throw Error();var g=r.substring(n.length);g=new Uint8Array(t.decodeStringToByteArray(g));var i=new Blob([g],{type:"image/png"});o(i)}},e.getImageData=function(e,t){var r=new o(e.width||e.videoWidth,e.height||e.videoHeight);goog.asserts.assert(r.width>0&&r.height>0);var n=document.createElement("canvas");t&&(goog.isNumber(t)?(t=new o(t,t),r.fitsInside(t)||(r=r.scaleToFit(t))):r.fitsInside(t)||(r=r.scaleToCover(t)),r.floor()),n.width=r.width,n.height=r.height;var g=n.getContext("2d");return g.drawImage(e,0,0,r.width,r.height),g.getImageData(0,0,r.width,r.height)},e.scaleIfLarger=function(e,o){var t=Math.min(o/e.width,o/e.height);t>1||e.scale(t).round()},goog.exportSymbol("w69b.imgtools.getImageData",e.getImageData),goog.exportSymbol("w69b.imgtools.getCanvasAsBlob",e.getCanvasAsBlob)}),goog.provide("w69b.LocalVideoCapturer"),goog.require("goog.Disposable"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.math.Size"),goog.require("w69b.imgtools"),goog.scope(function(){goog.math.Size,w69b.imgtools;w69b.LocalVideoCapturer=function(){goog.base(this),this.backCanvas_=document.createElement("canvas"),this.mediaVideo_=document.createElement("video"),this.mediaVideo_.setAttribute("autoplay","true"),this.backContext_=this.backCanvas_.getContext("2d")};var e=w69b.LocalVideoCapturer;goog.inherits(e,goog.Disposable);var o=e.prototype;e.getMedia=navigator.mediaDevices?navigator.mediaDevices.getUserMedia:void 0,e.getMedia&&(e.getMedia=e.getMedia.bind(navigator.mediaDevices)),o.backCanvas_=null,o.backContext_=null,o.mediaVideo_=null,o.stream_=null,o.getVideo=function(){return this.mediaVideo_},o.start=function(e){goog.events.listenOnce(this.mediaVideo_,"canplay",function(){this.waitForVideoSize_(e)},!1,this),this.getUserMedia()},o.waitForVideoSize_=function(e){this.mediaVideo_.videoWidth>0&&this.mediaVideo_.videoHeight>0?e():window.setTimeout(this.waitForVideoSize_.bind(this,e),100)},o.getImageData=function(e){return this.drawAndGetCanvas(e),this.backContext_.getImageData(0,0,e.width,e.height)},o.drawAndGetCanvas=function(e){var o=this.mediaVideo_,t=this.backCanvas_;goog.asserts.assert(o.videoWidth>0&&o.videoWidth>0),(t.width!=e.width||t.height!=e.height)&&(t.width=e.width,t.height=e.height);var r=this.backContext_;return this.drawOnCanvas(t,r),t},o.drawOnCanvas=function(e,o){var t=this.getVideo(),r=e.width,n=e.height,g=Math.max(n/t.videoHeight,r/t.videoWidth);o.drawImage(t,0,0,t.videoWidth*g,t.videoHeight*g)},o.onGetMediaSuccess=function(e){null!==this.mediaVideo_&&(this.mediaVideo_.src=window.URL.createObjectURL(e),this.mediaVideo_.play(),this.stream_=e)},o.onGetMediaError=function(e){window.console.log("error code:"),window.console.log(e)},o.getUserMedia=function(){function o(){var o={audio:!1,video:{facingMode:"environment"}};e.getMedia(o).then(t.onGetMediaSuccess.bind(t)).catch(t.onGetMediaError.bind(t))}var t=this;window.MediaStreamTrack&&window.MediaStreamTrack.getSources?window.MediaStreamTrack.getSources(o):o([])},o.disposeInternal=function(){var e=this.mediaVideo_.src;this.mediaVideo_.pause(),this.mediaVideo_.src="",window.URL&&window.URL.revokeObjectURL&&window.URL.revokeObjectURL(e),this.mediaVideo_=null,this.stream_&&(this.stream_.stop&&this.stream_.stop(),this.stream_.getTracks&&this.stream_.getTracks().forEach(function(e){e.stop()}))}}),goog.provide("w69b.img.BitMatrixLike"),goog.scope(function(){w69b.img.BitMatrixLike=function(){},w69b.img.BitMatrixLike.prototype.getWidth=function(){},w69b.img.BitMatrixLike.prototype.getHeight=function(){},w69b.img.BitMatrixLike.prototype.get=function(){}}),goog.provide("w69b.img.RGBABitMatrix"),goog.require("w69b.img.BitMatrixLike"),goog.scope(function(){w69b.img.RGBABitMatrix=function(e,o,t){this.data=t,this.width=e,this.height=o};var e=w69b.img.RGBABitMatrix.prototype;e.getWidth=function(){return this.width},e.getHeight=function(){return this.height},e.get=function(e,o){var t=4*(o*this.width+e);return this.data[t]>0?!1:!0}}),goog.provide("w69b.img.RGBAImageData"),goog.scope(function(){w69b.img.RGBAImageData=function(e,o,t){this.data=t||new Uint8Array(4*e*o),this.width=e,this.height=o};var e=w69b.img.RGBAImageData.prototype;e.set=function(e,o,t,r,n,g){var i=4*(o*this.width+e);this.data[i]=t,this.data[i+1]=r,this.data[i+2]=n,this.data[i+3]=g||255},e.setGray=function(e,o,t){this.set(e,o,t,t,t,255)},e.get=function(e,o){var t=4*(o*this.width+e);return[this.data[t],this.data[t+1],this.data[t+2],this.data[t+3]]}}),goog.provide("w69b.img.WebGLParams"),goog.require("goog.object"),goog.scope(function(){w69b.img.WebGLParams=function(e){this.data_={},e&&this.set(e)};var e=w69b.img.WebGLParams.prototype;e.clone=function(){var e=new w69b.img.WebGLParams;return e.data_=goog.object.clone(this.data_),e},e.set=function(e){return goog.object.forEach(e,function(e,o){e.length>0&&"i"==e[0]?this.setInt(o,e.slice(1)):this.setFloat(o,e)},this),this},e.setInternal_=function(e,o,t){this.data_[e]=[o,t]},e.setInt=function(e,o){var t=o.length||1;return this.setInternal_(e,t+"i",o),this},e.setFloat=function(e,o){var t=o.length||1;return this.setInternal_(e,t+"f",o),this},e.getValue=function(e){var o=this.data_[e];return o?o[1]:null},e.apply=function(e){var o=e.getNamedSetterFunctions();goog.object.forEach(this.data_,function(t,r){var n=t[0],g=t[1];o[n].apply(e,[r].concat(g))},this)},e.useAndApply=function(e){e.use(),e.initCommonAttributes(),this.apply(e)}}),goog.provide("w69b.img.WebGLPipeline"),goog.scope(function(){w69b.img.WebGLPipeline=function(e){this.passes_=[],this.filter_=e};var e=w69b.img.WebGLPipeline.prototype;e.addPass=function(e,o){this.passes_.push([e,o])},e.addCustomPass=function(e){this.passes_.push(e)},e.render=function(e,o,t,r){var n,g=null,i=this.filter_,s=this.passes_.length;n=s%2==0?[t,o]:[o,t];for(var a=e,u=0;s>u;++u){var l=this.passes_[u];if(l.length){var c=l[0],d=l[1];if(c!=g&&(c.use(),c.initCommonAttributes(),g=c),c.setUniform1i("imageIn",a),d.apply(c),u==s-1&&r)i.unbindFramebuffer();else{var h=n[u%2];i.attachTextureToFB(h),a=h}var f=d.getValue("outOffset");i.setViewport(f?f[0]:0,f?f[1]:0,d.getValue("width"),d.getValue("height")),c.drawRect()}else{var p=n[u%2],m=n[(u+1)%2];l(a,p,m),a=p}}}}),goog.provide("w69b.shaders.rectVertex"),w69b.shaders.rectVertex="attribute vec2 position;\nvoid main(void) {\ngl_Position = vec4(position, 0, 1);\n}",goog.provide("w69b.shaders.scale"),w69b.shaders.scale="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nuniform float outOffsetX;\nuniform float inOffsetX;\nvec2 outOffset = vec2(outOffsetX, 0);\nvec2 inOffset = vec2(inOffsetX, 0) / texdim;\nvec2 stepX = vec2(0.7, 0) / indim;\nvec2 stepY = vec2(0, 0.7) / indim;\nvec2 scale = indim / dim;\nvec3 combine(vec3 color1, vec3 color2) {\nreturn vec3(\nmin(color1.x, color2.x),\nmax(color1.y, color2.y),\ncolor1.z + color2.z);\n}\nvec3 sample(vec2 p, vec2 offset) {\nvec2 pos = (p + offset);\npos = min(vec2(1.0, 1.0), pos);\npos = max(vec2(0.0, 0.0), pos);\npos = inOffset + texscale * pos;\nreturn texture2D(imageIn, pos).xyz;\n}\nvoid main() {\nvec2 p = (getNormalizedFragCoord() - outOffset) / dim;\nvec3 result = sample(p, - stepX - stepY);\nresult = combine(result, sample(p, stepX + stepY));\nresult = combine(result, sample(p, stepX - stepY));\nresult = combine(result, sample(p, -stepX + stepY));\nresult.z /= 4.0;\ngl_FragColor = vec4(result, 1.0);\n}",goog.provide("w69b.shaders.threshold"),w69b.shaders.threshold="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nuniform sampler2D origImage;\nvec2 texscaleBlackLevels = indim / texdim;\nvoid main() {\nvec2 p = getNormalizedFragCoord() / dim;\nvec4 color = texture2D(origImage, p);\nfloat gray = (color.r + color.g + color.b) / 3.0;\nfloat black = texture2D(imageIn, p * texscaleBlackLevels).z;\nfloat binary = gray > black ? 1.0 : 0.0;\ngl_FragColor = vec4(binary, binary, binary, 1.0);\n}",goog.provide("w69b.shaders.binarizeAvg1"),w69b.shaders.binarizeAvg1="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvec2 mirrorMargin = 1.0 / indim;\nvec2 mirrorBorder = 1.0 - mirrorMargin;\nvoid mirror(inout vec2 pos) {\npos = pos - step(mirrorBorder, pos) * (pos - mirrorBorder);\npos *= 2.0 * (0.5 - step(0.0, -pos));\n}\nuniform vec2 sampleDirection;\nvec2 sampleStep = sampleDirection / indim;\nvoid addSample(inout vec4 result, vec2 p, float offset, float weight) {\nvec2 pos = (p + offset * sampleStep);\nmirror(pos);\npos *= texscale;\nvec4 color = texture2D(imageIn, pos);\nfloat gray = (color.r + color.g + color.b) / 3.0;\nresult.r = min(result.r, gray);\nresult.g = max(result.g, gray);\nresult.b += gray * weight;\n}\nvoid gauss9(inout vec4 result, vec2 p) {\naddSample(result, p, -4.0, 0.0459);\naddSample(result, p, -3.0, 0.0822);\naddSample(result, p, -2.0, 0.1247);\naddSample(result, p, -1.0, 0.1601);\naddSample(result, p, 0.0, 0.1741);\naddSample(result, p, 1.0, 0.1601);\naddSample(result, p, 2.0, 0.1247);\naddSample(result, p, 3.0, 0.0822);\naddSample(result, p, 4.0, 0.0459);\n}\nvoid main() {\nvec2 p = getNormalizedFragCoord() / dim;\nvec4 result  = vec4(1.0, 0.0, 0.0, 1.0);\ngauss9(result, p);\ngl_FragColor = result;\n}",goog.provide("w69b.shaders.binarizeGroup"),w69b.shaders.binarizeGroup="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvec2 mirrorMargin = 1.0 / indim;\nvec2 mirrorBorder = 1.0 - mirrorMargin;\nvoid mirror(inout vec2 pos) {\npos = pos - step(mirrorBorder, pos) * (pos - mirrorBorder);\npos *= 2.0 * (0.5 - step(0.0, -pos));\n}\nuniform vec2 sampleDirection;\nuniform vec2 outOffset;\nuniform vec2 inOffset;\nvec2 inOffsetNormalized = inOffset / texdim;\nvec2 sampleStep = sampleDirection / indim;\nvoid addSample(inout vec4 result, vec2 p, float offset, float weight) {\nvec2 pos = (p + offset * sampleStep);\nmirror(pos);\npos *= texscale;\npos += inOffsetNormalized;\nvec4 color = texture2D(imageIn, pos);\nresult.r = min(result.r, color.r);\nresult.g = max(result.g, color.g);\nresult.b += color.b * weight;\n}\nvoid gauss9(inout vec4 result, vec2 p) {\naddSample(result, p, -4.0, 0.0459);\naddSample(result, p, -3.0, 0.0822);\naddSample(result, p, -2.0, 0.1247);\naddSample(result, p, -1.0, 0.1601);\naddSample(result, p, 0.0, 0.1741);\naddSample(result, p, 1.0, 0.1601);\naddSample(result, p, 2.0, 0.1247);\naddSample(result, p, 3.0, 0.0822);\naddSample(result, p, 4.0, 0.0459);\n}\nvoid main() {\nvec2 p = (getNormalizedFragCoord() - outOffset) / dim;\nvec4 result  = vec4(0.0, 0.0, 0.0, 1.0);\ngauss9(result, p);\n// //\ngl_FragColor = result;\n//\n}",goog.provide("w69b.shaders.debug"),w69b.shaders.debug="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nuniform vec2 outOffset;\nvoid main() {\nvec2 p = (getNormalizedFragCoord() - outOffset) / dim;\nvec4 color = vec4(1.0);\ncolor.rg = p;\ngl_FragColor = color;\n}",goog.provide("w69b.shaders.dummy"),w69b.shaders.dummy="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvec2 mirrorMargin = 1.0 / indim;\nvec2 mirrorBorder = 1.0 - mirrorMargin;\nvoid mirror(inout vec2 pos) {\npos = pos - step(mirrorBorder, pos) * (pos - mirrorBorder);\npos *= 2.0 * (0.5 - step(0.0, -pos));\n}\nvoid main() {\nvec2 p = (getNormalizedFragCoord() / dim);\nmirror(p);\np *= texscale;\ngl_FragColor = texture2D(imageIn, p);\n}",goog.provide("w69b.shaders.estimateBlack"),w69b.shaders.estimateBlack="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvec2 mirrorMargin = 1.0 / indim;\nvec2 mirrorBorder = 1.0 - mirrorMargin;\nvoid mirror(inout vec2 pos) {\npos = pos - step(mirrorBorder, pos) * (pos - mirrorBorder);\npos *= 2.0 * (0.5 - step(0.0, -pos));\n}\nvec4 sampleAt(vec2 pos, float scale) {\nmirror(pos);\nvec2 offset = scale * vec2(indim.x, 0) / texdim;\npos = pos * texscale + offset;\nreturn texture2D(imageIn, pos);\n}\nfloat getDynRange(vec4 color) {\nreturn color.g - color.r;\n}\nvoid main() {\nvec2 p = getNormalizedFragCoord() / dim;\nvec4 color;\nfloat minDynRange = 0.3;\ncolor = sampleAt(p, 0.0);\nif (getDynRange(color) < minDynRange) {\ncolor = sampleAt(p, 1.0);\nif (getDynRange(color) < minDynRange) {\ncolor = sampleAt(p, 2.0);\n}\n}\ncolor.z -= 0.02;\ngl_FragColor = color;\n}",goog.provide("w69b.shaders.extractChannel"),w69b.shaders.extractChannel="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nuniform int channel;\nvoid main() {\nvec2 p = (getNormalizedFragCoord() / dim);\np *= texscale;\nvec4 color = texture2D(imageIn, p);\nfloat gray = color.b;\ngl_FragColor = vec4(gray, gray, gray, 1.0);\n}",goog.provide("w69b.shaders.fragCoordTest"),w69b.shaders.fragCoordTest="precision mediump float;\nvoid main() {\nvec4 result = vec4(1.0);\nresult.rg = gl_FragCoord.xy / 10.0;\ngl_FragColor = result;\n}",goog.provide("w69b.shaders.gaussBlur"),w69b.shaders.gaussBlur="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvec2 mirrorMargin = 1.0 / indim;\nvec2 mirrorBorder = 1.0 - mirrorMargin;\nvoid mirror(inout vec2 pos) {\npos = pos - step(mirrorBorder, pos) * (pos - mirrorBorder);\npos *= 2.0 * (0.5 - step(0.0, -pos));\n}\nuniform vec2 sampleDirection;\nuniform vec2 outOffset;\nuniform vec2 inOffset;\nvec2 sampleStep = sampleDirection / texdim;\nvec2 inOffsetNormalized = inOffset / texdim;\nvoid addSample(inout vec4 result, vec2 p, float offset, float weight) {\nvec2 pos = (p + (offset * sampleStep));\nmirror(pos);\npos *= texscale;\npos += inOffsetNormalized;\nvec4 color = texture2D(imageIn, pos);\nresult.rgb += color.rgb * weight;\n}\nvoid gauss9(inout vec4 result, vec2 p) {\naddSample(result, p, -4.0, 0.0459);\naddSample(result, p, -3.0, 0.0822);\naddSample(result, p, -2.0, 0.1247);\naddSample(result, p, -1.0, 0.1601);\naddSample(result, p, 0.0, 0.1741);\naddSample(result, p, 1.0, 0.1601);\naddSample(result, p, 2.0, 0.1247);\naddSample(result, p, 3.0, 0.0822);\naddSample(result, p, 4.0, 0.0459);\n}\nvoid main() {\nvec2 p = (getNormalizedFragCoord() - outOffset) / dim;\nvec4 result  = vec4(0.0, 0.0, 0.0, 1.0);\ngauss9(result, p);\ngl_FragColor = result;\n}",goog.provide("w69b.shaders.grayscale"),w69b.shaders.grayscale="precision mediump float;\nuniform float width;\nuniform float height;\nuniform float inwidth;\nuniform float inheight;\nuniform float texwidth;\nuniform float texheight;\nuniform vec2 fragCoordOffset;\nuniform sampler2D imageIn;\nvec2 dim = vec2(width, height);\nvec2 texdim = vec2(texwidth, texheight);\nvec2 indim = vec2(inwidth, inheight);\nvec2 texscale = indim / texdim;\nvec2 getNormalizedFragCoord() {\nreturn (gl_FragCoord.xy - fragCoordOffset) + 0.5;\n}\nvoid main() {\nvec2 p = (getNormalizedFragCoord() / dim);\np *= texscale;\nvec4 color = texture2D(imageIn, p);\nfloat gray = (color.r + color.g + color.b) / 3.0;\ngl_FragColor = vec4(gray, gray, gray, 1.0);\n}",goog.provide("w69b.img.WebGLProgram"),goog.require("w69b.shaders.rectVertex"),goog.scope(function(){w69b.img.WebGLProgram=function(e,o,t){this.context_=e;var r=this.buildShader_(t||w69b.shaders.rectVertex,!0),n=this.buildShader_(o,!1),g=e.createProgram();if(e.attachShader(g,r),e.attachShader(g,n),e.linkProgram(g),!e.getProgramParameter(g,e.LINK_STATUS))throw Error("Could not link shader program: "+e.getProgramInfoLog(g));this.glProgram=g};var e=w69b.img.WebGLProgram.prototype;e.glProgram=null,e.contex_=null,e.initCommonAttributes=function(){var e=this.context_,o=this.glProgram,t=e.getAttribLocation(o,"position"),r=e.createBuffer(),n=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1];e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0)},e.use=function(){this.context_.useProgram(this.glProgram)},e.drawRect=function(){var e=this.context_;e.drawArrays(e.TRIANGLES,0,6)},e.setUniform1f=function(e,o){var t=this.context_.getUniformLocation(this.glProgram,e);this.context_.uniform1f(t,o)},e.setUniform2f=function(e,o,t){var r=this.context_.getUniformLocation(this.glProgram,e);this.context_.uniform2f(r,o,t)},e.setUniform1fv=function(e,o){var t=this.context_.getUniformLocation(this.glProgram,e);this.context_.uniform1fv(t,o)},e.setUniform1i=function(e,o){var t=this.context_.getUniformLocation(this.glProgram,e);this.context_.uniform1i(t,o)},e.getNamedSetterFunctions=function(){return this.namedSetterFns_},e.namedSetterFns_={"1i":e.setUniform1i,"1f":e.setUniform1f,"2f":e.setUniform2f},e.buildShader_=function(e,o){var t=this.context_,r=t.createShader(o?t.VERTEX_SHADER:t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw Error("Could not compile shader: "+t.getShaderInfoLog(r));return r}}),goog.provide("w69b.img.NotSupportedError"),goog.provide("w69b.img.WebGLFilter"),goog.require("goog.debug.Error"),goog.require("w69b.img.RGBAImageData"),goog.require("w69b.img.WebGLParams"),goog.require("w69b.img.WebGLPipeline"),goog.require("w69b.img.WebGLProgram"),goog.require("w69b.shaders.fragCoordTest"),goog.scope(function(){var e=w69b.img.WebGLProgram,o=w69b.img.RGBAImageData;w69b.img.NotSupportedError=function(){goog.base(this)},goog.inherits(w69b.img.NotSupportedError,goog.debug.Error),w69b.img.NotSupportedError.prototype.name="NotSupported",w69b.img.WebGLFilter=function(e){this.textures=[],this.canvas_=e||document.createElement("canvas");try{this.context_=this.canvas_.getContext("webgl")||this.canvas_.getContext("experimental-webgl")}catch(o){}if(!this.context_)throw new w69b.img.NotSupportedError;w69b.img.WebGLFilter.testFragCoordOffset(),this.framebuffer_=this.context_.createFramebuffer()};var t=w69b.img.WebGLFilter;t.fragCoordOffset_=null;var r=w69b.img.WebGLFilter.prototype;r.context_=null,r.setSize=function(e,o){this.canvas_.width=e,this.canvas_.height=o},r.getWidth=function(){return this.canvas_.width},r.getHeight=function(){return this.canvas_.height},r.setViewport=function(e,o,t,r){this.context_.viewport(e,o,t,r)},r.unbindFramebuffer=function(){var e=this.context_;e.bindFramebuffer(e.FRAMEBUFFER,null)},r.getContext=function(){return this.context_},r.getTexture=function(e){return this.textures[e]},r.createTextures=function(e){for(var o=this.getWidth(),t=this.getHeight(),r=0;e>r;++r)this.textures[r]=this.createTexture(r,o,t)},r.setTextureFlipped=function(e){var o=this.context_;o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.textures[e]),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,1),o.bindTexture(o.TEXTURE_2D,null)},r.createTexture=function(e,o,t){var r=this.context_,n=r.createTexture();return r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),o&&t&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,o,t,0,r.RGBA,r.UNSIGNED_BYTE,null),n},r.attachTextureToFB=function(e,o){var t=this.context_,r=this.textures[e];t.bindFramebuffer(t.FRAMEBUFFER,o||this.framebuffer_),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)},r.getFragCoordOffset=function(){return t.fragCoordOffset_},r.getImageData=function(){var e=this.context_,t=this.getWidth(),r=this.getHeight(),n=new Uint8Array(4*t*r);return e.readPixels(0,0,t,r,e.RGBA,e.UNSIGNED_BYTE,n),new o(t,r,n)},t.testFragCoordOffset=function(){function o(e){return Math.round(100*e/255)/10}if(!t.fragCoordOffset_){var r=document.createElement("canvas"),n=r.getContext("webgl")||r.getContext("experimental-webgl");r.width=20,r.height=20,r.imageSmoothingEnabled=!1;var g=new e(n,w69b.shaders.fragCoordTest);g.use(),g.initCommonAttributes(),g.drawRect();var i=new Uint8Array(4*r.width*r.height);n.readPixels(0,0,r.width,r.height,n.RGBA,n.UNSIGNED_BYTE,i);var s=i[0],a=i[1];s=o(s),a=o(a),t.fragCoordOffset_=[s,a]}}}),goog.require("goog.math.Size"),goog.provide("w69b.img.WebGLBinarizer"),goog.require("w69b.img.RGBABitMatrix"),goog.require("w69b.img.RGBAImageData"),goog.require("w69b.img.WebGLFilter"),goog.require("w69b.img.WebGLParams"),goog.require("w69b.img.WebGLPipeline"),goog.require("w69b.img.WebGLProgram"),goog.require("w69b.shaders.binarizeAvg1"),goog.require("w69b.shaders.binarizeGroup"),goog.require("w69b.shaders.debug"),goog.require("w69b.shaders.estimateBlack"),goog.require("w69b.shaders.extractChannel"),goog.require("w69b.shaders.fragCoordTest"),goog.require("w69b.shaders.gaussBlur"),goog.require("w69b.shaders.grayscale"),goog.require("w69b.shaders.rectVertex"),goog.require("w69b.shaders.scale"),goog.scope(function(){var e=w69b.img.WebGLFilter,o=w69b.img.WebGLProgram,t=w69b.img.WebGLParams,r=w69b.img.WebGLPipeline,n=w69b.img.RGBAImageData,g=w69b.img.RGBABitMatrix;w69b.img.WebGLBinarizer=function(o){this.filter_=new e(o)};var i=w69b.img.WebGLBinarizer.prototype,s=w69b.img.WebGLBinarizer;s.isSupported_=null,i.pipeline_=null,i.setupCalled_=!1,i.flipInput_=!1,i.inSize_=null,i.getProgram=function(e){return new o(this.filter_.getContext(),e)},i.setFlipInput=function(e){this.flipInput_=e},i.setup=function(e,o,t,r){r||(r=o),t||(t=e),this.setupCalled_||(this.programDynRange1=this.getProgram(w69b.shaders.binarizeAvg1),this.programDynRange2=this.getProgram(w69b.shaders.binarizeGroup),this.programEstimateBlack=this.getProgram(w69b.shaders.estimateBlack),this.programThreshold=this.getProgram(w69b.shaders.threshold),this.programGauss=this.getProgram(w69b.shaders.gaussBlur)),this.setupCalled_&&this.filter_.getWidth()==e&&this.filter_.getHeight()==o&&this.inSize_.width==t&&this.inSize_.height==r||(this.filter_.setSize(e,o),this.inSize_=new goog.math.Size(t,r),this.filter_.createTextures(3),this.flipInput_&&this.filter_.setTextureFlipped(0),this.pipeline_=this.createPipeline()),this.setupCalled_=!0
},i.createPipeline=function(){var e=this.filter_.getWidth(),o=this.filter_.getHeight(),n=this.inSize_,g=new r(this.filter_),i=new t({width:e,height:o,inwidth:e,inheight:o,texwidth:e,texheight:o,inOffset:[0,0],outOffset:[0,0],fragCoordOffset:this.filter_.getFragCoordOffset()}),s=3,a=Math.max(1,e>>s),u=Math.max(1,o>>s),l=i.clone().set({width:a,height:u,inwidth:a,inheight:u});return g.addPass(this.programGauss,i.clone().set({width:a,sampleDirection:[0,1],texwidth:n.width,texheight:n.height})),g.addPass(this.programGauss,l.clone().set({inheight:o,sampleDirection:[1,0]})),g.addPass(this.programDynRange1,l.clone().set({sampleDirection:[0,1]})),g.addPass(this.programDynRange2,l.clone().set({sampleDirection:[1,0]})),g.addPass(this.programDynRange2,l.clone().set({sampleDirection:[0,2]})),g.addPass(this.programDynRange2,l.clone().set({sampleDirection:[2,0],outOffset:[a,0]})),g.addPass(this.programDynRange2,l.clone().set({sampleDirection:[0,2],inOffset:[a,0]})),g.addPass(this.programDynRange2,l.clone().set({sampleDirection:[2,0],outOffset:[2*a,0]})),g.addPass(this.programEstimateBlack,l),g.addPass(this.programThreshold,l.clone().setInt("origImage",0).set({width:n.width,height:n.height,inwidth:a,inheight:u})),g},i.getImageData=function(){return this.filter_.getImageData()},i.getBitMatrix=function(){var e=this.filter_.getImageData();return new g(e.width,e.height,e.data)},i.render=function(e){if(!this.setupCalled_)throw Error();var o=this.filter_.getContext();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.filter_.getTexture(0)),e instanceof n?o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.width,e.height,0,o.RGBA,o.UNSIGNED_BYTE,e.data):o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,e),this.pipeline_.render(0,1,2,!0)},s.createSupportCheckImage=function(e,o){for(var t=new Uint8Array(4*e*o),r=0;o>r;++r)for(var g=0;e>g;++g){var i=4*(e*r+g),s=g;t[i]=s,t[i+1]=s,t[i+2]=s,t[i+3]=255}return new n(e,o,t)},s.isSupported=function(){if(null===s.isSupported_){var e=100,o=20,t=s.createSupportCheckImage(e,o);t.setGray(30,4,18),t.setGray(90,4,50);try{var r=new w69b.img.WebGLBinarizer;r.setFlipInput(!1),r.setup(e,o),r.render(t)}catch(n){return console.debug("No webgl binarizer support:",n),s.isSupported_=!1,!1}var g=r.getImageData();s.isSupported_=0==g.get(30,4)[0]&&0==g.get(90,4)[0]&&255==g.get(31,4)[0]&&255==g.get(29,4)[0]}return s.isSupported_}}),goog.provide("goog.Thenable"),goog.Thenable=function(){},goog.Thenable.prototype.then=function(){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){goog.exportProperty(e.prototype,"then",e.prototype.then),COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(o){return!1}},goog.provide("goog.async.FreeList"),goog.async.FreeList=goog.defineClass(null,{constructor:function(e,o,t){this.limit_=t,this.create_=e,this.reset_=o,this.occupants_=0,this.head_=null},get:function(){var e;return this.occupants_>0?(this.occupants_--,e=this.head_,this.head_=e.next,e.next=null):e=this.create_(),e},put:function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},occupants:function(){return this.occupants_}}),goog.provide("goog.async.WorkItem"),goog.provide("goog.async.WorkQueue"),goog.require("goog.asserts"),goog.require("goog.async.FreeList"),goog.async.WorkQueue=function(){this.workHead_=null,this.workTail_=null},goog.define("goog.async.WorkQueue.DEFAULT_MAX_UNUSED",100),goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(e){e.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,o){var t=this.getUnusedItem_();t.set(e,o),this.workTail_?(this.workTail_.next=t,this.workTail_=t):(goog.asserts.assert(!this.workHead_),this.workHead_=t,this.workTail_=t)},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.fn=null,this.scope=null,this.next=null},goog.async.WorkItem.prototype.set=function(e,o){this.fn=e,this.scope=o,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.fn=null,this.scope=null,this.next=null},goog.provide("goog.dom.TagName"),goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.provide("goog.functions"),goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,o){return o=o||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.withReturnValue=function(e,o){return goog.functions.sequence(e,goog.functions.constant(o))},goog.functions.equalTo=function(e,o){return function(t){return o?e==t:e===t}},goog.functions.compose=function(){var e=arguments,o=e.length;return function(){var t;o&&(t=e[o-1].apply(this,arguments));for(var r=o-2;r>=0;r--)t=e[r].call(this,t);return t}},goog.functions.sequence=function(){var e=arguments,o=e.length;return function(){for(var t,r=0;o>r;r++)t=e[r].apply(this,arguments);return t}},goog.functions.and=function(){var e=arguments,o=e.length;return function(){for(var t=0;o>t;t++)if(!e[t].apply(this,arguments))return!1;return!0}},goog.functions.or=function(){var e=arguments,o=e.length;return function(){for(var t=0;o>t;t++)if(e[t].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e){var o=function(){};o.prototype=e.prototype;var t=new o;return e.apply(t,Array.prototype.slice.call(arguments,1)),t},goog.define("goog.functions.CACHE_RETURN_VALUE",!0),goog.functions.cacheReturnValue=function(e){var o,t=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(o=e(),t=!0),o):e()}},goog.functions.once=function(e){var o=e;return function(){if(o){var e=o;o=null,e()}}},goog.functions.debounce=function(e,o,t){t&&(e=goog.bind(e,t));var r=null;return function(){goog.global.clearTimeout(r),r=goog.global.setTimeout(e,o)}},goog.functions.throttle=function(e,o,t){t&&(e=goog.bind(e,t));var r=null,n=!1,g=function(){r=goog.global.setTimeout(i,o),e()},i=function(){r=null,n&&(n=!1,g())};return function(){r?n=!0:g()}},goog.provide("goog.async.nextTick"),goog.provide("goog.async.throwException"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.dom.TagName"),goog.require("goog.functions"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,o,t){var r=e;return o&&(r=goog.bind(e,o)),r=goog.async.nextTick.wrapCallback_(r),!goog.isFunction(goog.global.setImmediate)||!t&&goog.global.Window&&goog.global.Window.prototype&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),void goog.async.nextTick.setImmediate_(r)):void goog.global.setImmediate(r)},goog.async.nextTick.setImmediate_,goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement(goog.dom.TagName.IFRAME);e.style.display="none",e.src="",document.documentElement.appendChild(e);var o=e.contentWindow,t=o.document;t.open(),t.write(""),t.close();var r="callImmediate"+Math.random(),n="file:"==o.location.protocol?"*":o.location.protocol+"//"+o.location.host,g=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=r||this.port1.onmessage()},this);o.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){o.postMessage(r,n)}}}),void 0!==e&&!goog.labs.userAgent.browser.isIE()){var o=new e,t={},r=t;return o.port1.onmessage=function(){if(goog.isDef(t.next)){t=t.next;var e=t.cb;t.cb=null,e()}},function(e){r.next={cb:e},r=r.next,o.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT)?function(e){var o=document.createElement(goog.dom.TagName.SCRIPT);o.onreadystatechange=function(){o.onreadystatechange=null,o.parentNode.removeChild(o),o=null,e(),e=null},document.documentElement.appendChild(o)}:function(e){goog.global.setTimeout(e,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.provide("goog.testing.watchers"),goog.testing.watchers.resetWatchers_=[],goog.testing.watchers.signalClockReset=function(){for(var e=goog.testing.watchers.resetWatchers_,o=0;o<e.length;o++)goog.testing.watchers.resetWatchers_[o]()},goog.testing.watchers.watchClockReset=function(e){goog.testing.watchers.resetWatchers_.push(e)},goog.provide("goog.async.run"),goog.require("goog.async.WorkQueue"),goog.require("goog.async.nextTick"),goog.require("goog.async.throwException"),goog.require("goog.testing.watchers"),goog.async.run=function(e,o){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,o)},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.schedule_,goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue_=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue},goog.testing.watchers.watchClockReset(goog.async.run.resetQueue_)),goog.async.run.processWorkQueue=function(){for(var e=null;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(o){goog.async.throwException(o)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.provide("goog.promise.Resolver"),goog.promise.Resolver=function(){},goog.promise.Resolver.prototype.promise,goog.promise.Resolver.prototype.resolve,goog.promise.Resolver.prototype.reject,goog.provide("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.asserts"),goog.require("goog.async.FreeList"),goog.require("goog.async.run"),goog.require("goog.async.throwException"),goog.require("goog.debug.Error"),goog.require("goog.promise.Resolver"),goog.Promise=function(e,o){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.callbackEntriesTail_=null,this.executing_=!1,goog.Promise.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var t=this;e.call(o,function(e){t.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{throw e instanceof Error?e:Error("Promise rejected.")}catch(o){}t.resolve_(goog.Promise.State_.REJECTED,e)})}catch(r){this.resolve_(goog.Promise.State_.REJECTED,r)}},goog.define("goog.Promise.LONG_STACK_TRACES",!1),goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY",0),goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.child=null,this.onFulfilled=null,this.onRejected=null,this.context=null,this.next=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.child=null,this.onFulfilled=null,this.onRejected=null,this.context=null,this.always=!1},goog.define("goog.Promise.DEFAULT_MAX_UNUSED",100),goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,o,t){var r=goog.Promise.freelist_.get();return r.onFulfilled=e,r.onRejected=o,r.context=t,r},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var o=new goog.Promise(goog.nullFunction);return o.resolve_(goog.Promise.State_.FULFILLED,e),o},goog.Promise.reject=function(e){return new goog.Promise(function(o,t){t(e)})},goog.Promise.resolveThen_=function(e,o,t){var r=goog.Promise.maybeThen_(e,o,t,null);r||goog.async.run(goog.partial(o,e))},goog.Promise.race=function(e){return new goog.Promise(function(o,t){e.length||o(void 0);for(var r,n=0;n<e.length;n++)r=e[n],goog.Promise.resolveThen_(r,o,t)})},goog.Promise.all=function(e){return new goog.Promise(function(o,t){var r=e.length,n=[];if(!r)return void o(n);for(var g,i=function(e,t){r--,n[e]=t,0==r&&o(n)},s=function(e){t(e)},a=0;a<e.length;a++)g=e[a],goog.Promise.resolveThen_(g,goog.partial(i,a),s)})},goog.Promise.allSettled=function(e){return new goog.Promise(function(o){var t=e.length,r=[];if(!t)return void o(r);for(var n,g=function(e,n,g){t--,r[e]=n?{fulfilled:!0,value:g}:{fulfilled:!1,reason:g},0==t&&o(r)},i=0;i<e.length;i++)n=e[i],goog.Promise.resolveThen_(n,goog.partial(g,i,!0),goog.partial(g,i,!1))})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(o,t){var r=e.length,n=[];if(!r)return void o(void 0);for(var g,i=function(e){o(e)},s=function(e,o){r--,n[e]=o,0==r&&t(n)},a=0;a<e.length;a++)g=e[a],goog.Promise.resolveThen_(g,i,goog.partial(s,a))})},goog.Promise.withResolver=function(){var e,o,t=new goog.Promise(function(t,r){e=t,o=r});return new goog.Promise.Resolver_(t,e,o)},goog.Promise.prototype.then=function(e,o,t){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=o&&goog.asserts.assertFunction(o,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(o)?o:null,t)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,o,t){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=o&&goog.asserts.assertFunction(o,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,o||null,t))},goog.Promise.prototype.thenAlways=function(e,o){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var t=goog.Promise.getCallbackEntry_(e,e,o);return t.always=!0,this.addCallbackEntry_(t),this},goog.Promise.prototype.thenCatch=function(e,o){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,o)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var o=new goog.Promise.CancellationError(e);this.cancelInternal_(o)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,o){if(this.callbackEntries_){for(var t=0,r=null,n=null,g=this.callbackEntries_;g&&(g.always||(t++,g.child==e&&(r=g),!r||t<=1));g=g.next)r||(n=g);r&&(this.state_==goog.Promise.State_.PENDING&&1==t?this.cancelInternal_(o):(n?this.removeEntryAfter_(n):this.popEntry_(),this.executeCallback_(r,goog.Promise.State_.REJECTED,o)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,o,t){var r=goog.Promise.getCallbackEntry_(null,null,null);return r.child=new goog.Promise(function(n,g){r.onFulfilled=e?function(o){try{var r=e.call(t,o);n(r)}catch(i){g(i)}}:n,r.onRejected=o?function(e){try{var r=o.call(t,e);!goog.isDef(r)&&e instanceof goog.Promise.CancellationError?g(e):n(r)}catch(i){g(i)}}:g}),r.child.parent_=this,this.addCallbackEntry_(r),r.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,o){if(this.state_==goog.Promise.State_.PENDING){this==o&&(e=goog.Promise.State_.REJECTED,o=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED;var t=goog.Promise.maybeThen_(o,this.unblockAndFulfill_,this.unblockAndReject_,this);t||(this.result_=o,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||o instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,o))}},goog.Promise.maybeThen_=function(e,o,t,r){if(e instanceof goog.Promise)return e.thenVoid(o,t,r),!0;if(goog.Thenable.isImplementedBy(e))return e=e,e.then(o,t,r),!0;if(goog.isObject(e))try{var n=e.then;if(goog.isFunction(n))return goog.Promise.tryThen_(e,n,o,t,r),!0}catch(g){return t.call(r,g),!0}return!1},goog.Promise.tryThen_=function(e,o,t,r,n){var g=!1,i=function(e){g||(g=!0,t.call(n,e))},s=function(e){g||(g=!0,r.call(n,e))};try{o.call(e,i,s)}catch(a){s(a)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?(this.callbackEntriesTail_.next=e,this.callbackEntriesTail_=e):(this.callbackEntries_=e,this.callbackEntriesTail_=e)},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e=null;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,o,t){if(o==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,o,t);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,o,t)}catch(r){goog.Promise.handleRejection_.call(null,r)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,o,t){o==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,t):e.onRejected&&e.onRejected.call(e.context,t)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var o=e.stack.split("\n",4)[3],t=e.message;t+=Array(11-t.length).join(" "),this.stack_.push(t+o)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var o=["Promise trace:"],t=this;t;t=t.parent_){for(var r=this.currentStep_;r>=0;r--)o.push(t.stack_[r]);o.push("Value: ["+(t.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+(t.result_+"")+">")}e.stack+="\n\n"+o.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,o){goog.Promise.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.Promise.CancellationError.base(this,"constructor",e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,o,t){this.promise=e,this.resolve=o,this.reject=t},/**
 * @license Portions of this code are from MochiKit, received by
 * The Closure Authors under the MIT license. All other code is Copyright
 * 2005-2009 The Closure Authors. All Rights Reserved.
 */
goog.provide("goog.async.Deferred"),goog.provide("goog.async.Deferred.AlreadyCalledError"),goog.provide("goog.async.Deferred.CanceledError"),goog.require("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.debug.Error"),goog.async.Deferred=function(e,o){if(this.sequence_=[],this.onCancelFunction_=e,this.defaultScope_=o||null,this.fired_=!1,this.hadError_=!1,this.result_=void 0,this.blocked_=!1,this.blocking_=!1,this.silentlyCanceled_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0,goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace)){var t={stack:""};Error.captureStackTrace(t,goog.async.Deferred),"string"==typeof t.stack&&(this.constructorStack_=t.stack.replace(/^[^\n]*\n/,""))}},goog.define("goog.async.Deferred.STRICT_ERRORS",!1),goog.define("goog.async.Deferred.LONG_STACK_TRACES",!1),goog.async.Deferred.prototype.cancel=function(e){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var o=this.parent_;delete this.parent_,e?o.cancel(e):o.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this))}},goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--,this.branches_>0||this.cancel()},goog.async.Deferred.prototype.continue_=function(e,o){this.blocked_=!1,this.updateResult_(e,o)},goog.async.Deferred.prototype.updateResult_=function(e,o){this.fired_=!0,this.result_=o,this.hadError_=!e,this.fire_()},goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}},goog.async.Deferred.prototype.callback=function(e){this.check_(),this.assertNotDeferred_(e),this.updateResult_(!0,e)},goog.async.Deferred.prototype.errback=function(e){this.check_(),this.assertNotDeferred_(e),this.makeStackTraceLong_(e),this.updateResult_(!1,e)},goog.async.Deferred.prototype.makeStackTraceLong_=function(e){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(e)&&e.stack&&/^[^\n]+(\n   [^\n]+)+/.test(e.stack)&&(e.stack=e.stack+"\nDEFERRED OPERATION:\n"+this.constructorStack_)},goog.async.Deferred.prototype.assertNotDeferred_=function(e){goog.asserts.assert(!(e instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")},goog.async.Deferred.prototype.addCallback=function(e,o){return this.addCallbacks(e,null,o)},goog.async.Deferred.prototype.addErrback=function(e,o){return this.addCallbacks(null,e,o)},goog.async.Deferred.prototype.addBoth=function(e,o){return this.addCallbacks(e,e,o)},goog.async.Deferred.prototype.addFinally=function(e,o){var t=this;return this.addCallbacks(e,function(o){var r=e.call(t,o);if(!goog.isDef(r))throw o;return r},o)},goog.async.Deferred.prototype.addCallbacks=function(e,o,t){return goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used"),this.sequence_.push([e,o,t]),this.hasFired()&&this.fire_(),this},goog.async.Deferred.prototype.then=function(e,o,t){var r,n,g=new goog.Promise(function(e,o){r=e,n=o});return this.addCallbacks(r,function(e){e instanceof goog.async.Deferred.CanceledError?g.cancel():n(e)}),g.then(e,o,t)},goog.Thenable.addImplementation(goog.async.Deferred),goog.async.Deferred.prototype.chainDeferred=function(e){return this.addCallbacks(e.callback,e.errback,e),this},goog.async.Deferred.prototype.awaitDeferred=function(e){return this.addCallback(e instanceof goog.async.Deferred?goog.bind(e.branch,e):function(){return e})},goog.async.Deferred.prototype.branch=function(e){var o=new goog.async.Deferred;return this.chainDeferred(o),e&&(o.parent_=this,this.branches_++),o},goog.async.Deferred.prototype.hasFired=function(){return this.fired_},goog.async.Deferred.prototype.isError=function(e){return e instanceof Error},goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,function(e){return goog.isFunction(e[1])})},goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0),this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var e=this.result_,o=!1,t=!1;this.sequence_.length&&!this.blocked_;){var r=this.sequence_.shift(),n=r[0],g=r[1],i=r[2],s=this.hadError_?g:n;if(s)/** @preserveTry */
try{var a=s.call(i||this.defaultScope_,e);goog.isDef(a)&&(this.hadError_=this.hadError_&&(a==e||this.isError(a)),this.result_=e=a),(goog.Thenable.isImplementedBy(e)||"function"==typeof goog.global.Promise&&e instanceof goog.global.Promise)&&(t=!0,this.blocked_=!0)}catch(u){e=u,this.hadError_=!0,this.makeStackTraceLong_(e),this.hasErrback_()||(o=!0)}}if(this.result_=e,t){var l=goog.bind(this.continue_,this,!0),c=goog.bind(this.continue_,this,!1);e instanceof goog.async.Deferred?(e.addCallbacks(l,c),e.blocking_=!0):e.then(l,c)}else!goog.async.Deferred.STRICT_ERRORS||!this.isError(e)||e instanceof goog.async.Deferred.CanceledError||(this.hadError_=!0,o=!0);o&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(e))},goog.async.Deferred.succeed=function(e){var o=new goog.async.Deferred;return o.callback(e),o},goog.async.Deferred.fromPromise=function(e){var o=new goog.async.Deferred;return o.callback(),o.addCallback(function(){return e}),o},goog.async.Deferred.fail=function(e){var o=new goog.async.Deferred;return o.errback(e),o},goog.async.Deferred.canceled=function(){var e=new goog.async.Deferred;return e.cancel(),e},goog.async.Deferred.when=function(e,o,t){return e instanceof goog.async.Deferred?e.branch(!0).addCallback(o,t):goog.async.Deferred.succeed(e).addCallback(o,t)},goog.async.Deferred.AlreadyCalledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error),goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired",goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError",goog.async.Deferred.CanceledError=function(e){goog.debug.Error.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.CanceledError,goog.debug.Error),goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled",goog.async.Deferred.CanceledError.prototype.name="CanceledError",goog.async.Deferred.Error_=function(e){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0),this.error_=e},goog.async.Deferred.Error_.prototype.throwError=function(){throw goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled."),delete goog.async.Deferred.errorMap_[this.id_],this.error_},goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)},goog.async.Deferred.errorMap_={},goog.async.Deferred.scheduleError_=function(e){var o=new goog.async.Deferred.Error_(e);return goog.async.Deferred.errorMap_[o.id_]=o,o.id_},goog.async.Deferred.unscheduleError_=function(e){var o=goog.async.Deferred.errorMap_[e];o&&(o.resetTimer(),delete goog.async.Deferred.errorMap_[e])},goog.async.Deferred.assertNoErrors=function(){var e=goog.async.Deferred.errorMap_;for(var o in e){var t=e[o];t.resetTimer(),t.throwError()}},goog.provide("goog.dom.BrowserFeature"),goog.require("goog.userAgent"),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.provide("goog.dom.tags"),goog.require("goog.object"),goog.dom.tags.VOID_TAGS_=goog.object.createSet("area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"),goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.provide("goog.string.TypedString"),goog.string.TypedString=function(){},goog.string.TypedString.prototype.implementsGoogStringTypedString,goog.string.TypedString.prototype.getTypedStringValue,goog.provide("goog.string.Const"),goog.require("goog.asserts"),goog.require("goog.string.TypedString"),goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var o=new goog.string.Const;return o.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,o},goog.provide("goog.html.SafeStyle"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){var o=goog.string.Const.unwrap(e);return 0===o.length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(o),goog.asserts.assert(goog.string.endsWith(o,";"),"Last character of style string is not ';': "+o),goog.asserts.assert(goog.string.contains(o,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"'"),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.PropertyMap,goog.html.SafeStyle.create=function(e){var o="";for(var t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var r=e[t];null!=r&&(r instanceof goog.string.Const?(r=goog.string.Const.unwrap(r),goog.asserts.assert(!/[{;}]/.test(r),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(r)?goog.html.SafeStyle.hasBalancedQuotes_(r)||(goog.asserts.fail("String value requires balanced quotes, got: "+r),r=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], got: "+r),r=goog.html.SafeStyle.INNOCUOUS_STRING),o+=t+":"+r+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var o=!0,t=!0,r=0;r<e.length;r++){var n=e.charAt(r);"'"==n&&t?o=!o:'"'==n&&o&&(t=!t)}return o&&t},goog.html.SafeStyle.VALUE_RE_=/^[-,."'%_!# a-zA-Z0-9]+$/,goog.html.SafeStyle.concat=function(){var e="",o=function(t){goog.isArray(t)?goog.array.forEach(t,o):e+=goog.html.SafeStyle.unwrap(t)};return goog.array.forEach(arguments,o),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.provide("goog.html.SafeStyleSheet"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(){var e="",o=function(t){goog.isArray(t)?goog.array.forEach(t,o):e+=goog.html.SafeStyleSheet.unwrap(t)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(e){var o=goog.string.Const.unwrap(e);return 0===o.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(o,"<"),"Forbidden '<' character in style sheet string: "+o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"'"),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.provide("goog.fs.url"),goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_,goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.provide("goog.i18n.bidi"),goog.provide("goog.i18n.bidi.Dir"),goog.provide("goog.i18n.bidi.DirectionalString"),goog.provide("goog.i18n.bidi.Format"),goog.define("goog.i18n.bidi.FORCE_RTL",!1),goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||goog.LOCALE.length>=3&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,o){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,o){return o?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,o){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,o),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,o){var t=void 0===o?goog.i18n.bidi.hasAnyRtl(e):o;return t?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,o){var t=void 0===o?goog.i18n.bidi.hasAnyRtl(e):o,r=t?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,r+"$&"+r)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,o){for(var t=0,r=0,n=!1,g=goog.i18n.bidi.stripHtmlIfNeeded_(e,o).split(goog.i18n.bidi.wordSeparatorRe_),i=0;i<g.length;i++){var s=g[i];goog.i18n.bidi.startsWithRtl(s)?(t++,r++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?n=!0:goog.i18n.bidi.hasAnyLtr(s)?r++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(n=!0)}return 0==r?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:t/r>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,o){return goog.i18n.bidi.estimateDirection(e,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,o){e&&(o=goog.i18n.bidi.toDir(o),o&&(e.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"))},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString,goog.i18n.bidi.DirectionalString.prototype.getDirection,goog.provide("goog.html.SafeUrl"),goog.require("goog.asserts"),goog.require("goog.fs.url"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"'"),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i,goog.html.SafeUrl.fromBlob=function(e){var o=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var o=e.match(goog.html.DATA_URL_PATTERN_),t=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e.implementsGoogStringTypedString?e=e.getTypedStringValue():e+="",goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,o},goog.provide("goog.html.TrustedResourceUrl"),goog.require("goog.asserts"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"'"),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,o},goog.provide("goog.html.SafeHtml"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.TagName"),goog.require("goog.dom.tags"),goog.require("goog.html.SafeStyle"),goog.require("goog.html.SafeStyleSheet"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.i18n.bidi.Dir"),goog.require("goog.i18n.bidi.DirectionalString"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.require("goog.string.TypedString"),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"'"),"type_error:SafeHtml")},goog.html.SafeHtml.TextOrHtml_,goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=null;e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection());var t;return t=e.implementsGoogStringTypedString?e.getTypedStringValue():e+"",goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(t),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=goog.html.SafeHtml.htmlEscape(e);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(o)),o.getDirection())},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=goog.html.SafeHtml.htmlEscape(e);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(o)),o.getDirection())},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_=goog.object.createSet("action","cite","data","formaction","href","manifest","poster","src"),goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_=goog.object.createSet(goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.TEMPLATE),goog.html.SafeHtml.AttributeValue_,goog.html.SafeHtml.create=function(e,o,t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(e,o,t)},goog.html.SafeHtml.createIframe=function(e,o,t,r){var n={};n.src=e||null,n.srcdoc=o||null;var g={sandbox:""},i=goog.html.SafeHtml.combineAttributes(n,g,t);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,r)},goog.html.SafeHtml.createStyle=function(e,o){var t={type:"text/css"},r={},n=goog.html.SafeHtml.combineAttributes(t,r,o),g="";e=goog.array.concat(e);for(var i=0;i<e.length;i++)g+=goog.html.SafeStyleSheet.unwrap(e[i]);var s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(g,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",n,s)},goog.html.SafeHtml.getAttrNameAndValue_=function(e,o,t){if(t instanceof goog.string.Const)t=goog.string.Const.unwrap(t);else if("style"==o.toLowerCase())t=goog.html.SafeHtml.getStyleValue_(t);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+t+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(t instanceof goog.html.TrustedResourceUrl)t=goog.html.TrustedResourceUrl.unwrap(t);else if(t instanceof goog.html.SafeUrl)t=goog.html.SafeUrl.unwrap(t);else{if(!goog.isString(t))throw Error('Attribute "'+o+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+t+'" given.');t=goog.html.SafeUrl.sanitize(t).getTypedStringValue()}}return t.implementsGoogStringTypedString&&(t=t.getTypedStringValue()),goog.asserts.assert(goog.isString(t)||goog.isNumber(t),"String or number value expected, got "+typeof t+" with value: "+t),o+'="'+goog.string.htmlEscape(t+"")+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,o,t,r){var n=goog.html.SafeHtml.create(o,t,r);return n.dir_=e,n},goog.html.SafeHtml.concat=function(){var e=goog.i18n.bidi.Dir.NEUTRAL,o="",t=function(r){if(goog.isArray(r))goog.array.forEach(r,t);else{var n=goog.html.SafeHtml.htmlEscape(r);o+=goog.html.SafeHtml.unwrap(n);var g=n.getDirection();e==goog.i18n.bidi.Dir.NEUTRAL?e=g:g!=goog.i18n.bidi.Dir.NEUTRAL&&e!=g&&(e=null)}};return goog.array.forEach(arguments,t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,e)},goog.html.SafeHtml.concatWithDir=function(e){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,o){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,o,t){var r=null,n="<"+e;if(o)for(var g in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(g))throw Error('Invalid attribute name "'+g+'".');var i=o[g];goog.isDefAndNotNull(i)&&(n+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,g,i))}var s=t;if(goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(e.toLowerCase()))goog.asserts.assert(!s.length,"Void tag <"+e+"> does not allow content."),n+=">";else{var a=goog.html.SafeHtml.concat(s);n+=">"+goog.html.SafeHtml.unwrap(a)+"</"+e+">",r=a.getDirection()}var u=o&&o.dir;return u&&(r=/^(ltr|rtl|auto)$/i.test(u)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,r)},goog.html.SafeHtml.combineAttributes=function(e,o,t){var r,n={};for(r in e)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),n[r]=e[r];for(r in o)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),n[r]=o[r];for(r in t){var g=r.toLowerCase();if(g in e)throw Error('Cannot override "'+g+'" attribute, got "'+r+'" with value "'+t[r]+'"');g in o&&delete n[g],n[r]=t[r]}return n},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.provide("goog.dom.safe"),goog.provide("goog.dom.safe.InsertAdjacentHtmlPosition"),goog.require("goog.asserts"),goog.require("goog.html.SafeHtml"),goog.require("goog.html.SafeUrl"),goog.require("goog.html.TrustedResourceUrl"),goog.require("goog.string"),goog.require("goog.string.Const"),goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,o,t){e.insertAdjacentHTML(o,goog.html.SafeHtml.unwrap(t))
},goog.dom.safe.setInnerHtml=function(e,o){e.innerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.setOuterHtml=function(e,o){e.outerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.documentWrite=function(e,o){e.write(goog.html.SafeHtml.unwrap(o))},goog.dom.safe.setAnchorHref=function(e,o){var t;t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitize(o),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,o){e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setFrameSrc=function(e,o){e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setIframeSrc=function(e,o){e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setLinkHrefAndRel=function(e,o,t){e.rel=t,goog.string.caseInsensitiveContains(t,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(o)):e.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(o):goog.html.SafeUrl.sanitize(o).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,o){e.data=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setScriptSrc=function(e,o){e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setLocationHref=function(e,o){var t;t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitize(o),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.openInWindow=function(e,o,t,r,n){var g;g=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitize(e);var i=o||window;return i.open(goog.html.SafeUrl.unwrap(g),t?goog.string.Const.unwrap(t):"",r,n)},goog.provide("goog.math"),goog.require("goog.array"),goog.require("goog.asserts"),goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,o){return e+Math.random()*(o-e)},goog.math.clamp=function(e,o,t){return Math.min(Math.max(e,o),t)},goog.math.modulo=function(e,o){var t=e%o;return 0>t*o?t+o:t},goog.math.lerp=function(e,o,t){return e+t*(o-e)},goog.math.nearlyEquals=function(e,o,t){return Math.abs(e-o)<=(t||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,o){return o*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,o){return o*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,o,t,r){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(r-o,t-e)))},goog.math.angleDifference=function(e,o){var t=goog.math.standardAngle(o)-goog.math.standardAngle(e);return t>180?t-=360:t>-180||(t=360+t),t},goog.math.sign=Math.sign||function(e){return e>0?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,o,t,r){for(var n=t||function(e,o){return e==o},g=r||function(o){return e[o]},i=e.length,s=o.length,a=[],u=0;i+1>u;u++)a[u]=[],a[u][0]=0;for(var l=0;s+1>l;l++)a[0][l]=0;for(u=1;i>=u;u++)for(l=1;s>=l;l++)a[u][l]=n(e[u-1],o[l-1])?a[u-1][l-1]+1:Math.max(a[u-1][l],a[u][l-1]);for(var c=[],u=i,l=s;u>0&&l>0;)n(e[u-1],o[l-1])?(c.unshift(g(u-1,l-1)),u--,l--):a[u-1][l]>a[u][l-1]?u--:l--;return c},goog.math.sum=function(){return goog.array.reduce(arguments,function(e,o){return e+o},0)},goog.math.average=function(){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(){var e=arguments.length;if(2>e)return 0;var o=goog.math.average.apply(null,arguments),t=goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-o,2)}))/(e-1);return t},goog.math.standardDeviation=function(){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&e%1==0},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.isNegativeZero=function(e){return 0==e&&0>1/e},goog.math.log10Floor=function(e){if(e>0){var o=Math.round(Math.log(e)*Math.LOG10E);return o-(parseFloat("1e"+o)>e)}return 0==e?-1/0:0/0},goog.math.safeFloor=function(e,o){return goog.asserts.assert(!goog.isDef(o)||o>0),Math.floor(e+(o||2e-15))},goog.math.safeCeil=function(e,o){return goog.asserts.assert(!goog.isDef(o)||o>0),Math.ceil(e-(o||2e-15))},goog.provide("goog.math.Coordinate"),goog.require("goog.math"),goog.math.Coordinate=function(e,o){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(o)?o:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,o){return e==o?!0:e&&o?e.x==o.x&&e.y==o.y:!1},goog.math.Coordinate.distance=function(e,o){var t=e.x-o.x,r=e.y-o.y;return Math.sqrt(t*t+r*r)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,o){var t=e.x-o.x,r=e.y-o.y;return t*t+r*r},goog.math.Coordinate.difference=function(e,o){return new goog.math.Coordinate(e.x-o.x,e.y-o.y)},goog.math.Coordinate.sum=function(e,o){return new goog.math.Coordinate(e.x+o.x,e.y+o.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,goog.isNumber(o)&&(this.y+=o)),this},goog.math.Coordinate.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.x*=e,this.y*=t,this},goog.math.Coordinate.prototype.rotateRadians=function(e,o){var t=o||new goog.math.Coordinate(0,0),r=this.x,n=this.y,g=Math.cos(e),i=Math.sin(e);this.x=(r-t.x)*g-(n-t.y)*i+t.x,this.y=(r-t.x)*i+(n-t.y)*g+t.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,o){this.rotateRadians(goog.math.toRadians(e),o)},goog.provide("goog.dom"),goog.provide("goog.dom.Appendable"),goog.provide("goog.dom.DomHelper"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom.BrowserFeature"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.dom.safe"),goog.require("goog.html.SafeHtml"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.string.Unicode"),goog.require("goog.userAgent"),goog.define("goog.dom.ASSUME_QUIRKS_MODE",!1),goog.define("goog.dom.ASSUME_STANDARDS_MODE",!1),goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.defaultDomHelper_,goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,o){return goog.isString(o)?e.getElementById(o):o},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,o){goog.asserts.assertString(o);var t=goog.dom.getElementHelper_(e,o);return t=goog.asserts.assertElement(t,"No element found with id: "+o)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(document,e,o,t)},goog.dom.getElementsByClass=function(e,o){var t=o||document;return goog.dom.canUseQuerySelector_(t)?t.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,o)},goog.dom.getElementByClass=function(e,o){var t=o||document,r=null;return r=t.getElementsByClassName?t.getElementsByClassName(e)[0]:goog.dom.canUseQuerySelector_(t)?t.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,o)[0],r||null},goog.dom.getRequiredElementByClass=function(e,o){var t=goog.dom.getElementByClass(e,o);return goog.asserts.assert(t,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,o,t,r){var n=r||e,g=o&&"*"!=o?o.toUpperCase():"";if(goog.dom.canUseQuerySelector_(n)&&(g||t)){var i=g+(t?"."+t:"");return n.querySelectorAll(i)}if(t&&n.getElementsByClassName){var s=n.getElementsByClassName(t);if(g){for(var a,u={},l=0,c=0;a=s[c];c++)g==a.nodeName&&(u[l++]=a);return u.length=l,u}return s}var s=n.getElementsByTagName(g||"*");if(t){for(var a,u={},l=0,c=0;a=s[c];c++){var d=a.className;"function"==typeof d.split&&goog.array.contains(d.split(/\s+/),t)&&(u[l++]=a)}return u.length=l,u}return s},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,o){goog.object.forEach(o,function(o,t){"style"==t?e.style.cssText=o:"class"==t?e.className=o:"for"==t?e.htmlFor=o:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(t)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],o):goog.string.startsWith(t,"aria-")||goog.string.startsWith(t,"data-")?e.setAttribute(t,o):e[t]=o})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){var o=e.document,t=goog.dom.isCss1CompatMode_(o)?o.documentElement:o.body;return new goog.math.Size(t.clientWidth,t.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var o=e.document,t=0;if(o){var r=o.body,n=o.documentElement;if(!n||!r)return 0;var g=goog.dom.getViewportSize_(e).height;if(goog.dom.isCss1CompatMode_(o)&&n.scrollHeight)t=n.scrollHeight!=g?n.scrollHeight:n.offsetHeight;else{var i=n.scrollHeight,s=n.offsetHeight;n.clientHeight!=s&&(i=r.scrollHeight,s=r.offsetHeight),t=i>g?i>s?i:s:s>i?i:s}}return t},goog.dom.getPageScroll=function(e){var o=e||goog.global||window;return goog.dom.getDomHelper(o.document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var o=goog.dom.getDocumentScrollElement_(e),t=goog.dom.getWindow_(e);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&t.pageYOffset!=o.scrollTop?new goog.math.Coordinate(o.scrollLeft,o.scrollTop):new goog.math.Coordinate(t.pageXOffset||o.scrollLeft,t.pageYOffset||o.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,o){var t=o[0],r=o[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&r&&(r.name||r.type)){var n=["<",t];if(r.name&&n.push(' name="',goog.string.htmlEscape(r.name),'"'),r.type){n.push(' type="',goog.string.htmlEscape(r.type),'"');var g={};goog.object.extend(g,r),delete g.type,r=g}n.push(">"),t=n.join("")}var i=e.createElement(t);return r&&(goog.isString(r)?i.className=r:goog.isArray(r)?i.className=r.join(" "):goog.dom.setProperties(i,r)),o.length>2&&goog.dom.append_(e,i,o,2),i},goog.dom.append_=function(e,o,t,r){function n(t){t&&o.appendChild(goog.isString(t)?e.createTextNode(t):t)}for(var g=r;g<t.length;g++){var i=t[g];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,n):n(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(e+"")},goog.dom.createTable=function(e,o,t){return goog.dom.createTable_(document,e,o,!!t)},goog.dom.createTable_=function(e,o,t,r){for(var n=e.createElement(goog.dom.TagName.TABLE),g=n.appendChild(e.createElement(goog.dom.TagName.TBODY)),i=0;o>i;i++){for(var s=e.createElement(goog.dom.TagName.TR),a=0;t>a;a++){var u=e.createElement(goog.dom.TagName.TD);r&&goog.dom.setTextContent(u,goog.string.Unicode.NBSP),s.appendChild(u)}g.appendChild(s)}return n},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,o){var t=e.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(t,goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"),o)),t.removeChild(t.firstChild)):goog.dom.safe.setInnerHtml(t,o),goog.dom.childrenToNode_(e,t)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,o){var t=e.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(t.innerHTML="<br>"+o,t.removeChild(t.firstChild)):t.innerHTML=o,goog.dom.childrenToNode_(e,t)},goog.dom.childrenToNode_=function(e,o){if(1==o.childNodes.length)return o.removeChild(o.firstChild);for(var t=e.createDocumentFragment();o.firstChild;)t.appendChild(o.firstChild);return t},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0},goog.dom.appendChild=function(e,o){e.appendChild(o)},goog.dom.append=function(e){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var o;o=e.firstChild;)e.removeChild(o)},goog.dom.insertSiblingBefore=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o)},goog.dom.insertSiblingAfter=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o.nextSibling)},goog.dom.insertChildAt=function(e,o,t){e.insertBefore(o,e.childNodes[t]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,o){var t=o.parentNode;t&&t.replaceChild(e,o)},goog.dom.flattenElement=function(e){var o,t=e.parentNode;if(t&&t.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;o=e.firstChild;)t.insertBefore(o,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,o){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=o?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&e.nodeType>0},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var o;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY){var t=goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10");if(!(t&&goog.global.SVGElement&&e instanceof goog.global.SVGElement)&&(o=e.parentElement))return o}return o=e.parentNode,goog.dom.isElement(o)?o:null},goog.dom.contains=function(e,o){if(e.contains&&o.nodeType==goog.dom.NodeType.ELEMENT)return e==o||e.contains(o);if(void 0!==e.compareDocumentPosition)return e==o||!!(16&e.compareDocumentPosition(o));for(;o&&e!=o;)o=o.parentNode;return o==e},goog.dom.compareNodeOrder=function(e,o){if(e==o)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(o)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(o.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var t=e.nodeType==goog.dom.NodeType.ELEMENT,r=o.nodeType==goog.dom.NodeType.ELEMENT;if(t&&r)return e.sourceIndex-o.sourceIndex;var n=e.parentNode,g=o.parentNode;return n==g?goog.dom.compareSiblingOrder_(e,o):!t&&goog.dom.contains(n,o)?-1*goog.dom.compareParentsDescendantNodeIe_(e,o):!r&&goog.dom.contains(g,e)?goog.dom.compareParentsDescendantNodeIe_(o,e):(t?e.sourceIndex:n.sourceIndex)-(r?o.sourceIndex:g.sourceIndex)}var i,s,a=goog.dom.getOwnerDocument(e);return i=a.createRange(),i.selectNode(e),i.collapse(!0),s=a.createRange(),s.selectNode(o),s.collapse(!0),i.compareBoundaryPoints(goog.global.Range.START_TO_END,s)},goog.dom.compareParentsDescendantNodeIe_=function(e,o){var t=e.parentNode;if(t==o)return-1;for(var r=o;r.parentNode!=t;)r=r.parentNode;return goog.dom.compareSiblingOrder_(r,e)},goog.dom.compareSiblingOrder_=function(e,o){for(var t=o;t=t.previousSibling;)if(t==e)return-1;return 1},goog.dom.findCommonAncestor=function(){var e,o=arguments.length;if(!o)return null;if(1==o)return arguments[0];var t=[],r=1/0;for(e=0;o>e;e++){for(var n=[],g=arguments[e];g;)n.unshift(g),g=g.parentNode;t.push(n),r=Math.min(r,n.length)}var i=null;for(e=0;r>e;e++){for(var s=t[0][e],a=1;o>a;a++)if(s!=t[a][e])return i;i=s}return i},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){var o=e.contentDocument||e.contentWindow.document;return o},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,o){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=o;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=o;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=o}else{goog.dom.removeChildren(e);var t=goog.dom.getOwnerDocument(e);e.appendChild(t.createTextNode(o+""))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var o=goog.dom.getOwnerDocument(e),t=o.createElement(goog.dom.TagName.DIV);return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,o){var t=[],r=goog.dom.findNodes_(e,o,t,!0);return r?t[0]:void 0},goog.dom.findNodes=function(e,o){var t=[];return goog.dom.findNodes_(e,o,t,!1),t},goog.dom.findNodes_=function(e,o,t,r){if(null!=e)for(var n=e.firstChild;n;){if(o(n)&&(t.push(n),r))return!0;if(goog.dom.findNodes_(n,o,t,r))return!0;n=n.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,o){o?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var o;return o=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e),o&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):o},goog.dom.hasSpecifiedTabIndex_=function(e){var o=e.getAttributeNode("tabindex");return goog.isDefAndNotNull(o)&&o.specified},goog.dom.isTabIndexFocusable_=function(e){var o=e.tabIndex;return goog.isNumber(o)&&o>=0&&32768>o},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){var o=goog.isFunction(e.getBoundingClientRect)?e.getBoundingClientRect():{height:e.offsetHeight,width:e.offsetWidth};return goog.isDefAndNotNull(o)&&o.height>0&&o.width>0},goog.dom.getTextContent=function(e){var o;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)o=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),o=t.join("")}return o=o.replace(/ \xAD /g," ").replace(/\xAD/g,""),o=o.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(o=o.replace(/ +/g," "))," "!=o&&(o=o.replace(/^\s*/,"")),o},goog.dom.getRawTextContent=function(e){var o=[];return goog.dom.getTextContent_(e,o,!1),o.join("")},goog.dom.getTextContent_=function(e,o,t){if(e.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(e.nodeType==goog.dom.NodeType.TEXT)o.push(t?(e.nodeValue+"").replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)o.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(var r=e.firstChild;r;)goog.dom.getTextContent_(r,o,t),r=r.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,o){for(var t=o||goog.dom.getOwnerDocument(e).body,r=[];e&&e!=t;){for(var n=e;n=n.previousSibling;)r.unshift(goog.dom.getTextContent(n));e=e.parentNode}return goog.string.trimLeft(r.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,o,t){for(var r=[e],n=0,g=null;r.length>0&&o>n;)if(g=r.pop(),g.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(g.nodeType==goog.dom.NodeType.TEXT){var i=g.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=i.length}else if(g.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[g.nodeName].length;else for(var s=g.childNodes.length-1;s>=0;s--)r.push(g.childNodes[s]);return goog.isObject(t)&&(t.remainder=g?g.nodeValue.length+o-n-1:0,t.node=g),g},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,o,t,r){if(!o&&!t)return null;var n=o?o.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!n||e.nodeName==n)&&(!t||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),t))},!0,r)},goog.dom.getAncestorByClass=function(e,o,t){return goog.dom.getAncestorByTagNameAndClass(e,null,o,t)},goog.dom.getAncestor=function(e,o,t,r){t||(e=e.parentNode);for(var n=null==r,g=0;e&&(n||r>=g);){if(goog.asserts.assert("parentNode"!=e.name),o(e))return e;e=e.parentNode,g++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(o){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3)||1:1},goog.dom.matchesPixelRatio_=function(e){var o=goog.dom.getWindow(),t="(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)";return o.matchMedia(t).matches?e:0},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,o,t)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,o){var t=o||this.document_;return goog.dom.getElementsByClass(e,t)},goog.dom.DomHelper.prototype.getElementByClass=function(e,o){var t=o||this.document_;return goog.dom.getElementByClass(e,t)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,o){var t=o||this.document_;return goog.dom.getRequiredElementByClass(e,t)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.Appendable,goog.dom.DomHelper.prototype.createDom=function(){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(e+"")},goog.dom.DomHelper.prototype.createTable=function(e,o,t){return goog.dom.createTable_(this.document_,e,o,!!t)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.provide("goog.net.jsloader"),goog.provide("goog.net.jsloader.Error"),goog.provide("goog.net.jsloader.ErrorCode"),goog.provide("goog.net.jsloader.Options"),goog.require("goog.array"),goog.require("goog.async.Deferred"),goog.require("goog.debug.Error"),goog.require("goog.dom"),goog.require("goog.dom.TagName"),goog.require("goog.object"),goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification",goog.net.jsloader.DEFAULT_TIMEOUT=5e3,goog.net.jsloader.Options,goog.net.jsloader.scriptsToLoad_=[],goog.net.jsloader.scriptLoadingDeferred_,goog.net.jsloader.loadMany=function(e,o){if(!e.length)return goog.async.Deferred.succeed(null);var t=goog.net.jsloader.scriptsToLoad_.length;if(goog.array.extend(goog.net.jsloader.scriptsToLoad_,e),t)return goog.net.jsloader.scriptLoadingDeferred_;e=goog.net.jsloader.scriptsToLoad_;var r=function(){var t=e.shift(),n=goog.net.jsloader.load(t,o);return e.length&&n.addBoth(r),n};return goog.net.jsloader.scriptLoadingDeferred_=r(),goog.net.jsloader.scriptLoadingDeferred_},goog.net.jsloader.load=function(e,o){var t=o||{},r=t.document||document,n=goog.dom.createElement(goog.dom.TagName.SCRIPT),g={script_:n,timeout_:void 0},i=new goog.async.Deferred(goog.net.jsloader.cancel_,g),s=null,a=goog.isDefAndNotNull(t.timeout)?t.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;
a>0&&(s=window.setTimeout(function(){goog.net.jsloader.cleanup_(n,!0),i.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+e))},a),g.timeout_=s),n.onload=n.onreadystatechange=function(){if(!n.readyState||"loaded"==n.readyState||"complete"==n.readyState){var e=t.cleanupWhenDone||!1;goog.net.jsloader.cleanup_(n,e,s),i.callback(null)}},n.onerror=function(){goog.net.jsloader.cleanup_(n,!0,s),i.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+e))};var u=t.attributes||{};goog.object.extend(u,{type:"text/javascript",charset:"UTF-8",src:e}),goog.dom.setProperties(n,u);var l=goog.net.jsloader.getScriptParentElement_(r);return l.appendChild(n),i},goog.net.jsloader.loadAndVerify=function(e,o,t){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var r=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_];if(goog.isDef(r[o]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+o+" already defined."));var n=goog.net.jsloader.load(e,t),g=new goog.async.Deferred(goog.bind(n.cancel,n));return n.addCallback(function(){var t=r[o];goog.isDef(t)?(g.callback(t),delete r[o]):g.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+e+" loaded, but verification object "+o+" was not defined."))}),n.addErrback(function(e){goog.isDef(r[o])&&delete r[o],g.errback(e)}),g},goog.net.jsloader.getScriptParentElement_=function(e){var o=e.getElementsByTagName(goog.dom.TagName.HEAD);return!o||goog.array.isEmpty(o)?e.documentElement:o[0]},goog.net.jsloader.cancel_=function(){var e=this;if(e&&e.script_){var o=e.script_;o&&o.tagName==goog.dom.TagName.SCRIPT&&goog.net.jsloader.cleanup_(o,!0,e.timeout_)}},goog.net.jsloader.cleanup_=function(e,o,t){goog.isDefAndNotNull(t)&&goog.global.clearTimeout(t),e.onload=goog.nullFunction,e.onerror=goog.nullFunction,e.onreadystatechange=goog.nullFunction,o&&window.setTimeout(function(){goog.dom.removeNode(e)},0)},goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3},goog.net.jsloader.Error=function(e,o){var t="Jsloader error (code #"+e+")";o&&(t+=": "+o),goog.net.jsloader.Error.base(this,"constructor",t),this.code=e},goog.inherits(goog.net.jsloader.Error,goog.debug.Error),goog.provide("goog.string.path"),goog.require("goog.array"),goog.require("goog.string"),goog.string.path.baseName=function(e){var o=e.lastIndexOf("/")+1;return e.slice(o)},goog.string.path.basename=goog.string.path.baseName,goog.string.path.dirname=function(e){var o=e.lastIndexOf("/")+1,t=e.slice(0,o);return/^\/+$/.test(t)||(t=t.replace(/\/+$/,"")),t},goog.string.path.extension=function(e){var o=".",t=goog.string.path.baseName(e).replace(/\.+/g,o),r=t.lastIndexOf(o);return r>0?t.substr(r+1):""},goog.string.path.join=function(){for(var e=arguments[0],o=1;o<arguments.length;o++){var t=arguments[o];goog.string.startsWith(t,"/")?e=t:e+=""==e||goog.string.endsWith(e,"/")?t:"/"+t}return e},goog.string.path.normalizePath=function(e){if(""==e)return".";var o="";goog.string.startsWith(e,"/")&&(o="/",goog.string.startsWith(e,"//")&&!goog.string.startsWith(e,"///")&&(o="//"));for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var g=t[n];""!=g&&"."!=g&&(".."!=g||!o&&!r.length||".."==goog.array.peek(r)?r.push(g):r.pop())}var i=o+r.join("/");return i||"."},goog.string.path.split=function(e){var o=goog.string.path.dirname(e),t=goog.string.path.baseName(e);return[o,t]},goog.provide("w69b.qr.FormatError"),goog.provide("w69b.qr.InvalidCharsetError"),goog.provide("w69b.qr.NotFoundError"),goog.provide("w69b.qr.ReaderError"),goog.require("goog.debug.Error"),goog.scope(function(){w69b.qr.ReaderError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.ReaderError,goog.debug.Error),w69b.qr.FormatError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.FormatError,w69b.qr.ReaderError),w69b.qr.NotFoundError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.NotFoundError,w69b.qr.ReaderError),w69b.qr.InvalidCharsetError=function(e){goog.base(this,e||"InvalidCharset")},goog.inherits(w69b.qr.InvalidCharsetError,goog.debug.Error)}),goog.provide("w69b.qr.WorkerMessageType"),w69b.qr.WorkerMessageType={DECODED:"success",NOTFOUND:"notfound",PATTERN:"pattern"},goog.exportSymbol("w69b.qr.WorkerMessageType",w69b.qr.WorkerMessageType),goog.exportSymbol("w69b.qr.WorkerMessageType.DECODED",w69b.qr.WorkerMessageType.DECODED),goog.exportSymbol("w69b.qr.WorkerMessageType.NOTFOUND",w69b.qr.WorkerMessageType.NOTFOUND),goog.provide("w69b.qr.DecodeResult"),goog.require("goog.asserts"),goog.require("w69b.qr.ReaderError"),goog.scope(function(){w69b.qr.DecodeResult=function(e,o){this.result_=e,this.patterns_=o||[]};var e=w69b.qr.DecodeResult.prototype;e.getText=function(){return this.isError()?null:this.result_},e.isError=function(){return this.result_ instanceof w69b.qr.ReaderError},e.getError=function(){return this.isError()?this.result_:null},e.getPatterns=function(){return this.patterns_},e.toJSON=function(){return{text:this.getText(),patterns:this.getPatterns()}}}),goog.provide("w69b.qr.ResultPoint"),goog.scope(function(){w69b.qr.ResultPoint=function(e,o){this.x=e,this.y=o};var e=w69b.qr.ResultPoint,o=e.prototype;o.getX=function(){return this.x},o.getY=function(){return this.y}}),goog.provide("w69b.qr.AlignmentPattern"),goog.require("w69b.qr.ResultPoint"),goog.scope(function(){w69b.qr.AlignmentPattern=function(e,o,t){goog.base(this,e,o),this.count=1,this.estimatedModuleSize=t};var e=w69b.qr.AlignmentPattern;goog.inherits(e,w69b.qr.ResultPoint);var o=e.prototype;o.incrementCount=function(){this.count++},o.aboutEquals=function(e,o,t){if(Math.abs(o-this.y)<=e&&Math.abs(t-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return 1>=r||r/this.estimatedModuleSize<=1}return!1},o.getEstimatedModuleSize=function(){return this.estimatedModuleSize},o.combineEstimate=function(o,t,r){var n=(this.x+t)/2,g=(this.y+o)/2,i=(this.estimatedModuleSize+r)/2;return new e(n,g,i)},o.toJSON=function(){return{x:this.getX(),y:this.getY(),size:this.getEstimatedModuleSize()}}}),goog.provide("w69b.qr.AlignmentPatternFinder"),goog.require("w69b.img.BitMatrixLike"),goog.require("w69b.qr.AlignmentPattern"),goog.require("w69b.qr.NotFoundError"),goog.scope(function(){var e=w69b.qr.AlignmentPattern,o=w69b.qr.NotFoundError;w69b.qr.AlignmentPatternFinder=function(e,o,t,r,n,g,i){this.image=e,this.possibleCenters=[],this.startX=o,this.startY=t,this.width=r,this.height=n,this.moduleSize=g,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=i};var t=w69b.qr.AlignmentPatternFinder,r=t.prototype;r.centerFromEnd=function(e,o){return o-e[2]-e[1]/2},r.foundPatternCross=function(e){for(var o=this.moduleSize,t=o/2,r=0;3>r;r++)if(Math.abs(o-e[r])>=t)return!1;return!0},r.crossCheckVertical=function(e,o,t,r){var n=this.image,g=n.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;for(var s=e;s>=0&&n.get(o,s)&&i[1]<=t;)i[1]++,s--;if(0>s||i[1]>t)return 0/0;for(;s>=0&&!n.get(o,+s)&&i[0]<=t;)i[0]++,s--;if(i[0]>t)return 0/0;for(s=e+1;g>s&&n.get(o,s)&&i[1]<=t;)i[1]++,s++;if(s==g||i[1]>t)return 0/0;for(;g>s&&!n.get(o,s)&&i[2]<=t;)i[2]++,s++;if(i[2]>t)return 0/0;var a=i[0]+i[1]+i[2];return 5*Math.abs(a-r)<2*r&&this.foundPatternCross(i)?this.centerFromEnd(i,s):0/0},r.handlePossibleCenter=function(o,t,r){var n=o[0]+o[1]+o[2],g=this.centerFromEnd(o,r),i=this.crossCheckVertical(t,Math.floor(g),2*o[1],n);if(!isNaN(i)){for(var s=(o[0]+o[1]+o[2])/3,a=this.possibleCenters.length,u=0;a>u;u++){var l=this.possibleCenters[u];if(l.aboutEquals(s,i,g))return l.combineEstimate(i,g,s)}var c=new e(g,i,s);this.possibleCenters.push(c),null!=this.resultPointCallback&&this.resultPointCallback(c)}return null},r.find=function(){for(var e=this.startX,t=this.height,r=this.image,n=e+this.width,g=this.startY+(t>>1),i=[0,0,0],s=0;t>s;s++){var a=g+(0==(1&s)?s+1>>1:-(s+1>>1));i[0]=0,i[1]=0,i[2]=0;for(var u=e;n>u&&r.get(u,a);)u++;for(var l=0;n>u;){if(r.get(u,a))if(1==l)i[l]++;else if(2==l){if(this.foundPatternCross(i)){var c=this.handlePossibleCenter(i,a,u);if(null!=c)return c}i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1==l&&l++,i[l]++;u++}if(this.foundPatternCross(i)){var c=this.handlePossibleCenter(i,a,n);if(null!=c)return c}}if(this.possibleCenters.length>0)return this.possibleCenters[0];throw new o}}),goog.provide("w69b.qr.BitMatrix"),goog.require("w69b.img.BitMatrixLike"),goog.scope(function(){w69b.qr.BitMatrix=function(e,o){var t=goog.isDef(o)?o:e;if(1>e||1>t)throw Error();this.width=e,this.height=t;var r=e>>5;0!=(31&e)&&r++,this.rowSize=r,this.bits=new Uint32Array(r*t)};var e=w69b.qr.BitMatrix,o=e.prototype;o.getWidth=function(){return this.width},o.getHeight=function(){return this.height},o.get=function(e,o){var t=o*this.rowSize+(e>>5);return 0!=(this.bits[t]>>(31&e)&1)},o.set=function(e,o){var t=o*this.rowSize+(e>>5);this.bits[t]|=1<<(31&e)},o.flip=function(e,o){var t=o*this.rowSize+(e>>5);this.bits[t]^=1<<(31&e)},o.clear=function(){for(var e=this.bits.length,o=0;e>o;o++)this.bits[o]=0},o.setRegion=function(e,o,t,r){if(0>o||0>e)throw Error();if(1>r||1>t)throw Error();var n=e+t,g=o+r;if(g>this.height||n>this.width)throw Error();for(var i=o;g>i;i++)for(var s=i*this.rowSize,a=e;n>a;a++)this.bits[s+(a>>5)]|=1<<(31&a)},o.toString=function(){for(var e=[],o=0;o<this.height;o++){for(var t=0;t<this.width;t++)e.push(this.get(t,o)?"X ":"  ");e.push("\n")}return e.join("")}}),goog.provide("w69b.qr.GridSampler"),goog.provide("w69b.qr.GridSamplerInterface"),goog.require("w69b.qr.NotFoundError"),goog.scope(function(){var e=w69b.qr.GridSampler;e.gridSampler=null,e.setGridSampler=function(o){e.gridSampler=o},e.getInstance=function(){return e.gridSampler},w69b.qr.GridSamplerInterface=function(){},w69b.qr.GridSamplerInterface.prototype.sampleGrid=function(){},w69b.qr.GridSamplerInterface.prototype.sampleGridTransform=function(){},e.checkAndNudgePoints=function(e,o){var t,r,n,g=e.getWidth(),i=e.getHeight(),s=!0;for(n=0;n<o.length&&s;n+=2){if(t=o[n]>>0,r=o[n+1]>>0,-1>t||t>g||-1>r||r>i)throw new w69b.qr.NotFoundError;s=!1,-1==t?(o[n]=0,s=!0):t==g&&(o[n]=g-1,s=!0),-1==r?(o[n+1]=0,s=!0):r==i&&(o[n+1]=i-1,s=!0)}for(s=!0,n=o.length-2;n>=0&&s;n-=2){if(t=o[n]>>0,r=o[n+1]>>0,-1>t||t>g||-1>r||r>i)throw new w69b.qr.NotFoundError;s=!1,-1==t?(o[n]=0,s=!0):t==g&&(o[n]=g-1,s=!0),-1==r?(o[n+1]=0,s=!0):r==i&&(o[n+1]=i-1,s=!0)}}}),goog.provide("w69b.qr.PerspectiveTransform"),goog.scope(function(){w69b.qr.PerspectiveTransform=function(e,o,t,r,n,g,i,s,a){this.a11=e,this.a12=r,this.a13=i,this.a21=o,this.a22=n,this.a23=s,this.a31=t,this.a32=g,this.a33=a};var e=w69b.qr.PerspectiveTransform,o=e.prototype;o.transformPoints1=function(e){for(var o=e.length,t=this.a11,r=this.a12,n=this.a13,g=this.a21,i=this.a22,s=this.a23,a=this.a31,u=this.a32,l=this.a33,c=0;o>c;c+=2){var d=e[c],h=e[c+1],f=n*d+s*h+l;e[c]=(t*d+g*h+a)/f,e[c+1]=(r*d+i*h+u)/f}},o.transformPoints2=function(e,o){for(var t=e.length,r=0;t>r;r++){var n=e[r],g=o[r],i=this.a13*n+this.a23*g+this.a33;e[r]=(this.a11*n+this.a21*g+this.a31)/i,o[r]=(this.a12*n+this.a22*g+this.a32)/i}},o.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},o.times=function(o){return new e(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)},e.quadrilateralToQuadrilateral=function(o,t,r,n,g,i,s,a,u,l,c,d,h,f,p,m){var _=e.quadrilateralToSquare(o,t,r,n,g,i,s,a),E=e.squareToQuadrilateral(u,l,c,d,h,f,p,m);return E.times(_)},e.squareToQuadrilateral=function(o,t,r,n,g,i,s,a){var u=a-i,l=t-n+i-a;if(0==u&&0==l)return new e(r-o,g-r,o,n-t,i-n,t,0,0,1);var c=r-g,d=s-g,h=o-r+g-s,f=n-i,p=c*u-d*f,m=(h*u-d*l)/p,_=(c*l-h*f)/p;return new e(r-o+m*r,s-o+_*s,o,n-t+m*n,a-t+_*a,t,m,_,1)},e.quadrilateralToSquare=function(o,t,r,n,g,i,s,a){return e.squareToQuadrilateral(o,t,r,n,g,i,s,a).buildAdjoint()}}),goog.provide("w69b.qr.DefaultGridSampler"),goog.require("w69b.qr.BitMatrix"),goog.require("w69b.qr.GridSampler"),goog.require("w69b.qr.GridSamplerInterface"),goog.require("w69b.qr.PerspectiveTransform"),goog.scope(function(){var e=w69b.qr.PerspectiveTransform,o=w69b.qr.GridSampler,t=w69b.qr.BitMatrix;w69b.qr.DefaultGridSampler=function(){};var r=w69b.qr.DefaultGridSampler.prototype;r.sampleGrid=function(o,t,r,n,g,i,s,a,u,l,c,d,h,f,p,m,_,E,v){var y=e.quadrilateralToQuadrilateral(n,g,i,s,a,u,l,c,d,h,f,p,m,_,E,v);return this.sampleGridTransform(o,t,r,y)},r.sampleGridTransform=function(e,r,n,g){if(0>=r||0>=n)throw new w69b.qr.NotFoundError;for(var i,s=new t(r,n),a=Array(r<<1),u=0;n>u;u++){var l=a.length,c=u+.5;for(i=0;l>i;i+=2)a[i]=(i>>1)+.5,a[i+1]=c;g.transformPoints1(a),o.checkAndNudgePoints(e,a);try{for(i=0;l>i;i+=2)e.get(a[i]>>0,a[i+1]>>0)&&s.set(i>>1,u)}catch(d){throw new w69b.qr.NotFoundError}}return s},o.setGridSampler(new w69b.qr.DefaultGridSampler)}),goog.provide("w69b.qr.DecodeHintType"),w69b.qr.DecodeHintType={TRY_HARDER:1,CHARACTER_SET:2},goog.provide("w69b.qr.FinderPattern"),goog.provide("w69b.qr.FinderPatternInfo"),goog.require("w69b.qr.ResultPoint"),goog.scope(function(){w69b.qr.FinderPattern=function(e,o,t,r){goog.base(this,e,o),this.count=goog.isDef(r)?r:1,this.estimatedModuleSize=t};var e=w69b.qr.FinderPattern;goog.inherits(e,w69b.qr.ResultPoint);var o=e.prototype;o.incrementCount=function(){this.count++},o.getCount=function(){return this.count},o.aboutEquals=function(e,o,t){if(Math.abs(o-this.y)<=e&&Math.abs(t-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return 1>=r||r<=this.estimatedModuleSize}return!1},o.combineEstimate=function(o,t,r){var n=this.count,g=n+1,i=(n*this.x+t)/g,s=(n*this.y+o)/g,a=(n*this.estimatedModuleSize+r)/g;return new e(i,s,a,g)},o.getEstimatedModuleSize=function(){return this.estimatedModuleSize},o.getX=function(){return this.x},o.getY=function(){return this.y},e.orderBestPatterns=function(e){function o(e,o){var t=e.x-o.x,r=e.y-o.y;return t*t+r*r}function t(e,o,t){var r=o.x,n=o.y;return(t.x-r)*(e.y-n)-(t.y-n)*(e.x-r)}var r,n,g,i=o(e[0],e[1]),s=o(e[1],e[2]),a=o(e[0],e[2]);if(i>s||a>s?s>a||i>a?(n=e[2],r=e[0],g=e[1]):(n=e[1],r=e[0],g=e[2]):(n=e[0],r=e[1],g=e[2]),t(r,n,g)<0){var u=r;r=g,g=u}e[0]=r,e[1]=n,e[2]=g},o.toJSON=function(){return{x:this.getX(),y:this.getY(),size:this.getEstimatedModuleSize()}},w69b.qr.FinderPatternInfo=function(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}}),goog.provide("w69b.qr.QRImage"),goog.scope(function(){w69b.qr.ImageData,w69b.qr.QRImage=function(e,o,t){this.width=e,this.height=o,this.data=t};var e=w69b.qr.QRImage,o=e.prototype;o.get=function(e,o){return this.data[o*this.width+e]},o.getWidth=function(){return this.width},o.getHeight=function(){return this.height},o.getMatrix=function(){return this.data},o.getRow=function(e,o){var t;t=null==o||o.length<this.width?new Uint8Array(this.width):o;for(var r=e*this.width,n=0;n<this.width;++n)t[n]=this.data[r+n];return t},o.getIndex=function(e,o){return this.width*o+e},o.setValue=function(e,o,t){this.data[o*this.width+e]=t},e.newEmpty=function(o,t){return new e(o,t,new Uint8Array(new ArrayBuffer(o*t)))}}),goog.provide("w69b.qr.FinderPatternFinder"),goog.require("goog.array"),goog.require("w69b.img.BitMatrixLike"),goog.require("w69b.qr.DecodeHintType"),goog.require("w69b.qr.FinderPattern"),goog.require("w69b.qr.FinderPatternInfo"),goog.require("w69b.qr.NotFoundError"),goog.require("w69b.qr.QRImage"),goog.scope(function(){var e=w69b.qr.FinderPattern,o=w69b.qr.FinderPatternInfo;w69b.qr.ResultPointCallback,w69b.qr.FinderPatternFinder=function(e,o){this.image_=e,this.possibleCenters_=[],this.crossCheckStateCount_=Array(5),this.resultPointCallback_=o||null,this.hasSkipped_=!1};var t=w69b.qr.FinderPatternFinder,r=w69b.qr.FinderPatternFinder.prototype;t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t.INTEGER_MATH_SHIFT=8,t.SKEW_THRESHOLD=.05,t.SKEW_COMBINATIONS=[[0,1,2],[0,1,3],[0,1,4],[0,1,5],[0,2,3],[0,2,4],[0,2,5],[0,3,4],[0,3,5],[0,4,5],[1,2,3],[1,2,4],[1,2,5],[1,3,4],[1,3,5],[1,4,5],[2,3,4],[2,3,5],[2,4,5],[3,4,5]],r.find=function(e){var r=e&&!!e[w69b.qr.DecodeHintType.TRY_HARDER],n=this.image_.height,g=this.image_.width,i=Math.floor(3*n/(4*t.MAX_MODULES));(i<t.MIN_SKIP||r)&&(i=t.MIN_SKIP);for(var s,a=!1,u=Array(5),l=i-1;n>l&&!a;l+=i){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var c=0,d=0;g>d;d++)if(this.image_.get(d,l))1==(1&c)&&c++,u[c]++;else if(0==(1&c))if(4==c)if(t.foundPatternCross(u)){if(s=this.handlePossibleCenter(u,l,d),!s){u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,c=3;continue}if(i=2,this.hasSkipped_)a=this.haveMultiplyConfirmedCenters();else{var h=this.findRowSkip();h>u[2]&&(l+=h-u[2]-i,d=g-1)}c=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,c=3;else u[++c]++;else u[c]++;t.foundPatternCross(u)&&(s=this.handlePossibleCenter(u,l,g),s&&(i=u[0],this.hasSkipped_&&(a=this.haveMultiplyConfirmedCenters())))}var f=this.selectBestPatterns(!0);return w69b.qr.FinderPattern.orderBestPatterns(f),new o(f)},r.centerFromEnd=function(e,o){return o-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var o=0,r=0;5>r;r++){var n=e[r];if(0==n)return!1;o+=n}if(7>o)return!1;var g=Math.floor((o<<t.INTEGER_MATH_SHIFT)/7),i=Math.floor(g/2);return Math.abs(g-(e[0]<<t.INTEGER_MATH_SHIFT))<i&&Math.abs(g-(e[1]<<t.INTEGER_MATH_SHIFT))<i&&Math.abs(3*g-(e[2]<<t.INTEGER_MATH_SHIFT))<3*i&&Math.abs(g-(e[3]<<t.INTEGER_MATH_SHIFT))<i&&Math.abs(g-(e[4]<<t.INTEGER_MATH_SHIFT))<i},r.getCrossCheckStateCount=function(){return this.crossCheckStateCount_[0]=0,this.crossCheckStateCount_[1]=0,this.crossCheckStateCount_[2]=0,this.crossCheckStateCount_[3]=0,this.crossCheckStateCount_[4]=0,this.crossCheckStateCount_},r.crossCheckVertical=function(e,o,r,n){for(var g=this.image_,i=g.height,s=this.getCrossCheckStateCount(),a=e;a>=0&&g.get(o,a);)s[2]++,a--;if(0>a)return 0/0;for(;a>=0&&!g.get(o,a)&&s[1]<=r;)s[1]++,a--;if(0>a||s[1]>r)return 0/0;for(;a>=0&&g.get(o,a)&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return 0/0;for(a=e+1;i>a&&g.get(o,a);)s[2]++,a++;if(a==i)return 0/0;for(;i>a&&!g.get(o,a)&&s[3]<r;)s[3]++,a++;if(a==i||s[3]>=r)return 0/0;for(;i>a&&g.get(o,a)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return 0/0;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-n)<2*n&&t.foundPatternCross(s)?this.centerFromEnd(s,a):0/0},r.crossCheckHorizontal=function(e,o,r,n){for(var g=this.image_,i=g.width,s=this.getCrossCheckStateCount(),a=e;a>=0&&g.get(a,o);)s[2]++,a--;if(0>a)return 0/0;for(;a>=0&&!g.get(a,o)&&s[1]<=r;)s[1]++,a--;if(0>a||s[1]>r)return 0/0;for(;a>=0&&g.get(a,o)&&s[0]<=r;)s[0]++,a--;if(s[0]>r)return 0/0;for(a=e+1;i>a&&g.get(a,o);)s[2]++,a++;if(a==i)return 0/0;for(;i>a&&!g.get(a,o)&&s[3]<r;)s[3]++,a++;if(a==i||s[3]>=r)return 0/0;for(;i>a&&g.get(a,o)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return 0/0;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-n)<n&&t.foundPatternCross(s)?this.centerFromEnd(s,a):0/0},r.handlePossibleCenter=function(o,t,r){var n=o[0]+o[1]+o[2]+o[3]+o[4],g=this.centerFromEnd(o,r),i=this.crossCheckVertical(t,Math.floor(g),o[2],n);if(!isNaN(i)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(i),o[2],n),!isNaN(g))){for(var s=n/7,a=!1,u=0;u<this.possibleCenters_.length;u++){var l=this.possibleCenters_[u];if(l.aboutEquals(s,i,g)){this.possibleCenters_[u]=l.combineEstimate(i,g,s),a=!0;break}}if(!a){var c=new e(g,i,s);this.possibleCenters_.push(c),null!=this.resultPointCallback_&&this.resultPointCallback_(c)}return!0}return!1},r.findRowSkip=function(){var e=this.possibleCenters_.length;if(1>=e)return 0;for(var o=null,r=0;r<this.possibleCenters_.length;++r){var n=this.possibleCenters_[r];if(n.getCount()>=t.CENTER_QUORUM){if(null!=o)return this.hasSkipped_=!0,Math.floor((Math.abs(o.getX()-n.getX())-Math.abs(o.getY()-n.getY()))/2);o=n}}return 0},r.haveMultiplyConfirmedCenters=function(){var e=0,o=0,r=this.possibleCenters_.length;if(this.possibleCenters_.forEach(function(r){r.getCount()<t.CENTER_QUORUM||(e++,o+=r.getEstimatedModuleSize())},this),3>e)return!1;var n=o/r,g=0;if(this.possibleCenters_.forEach(function(e){g+=Math.abs(e.getEstimatedModuleSize()-n)}),g>.05*o)return!1;var i=this.selectBestPatterns(),s=t.computeSkew(i);return s<t.SKEW_THRESHOLD},r.selectBestPatterns=function(e){var o=this.possibleCenters_.length;if(3>o)throw new w69b.qr.NotFoundError;var r,n=goog.array.clone(this.possibleCenters_);if(o>3){var g=0,i=0;n.forEach(function(e){var o=e.getEstimatedModuleSize();g+=o,i+=o*o}),r=g/o;var s=Math.sqrt(i/o-r*r);n.sort(t.FurthestFromAverageComparator(r));for(var a=Math.max(.2*r,s),u=0;u<n.length&&n.length>3;u++){var l=n[u];Math.abs(l.getEstimatedModuleSize()-r)>a&&(goog.array.removeAt(n,u),u--)}}if(n.length>3)if(g=0,n.forEach(function(e){g+=e.getEstimatedModuleSize()}),r=g/n.length,n.sort(t.CenterComparator(r)),e){var c=t.getCombinations(n).map(function(e){return{centers:e,skew:t.computeSkew(e)}});c.sort(function(e,o){return goog.array.defaultCompare(e.skew,o.skew)}),n=c[0].centers}else n=n.slice(0,3);return n},t.getCombinations=function(e){var o=e.length,r=[];return t.SKEW_COMBINATIONS.forEach(function(t){t[0]<o&&t[1]&&o&&t[2]<o&&r.push([e[t[0]],e[t[1]],e[t[2]]])}),r},t.FurthestFromAverageComparator=function(e){return function(o,t){var r=Math.abs(t.getEstimatedModuleSize()-e),n=Math.abs(o.getEstimatedModuleSize()-e);return n>r?-1:r==n?0:1}},t.CenterComparator=function(e){return function(o,t){if(t.getCount()==o.getCount()){var r=Math.abs(t.getEstimatedModuleSize()-e),n=Math.abs(o.getEstimatedModuleSize()-e);return n>r?1:r==n?0:-1}return t.getCount()-o.getCount()}},t.diff=function(e,o){var t=e.getX()-o.getX(),r=e.getY()-o.getY(),n=Math.sqrt(t*t+r*r);return[t/n,r/n]},t.scalarProduct=function(e,o){return e[0]*o[0]+e[1]*o[1]},t.SQRT_05=Math.sqrt(.5),t.computeSkew=function(e){var o=t.diff(e[0],e[1]),r=t.diff(e[0],e[2]),n=t.diff(e[1],e[2]),g=[Math.abs(t.scalarProduct(o,r)),Math.abs(t.scalarProduct(o,n)),Math.abs(t.scalarProduct(r,n))];g.sort();var i=g[0]+Math.abs(g[1]-t.SQRT_05)+Math.abs(g[2]-t.SQRT_05);return i}}),goog.provide("w69b.qr.MathUtils"),goog.scope(function(){var e=w69b.qr.MathUtils;e.distance=function(e,o,t,r){var n=e-t,g=o-r;return Math.sqrt(n*n+g*g)}}),goog.provide("w69b.qr.Version"),goog.require("w69b.qr.BitMatrix"),goog.require("w69b.qr.FormatError"),goog.scope(function(){var e=w69b.qr.FormatError;w69b.qr.ECB=function(e,o){this.count=e,this.dataCodewords=o};var o=w69b.qr.ECB;w69b.qr.ECBlocks=function(e,o,t){this.ecCodewordsPerBlock=e,this.ecBlocks=t?[o,t]:[o]};var t=w69b.qr.ECBlocks;t.prototype.getECBlocks=function(){return this.ecBlocks},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getNumBlocks=function(){for(var e=0,o=0;o<this.ecBlocks.length;o++)e+=this.ecBlocks[o].count;return e},w69b.qr.Version=function(e,o,t,r,n,g){this.versionNumber=e,this.alignmentPatternCenters=o,this.ecBlocks=[t,r,n,g];for(var i=0,s=t.ecCodewordsPerBlock,a=t.getECBlocks(),u=0;u<a.length;u++){var l=a[u];i+=l.count*(l.dataCodewords+s)}this.totalCodewords=i};var r=w69b.qr.Version,n=r.prototype;n.getVersionNumber=function(){return this.versionNumber},n.getTotalCodewords=function(){return this.totalCodewords},n.toString=function(){return""+this.versionNumber},n.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),o=new w69b.qr.BitMatrix(e);o.setRegion(0,0,9,9),o.setRegion(e-8,0,8,9),o.setRegion(0,e-8,9,8);for(var t=this.alignmentPatternCenters.length,r=0;t>r;r++)for(var n=this.alignmentPatternCenters[r]-2,g=0;t>g;g++)0==r&&(0==g||g==t-1)||r==t-1&&0==g||o.setRegion(this.alignmentPatternCenters[g]-2,n,5,5);return o.setRegion(6,9,1,e-17),o.setRegion(9,6,e-17,1),this.versionNumber>6&&(o.setRegion(e-11,0,3,6),o.setRegion(0,e-11,6,3)),o},n.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal]},r.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],r.VERSIONS=function(){return[new r(1,[],new t(7,new o(1,19)),new t(10,new o(1,16)),new t(13,new o(1,13)),new t(17,new o(1,9))),new r(2,[6,18],new t(10,new o(1,34)),new t(16,new o(1,28)),new t(22,new o(1,22)),new t(28,new o(1,16))),new r(3,[6,22],new t(15,new o(1,55)),new t(26,new o(1,44)),new t(18,new o(2,17)),new t(22,new o(2,13))),new r(4,[6,26],new t(20,new o(1,80)),new t(18,new o(2,32)),new t(26,new o(2,24)),new t(16,new o(4,9))),new r(5,[6,30],new t(26,new o(1,108)),new t(24,new o(2,43)),new t(18,new o(2,15),new o(2,16)),new t(22,new o(2,11),new o(2,12))),new r(6,[6,34],new t(18,new o(2,68)),new t(16,new o(4,27)),new t(24,new o(4,19)),new t(28,new o(4,15))),new r(7,[6,22,38],new t(20,new o(2,78)),new t(18,new o(4,31)),new t(18,new o(2,14),new o(4,15)),new t(26,new o(4,13),new o(1,14))),new r(8,[6,24,42],new t(24,new o(2,97)),new t(22,new o(2,38),new o(2,39)),new t(22,new o(4,18),new o(2,19)),new t(26,new o(4,14),new o(2,15))),new r(9,[6,26,46],new t(30,new o(2,116)),new t(22,new o(3,36),new o(2,37)),new t(20,new o(4,16),new o(4,17)),new t(24,new o(4,12),new o(4,13))),new r(10,[6,28,50],new t(18,new o(2,68),new o(2,69)),new t(26,new o(4,43),new o(1,44)),new t(24,new o(6,19),new o(2,20)),new t(28,new o(6,15),new o(2,16))),new r(11,[6,30,54],new t(20,new o(4,81)),new t(30,new o(1,50),new o(4,51)),new t(28,new o(4,22),new o(4,23)),new t(24,new o(3,12),new o(8,13))),new r(12,[6,32,58],new t(24,new o(2,92),new o(2,93)),new t(22,new o(6,36),new o(2,37)),new t(26,new o(4,20),new o(6,21)),new t(28,new o(7,14),new o(4,15))),new r(13,[6,34,62],new t(26,new o(4,107)),new t(22,new o(8,37),new o(1,38)),new t(24,new o(8,20),new o(4,21)),new t(22,new o(12,11),new o(4,12))),new r(14,[6,26,46,66],new t(30,new o(3,115),new o(1,116)),new t(24,new o(4,40),new o(5,41)),new t(20,new o(11,16),new o(5,17)),new t(24,new o(11,12),new o(5,13))),new r(15,[6,26,48,70],new t(22,new o(5,87),new o(1,88)),new t(24,new o(5,41),new o(5,42)),new t(30,new o(5,24),new o(7,25)),new t(24,new o(11,12),new o(7,13))),new r(16,[6,26,50,74],new t(24,new o(5,98),new o(1,99)),new t(28,new o(7,45),new o(3,46)),new t(24,new o(15,19),new o(2,20)),new t(30,new o(3,15),new o(13,16))),new r(17,[6,30,54,78],new t(28,new o(1,107),new o(5,108)),new t(28,new o(10,46),new o(1,47)),new t(28,new o(1,22),new o(15,23)),new t(28,new o(2,14),new o(17,15))),new r(18,[6,30,56,82],new t(30,new o(5,120),new o(1,121)),new t(26,new o(9,43),new o(4,44)),new t(28,new o(17,22),new o(1,23)),new t(28,new o(2,14),new o(19,15))),new r(19,[6,30,58,86],new t(28,new o(3,113),new o(4,114)),new t(26,new o(3,44),new o(11,45)),new t(26,new o(17,21),new o(4,22)),new t(26,new o(9,13),new o(16,14))),new r(20,[6,34,62,90],new t(28,new o(3,107),new o(5,108)),new t(26,new o(3,41),new o(13,42)),new t(30,new o(15,24),new o(5,25)),new t(28,new o(15,15),new o(10,16))),new r(21,[6,28,50,72,94],new t(28,new o(4,116),new o(4,117)),new t(26,new o(17,42)),new t(28,new o(17,22),new o(6,23)),new t(30,new o(19,16),new o(6,17))),new r(22,[6,26,50,74,98],new t(28,new o(2,111),new o(7,112)),new t(28,new o(17,46)),new t(30,new o(7,24),new o(16,25)),new t(24,new o(34,13))),new r(23,[6,30,54,74,102],new t(30,new o(4,121),new o(5,122)),new t(28,new o(4,47),new o(14,48)),new t(30,new o(11,24),new o(14,25)),new t(30,new o(16,15),new o(14,16))),new r(24,[6,28,54,80,106],new t(30,new o(6,117),new o(4,118)),new t(28,new o(6,45),new o(14,46)),new t(30,new o(11,24),new o(16,25)),new t(30,new o(30,16),new o(2,17))),new r(25,[6,32,58,84,110],new t(26,new o(8,106),new o(4,107)),new t(28,new o(8,47),new o(13,48)),new t(30,new o(7,24),new o(22,25)),new t(30,new o(22,15),new o(13,16))),new r(26,[6,30,58,86,114],new t(28,new o(10,114),new o(2,115)),new t(28,new o(19,46),new o(4,47)),new t(28,new o(28,22),new o(6,23)),new t(30,new o(33,16),new o(4,17))),new r(27,[6,34,62,90,118],new t(30,new o(8,122),new o(4,123)),new t(28,new o(22,45),new o(3,46)),new t(30,new o(8,23),new o(26,24)),new t(30,new o(12,15),new o(28,16))),new r(28,[6,26,50,74,98,122],new t(30,new o(3,117),new o(10,118)),new t(28,new o(3,45),new o(23,46)),new t(30,new o(4,24),new o(31,25)),new t(30,new o(11,15),new o(31,16))),new r(29,[6,30,54,78,102,126],new t(30,new o(7,116),new o(7,117)),new t(28,new o(21,45),new o(7,46)),new t(30,new o(1,23),new o(37,24)),new t(30,new o(19,15),new o(26,16))),new r(30,[6,26,52,78,104,130],new t(30,new o(5,115),new o(10,116)),new t(28,new o(19,47),new o(10,48)),new t(30,new o(15,24),new o(25,25)),new t(30,new o(23,15),new o(25,16))),new r(31,[6,30,56,82,108,134],new t(30,new o(13,115),new o(3,116)),new t(28,new o(2,46),new o(29,47)),new t(30,new o(42,24),new o(1,25)),new t(30,new o(23,15),new o(28,16))),new r(32,[6,34,60,86,112,138],new t(30,new o(17,115)),new t(28,new o(10,46),new o(23,47)),new t(30,new o(10,24),new o(35,25)),new t(30,new o(19,15),new o(35,16))),new r(33,[6,30,58,86,114,142],new t(30,new o(17,115),new o(1,116)),new t(28,new o(14,46),new o(21,47)),new t(30,new o(29,24),new o(19,25)),new t(30,new o(11,15),new o(46,16))),new r(34,[6,34,62,90,118,146],new t(30,new o(13,115),new o(6,116)),new t(28,new o(14,46),new o(23,47)),new t(30,new o(44,24),new o(7,25)),new t(30,new o(59,16),new o(1,17))),new r(35,[6,30,54,78,102,126,150],new t(30,new o(12,121),new o(7,122)),new t(28,new o(12,47),new o(26,48)),new t(30,new o(39,24),new o(14,25)),new t(30,new o(22,15),new o(41,16))),new r(36,[6,24,50,76,102,128,154],new t(30,new o(6,121),new o(14,122)),new t(28,new o(6,47),new o(34,48)),new t(30,new o(46,24),new o(10,25)),new t(30,new o(2,15),new o(64,16))),new r(37,[6,28,54,80,106,132,158],new t(30,new o(17,122),new o(4,123)),new t(28,new o(29,46),new o(14,47)),new t(30,new o(49,24),new o(10,25)),new t(30,new o(24,15),new o(46,16))),new r(38,[6,32,58,84,110,136,162],new t(30,new o(4,122),new o(18,123)),new t(28,new o(13,46),new o(32,47)),new t(30,new o(48,24),new o(14,25)),new t(30,new o(42,15),new o(32,16))),new r(39,[6,26,54,82,110,138,166],new t(30,new o(20,117),new o(4,118)),new t(28,new o(40,47),new o(7,48)),new t(30,new o(43,24),new o(22,25)),new t(30,new o(10,15),new o(67,16))),new r(40,[6,30,58,86,114,142,170],new t(30,new o(19,118),new o(6,119)),new t(28,new o(18,47),new o(31,48)),new t(30,new o(34,24),new o(34,25)),new t(30,new o(20,15),new o(61,16)))]}(),r.getVersionForNumber=function(o){if(1>o||o>40)throw new e;return r.VERSIONS[o-1]},r.getProvisionalVersionForDimension=function(o){if(o%4!=1)throw new e;return r.getVersionForNumber(o-17>>2)},r.decodeVersionInformation=function(e){for(var o=4294967295,t=0,n=0;n<r.VERSION_DECODE_INFO.length;n++){var g=r.VERSION_DECODE_INFO[n];if(g==e)return r.getVersionForNumber(n+7);var i=w69b.qr.FormatInformation.numBitsDiffering(e,g);o>i&&(t=n+7,o=i)}return o>3?null:r.getVersionForNumber(t)}}),goog.provide("w69b.qr.Detector"),goog.require("w69b.img.BitMatrixLike"),goog.require("w69b.qr.AlignmentPattern"),goog.require("w69b.qr.AlignmentPatternFinder"),goog.require("w69b.qr.BitMatrix"),goog.require("w69b.qr.DefaultGridSampler"),goog.require("w69b.qr.FinderPatternFinder"),goog.require("w69b.qr.MathUtils"),goog.require("w69b.qr.NotFoundError"),goog.require("w69b.qr.Version"),goog.scope(function(){{var e=w69b.qr.Version,o=w69b.qr.PerspectiveTransform,t=w69b.qr.NotFoundError,r=w69b.qr.MathUtils;w69b.qr.AlignmentPattern}w69b.qr.DetectorResult=function(e,o){this.bits=e,this.points=o
};var n=w69b.qr.DetectorResult;w69b.qr.Detector=function(e,o){this.image=e,this.resultPointCallback=o||null};var g=w69b.qr.Detector.prototype;g.sizeOfBlackWhiteBlackRun=function(e,o,t,n){var g=Math.abs(n-o)>Math.abs(t-e);if(g){var i=e;e=o,o=i,i=t,t=n,n=i}for(var s=Math.abs(t-e),a=Math.abs(n-o),u=-s>>1,l=t>e?1:-1,c=n>o?1:-1,d=0,h=t+l,f=e,p=o;f!=h;f+=l){var m=g?p:f,_=g?f:p;if(1==d==!!this.image.get(m,_)){if(2==d)return r.distance(f,p,e,o);d++}if(u+=a,u>0){if(p==n)break;p+=c,u-=s}}return 2==d?r.distance(t+l,n,e,o):0/0},g.sizeOfBlackWhiteBlackRunBothWays=function(e,o,t,r){var n=this.sizeOfBlackWhiteBlackRun(e,o,t,r),g=1,i=e-(t-e);0>i?(g=e/(e-i),i=0):i<this.image.width||(g=(this.image.width-1-e)/(i-e),i=this.image.width-1);var s=Math.floor(o-(r-o)*g);return g=1,0>s?(g=o/(o-s),s=0):s<this.image.height||(g=(this.image.height-1-o)/(s-o),s=this.image.height-1),i=Math.floor(e+(i-e)*g),n+=this.sizeOfBlackWhiteBlackRun(e,o,i,s),n-1},g.calculateModuleSizeOneWay=function(e,o){var t=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.x),Math.floor(e.y),Math.floor(o.x),Math.floor(o.y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.x),Math.floor(o.y),Math.floor(e.x),Math.floor(e.y));return isNaN(t)?r/7:isNaN(r)?t/7:(t+r)/14},g.calculateModuleSize=function(e,o,t){return(this.calculateModuleSizeOneWay(e,o)+this.calculateModuleSizeOneWay(e,t))/2},g.distance=function(e,o){var t=e.x-o.x,r=e.y-o.y;return Math.sqrt(t*t+r*r)},g.computeDimension=function(e,o,t,r){var n=this.distance(e,o)/r,g=this.distance(e,t)/r,i=Math.round((n+g)/2)+7;switch(i%4){case 0:i++;break;case 2:i--;break;case 3:i+=2}return i},g.findAlignmentInRegion=function(e,o,r,n){var g=Math.floor(n*e),i=Math.max(0,o-g),s=Math.min(this.image.width-1,o+g);if(3*e>s-i)throw new t;var a=Math.max(0,r-g),u=Math.min(this.image.height-1,r+g),l=new w69b.qr.AlignmentPatternFinder(this.image,i,a,s-i,u-a,e,this.resultPointCallback);return l.find()},g.createTransform=function(e,t,r,n,g){var i,s,a,u,l=g-3.5;null!=n?(i=n.x,s=n.y,a=u=l-3):(i=t.x-e.x+r.x,s=t.y-e.y+r.y,a=u=l);var c=o.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,a,u,3.5,l,e.x,e.y,t.x,t.y,i,s,r.x,r.y);return c},g.sampleGrid=function(e,o,t){var r=w69b.qr.GridSampler.getInstance();return r.sampleGridTransform(e,t,t,o)},g.processFinderPatternInfo=function(o){var r=o.topLeft,g=o.topRight,i=o.bottomLeft,s=this.calculateModuleSize(r,g,i);if(1>s)throw new t;var a=this.computeDimension(r,g,i,s),u=e.getProvisionalVersionForDimension(a),l=u.getDimensionForVersion()-7,c=null;if(u.alignmentPatternCenters.length>0)for(var d=g.x-r.x+i.x,h=g.y-r.y+i.y,f=1-3/l,p=Math.floor(r.x+f*(d-r.x)),m=Math.floor(r.y+f*(h-r.y)),_=4;16>=_;_*=2)try{c=this.findAlignmentInRegion(s,p,m,_);break}catch(E){if(!(E instanceof t))throw E}var v,y=this.createTransform(r,g,i,c,a),b=this.sampleGrid(this.image,y,a);return v=null==c?[i,r,g]:[i,r,g,c],new n(b,v)},g.detect=function(){var e=new w69b.qr.FinderPatternFinder(this.image,this.resultPointCallback).find();return this.processFinderPatternInfo(e)}}),goog.provide("w69b.qr.ErrorCorrectionLevel"),goog.scope(function(){w69b.qr.ErrorCorrectionLevel=function(e,o,t){this.ordinal=e,this.bits=o,this.name=t};var e=w69b.qr.ErrorCorrectionLevel;e.L=new e(0,1,"L"),e.M=new e(1,0,"M"),e.Q=new e(2,3,"Q"),e.H=new e(3,2,"H"),e.FOR_BITS=[e.M,e.L,e.H,e.Q],e.getByName=function(o){var t={L:e.L,M:e.M,Q:e.Q,H:e.H};return t.hasOwnProperty(o)?t[o]:null};var o=e.prototype;o.getBits=function(){return this.bits},o.toString=function(){return this.name},e.forBits=function(o){if(0>o||o>=e.FOR_BITS.length)throw Error();return e.FOR_BITS[o]}}),goog.provide("w69b.qr.FormatInformation"),goog.provide("w69b.qr.URShift"),goog.require("w69b.qr.ErrorCorrectionLevel"),goog.scope(function(){w69b.qr.URShift=function(e,o){return 0>e?(e>>o)+(2<<~o):e>>o};var e=w69b.qr.URShift;w69b.qr.FormatInformation=function(e){this.errorCorrectionLevel=w69b.qr.ErrorCorrectionLevel.forBits(e>>3&3),this.dataMask=7&e};var o=w69b.qr.FormatInformation,t=o.prototype;o.FORMAT_INFO_MASK_QR=21522,o.FORMAT_INFO_DECODE_LOOKUP=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],o.BITS_SET_IN_HALF_BYTE=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4],t.GetHashCode=function(){return this.errorCorrectionLevel.ordinal<<3|this.dataMask},t.Equals=function(e){return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask},o.numBitsDiffering=function(t,r){return t^=r,o.BITS_SET_IN_HALF_BYTE[15&t]+o.BITS_SET_IN_HALF_BYTE[15&e(t,4)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,8)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,12)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,16)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,20)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,24)]+o.BITS_SET_IN_HALF_BYTE[15&e(t,28)]},o.decodeFormatInformation=function(e){var t=o.doDecodeFormatInformation(e);return null!=t?t:o.doDecodeFormatInformation(e^o.FORMAT_INFO_MASK_QR)},o.doDecodeFormatInformation=function(e){for(var t=4294967295,r=0,n=0;n<o.FORMAT_INFO_DECODE_LOOKUP.length;n++){var g=o.FORMAT_INFO_DECODE_LOOKUP[n],i=g[0];if(i==e)return new o(g[1]);var s=o.numBitsDiffering(e,i);t>s&&(r=g[1],t=s)}return t>3?null:new o(r)}}),goog.provide("w69b.qr.DataMask"),goog.require("w69b.qr.URShift"),goog.scope(function(){var e=w69b.qr.URShift,o=w69b.qr.DataMask;o.DataMaskInterface=function(){},o.DataMaskInterface.prototype.unmaskBitMatrix=function(){},o.DataMaskInterface.prototype.isMasked=function(){},o.forReference=function(e){if(0>e||e>7)throw Error();return o.DATA_MASKS_[e]},o.DataMask000=function(){},o.DataMask000.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask000.prototype.isMasked=function(e,o){return 0==(e+o&1)},o.DataMask001=function(){},o.DataMask001.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask001.prototype.isMasked=function(e){return 0==(1&e)},o.DataMask010=function(){},o.DataMask010.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask010.prototype.isMasked=function(e,o){return o%3==0},o.DataMask011=function(){},o.DataMask011.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask011.prototype.isMasked=function(e,o){return(e+o)%3==0},o.DataMask100=function(){},o.DataMask100.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask100.prototype.isMasked=function(o,t){return 0==(e(o,1)+t/3&1)},o.DataMask101=function(){},o.DataMask101.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask101.prototype.isMasked=function(e,o){var t=e*o;return(1&t)+t%3==0},o.DataMask110=function(){},o.DataMask110.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask110.prototype.isMasked=function(e,o){var t=e*o;return 0==((1&t)+t%3&1)},o.DataMask111=function(){},o.DataMask111.prototype.unmaskBitMatrix=function(e,o){for(var t=0;o>t;t++)for(var r=0;o>r;r++)this.isMasked(t,r)&&e.flip(r,t)},o.DataMask111.prototype.isMasked=function(e,o){return 0==((e+o&1)+e*o%3&1)},o.DATA_MASKS_=[new o.DataMask000,new o.DataMask001,new o.DataMask010,new o.DataMask011,new o.DataMask100,new o.DataMask101,new o.DataMask110,new o.DataMask111]}),goog.provide("w69b.qr.BitMatrixParser"),goog.require("w69b.qr.DataMask"),goog.require("w69b.qr.FormatError"),goog.require("w69b.qr.FormatInformation"),goog.require("w69b.qr.Version"),goog.scope(function(){var e=w69b.qr.FormatInformation,o=w69b.qr.Version,t=w69b.qr.DataMask,r=w69b.qr.FormatError;w69b.qr.BitMatrixParser=function(e){var o=e.getHeight();if(21>o||1!=(3&o))throw new r;this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null};var n=w69b.qr.BitMatrixParser,g=n.prototype;g.copyBit=function(e,o,t){return this.bitMatrix.get(e,o)?t<<1|1:t<<1},g.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var o=0,t=0;6>t;t++)o=this.copyBit(t,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(var n=5;n>=0;n--)o=this.copyBit(8,n,o);if(this.parsedFormatInfo=e.decodeFormatInformation(o),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var g=this.bitMatrix.getHeight();o=0;for(var i=g-8,t=g-1;t>=i;t--)o=this.copyBit(t,8,o);for(var n=g-7;g>n;n++)o=this.copyBit(8,n,o);if(this.parsedFormatInfo=e.decodeFormatInformation(o),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw new r},g.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=e-17>>2;if(6>=t)return o.getVersionForNumber(t);for(var n=0,g=e-11,i=5;i>=0;i--)for(var s=e-9;s>=g;s--)n=this.copyBit(s,i,n);if(this.parsedVersion=o.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.getDimensionForVersion()==e)return this.parsedVersion;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=g;i--)n=this.copyBit(s,i,n);if(this.parsedVersion=o.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.getDimensionForVersion()==e)return this.parsedVersion;throw new r},g.readCodewords=function(){var e=this.readFormatInformation(),o=this.readVersion(),n=t.forReference(e.dataMask),g=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,g);for(var i=o.buildFunctionPattern(),s=!0,a=Array(o.totalCodewords),u=0,l=0,c=0,d=g-1;d>0;d-=2){6==d&&d--;for(var h=0;g>h;h++)for(var f=s?g-1-h:h,p=0;2>p;p++)i.get(d-p,f)||(c++,l<<=1,this.bitMatrix.get(d-p,f)&&(l|=1),8==c&&(a[u++]=l,c=0,l=0));s^=!0}if(u!=o.totalCodewords)throw new r;return a}}),goog.provide("w69b.qr.DataBlock"),goog.scope(function(){w69b.qr.DataBlock=function(e,o){this.numDataCodewords=e,this.codewords=o};var e=w69b.qr.DataBlock;e.getDataBlocks=function(o,t,r){if(o.length!=t.totalCodewords)throw"ArgumentException";for(var n=t.getECBlocksForLevel(r),g=0,i=n.getECBlocks(),s=0;s<i.length;s++)g+=i[s].count;for(var a=Array(g),u=0,l=0;l<i.length;l++)for(var c=i[l],s=0;s<c.count;s++){var d=c.dataCodewords,h=n.ecCodewordsPerBlock+d;a[u++]=new e(d,Array(h))}for(var f=a[0].codewords.length,p=a.length-1;p>=0;){var m=a[p].codewords.length;if(m==f)break;p--}p++;for(var _=f-n.ecCodewordsPerBlock,E=0,s=0;_>s;s++)for(var l=0;u>l;l++)a[l].codewords[s]=o[E++];for(var l=p;u>l;l++)a[l].codewords[_]=o[E++];for(var v=a[0].codewords.length,s=_;v>s;s++)for(var l=0;u>l;l++){var y=p>l?s:s+1;a[l].codewords[y]=o[E++]}return a}}),goog.provide("goog.string.StringBuffer"),goog.string.StringBuffer=function(e){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,o){if(this.buffer_+=e,null!=o)for(var t=1;t<arguments.length;t++)this.buffer_+=arguments[t];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.provide("w69b.qr.BitSource"),goog.scope(function(){w69b.qr.BitSource=function(e){this.bytes_=e,this.byteOffset_=0,this.bitOffset_=0};var e=w69b.qr.BitSource,o=e.prototype;o.getBitOffset=function(){return this.bitOffset_},o.getByteOffset=function(){return this.byteOffset_},o.readBits=function(e){if(1>e||e>32||e>this.available())throw Error();var o=0;if(this.bitOffset_>0){var t=8-this.bitOffset_,r=t>e?e:t,n=t-r,g=255>>8-r<<n;o=(this.bytes_[this.byteOffset_]&g)>>n,e-=r,this.bitOffset_+=r,8==this.bitOffset_&&(this.bitOffset_=0,this.byteOffset_++)}if(e>0){for(;e>=8;)o=o<<8|255&this.bytes_[this.byteOffset_],this.byteOffset_++,e-=8;if(e>0){var n=8-e,g=255>>n<<n;o=o<<e|(this.bytes_[this.byteOffset_]&g)>>n,this.bitOffset_+=e}}return o},o.available=function(){return 8*(this.bytes_.length-this.byteOffset_)-this.bitOffset_}}),goog.provide("w69b.qr.CharacterSetECI"),goog.require("goog.object"),goog.scope(function(){var e=w69b.qr.CharacterSetECI;e.valuesToNames={0:["CP437"],2:["CP437"],1:["ISO-8859-1"],3:["ISO-8859-1"],4:["ISO-8859-2"],5:["ISO-8859-3"],6:["ISO-8859-4"],7:["ISO-8859-5"],8:["ISO-8859-6"],9:["ISO-8859-7"],10:["ISO-8859-7"],11:["ISO-8859-9"],12:["ISO-8859-10"],13:["ISO-8859-11"],14:["ISO-8859-12"],15:["ISO-8859-13"],16:["ISO-8859-14"],17:["ISO-8859-15"],18:["ISO-8859-16"],20:["SHIFT_JIS"],21:["ISO-8859-16"],22:["Cp1251","windows-1251"],23:["Cp1252","windows-1252"],24:["Cp1256","windows-1256"],25:["UTF-16BE","UnicodeBig"],26:["UTF-8"],27:["ASCII","US-ASCII"],170:["ASCII","US-ASCII"],28:["Big5"],29:["GB18030","GB2312","EUC_CN","GBK"],30:["EUC-KR"]},e.namesToValues={},e.buildNamesToValues_=function(){goog.object.forEach(e.valuesToNames,function(o,t){o.forEach(function(o){e.namesToValues[o]||(e.namesToValues[o]=t)})})},e.buildNamesToValues_(),e.getValue=function(o){return+e.namesToValues[o]},e.getName=function(o){var t=e.valuesToNames[o];return t?t[0]:null}}),goog.provide("w69b.qr.Mode"),goog.provide("w69b.qr.ModeEnum"),goog.scope(function(){w69b.qr.Mode=function(e,o,t){this.characterCountBitsForVersions=e,this.bits=o,this.name_=t||"NONAME"};var e=w69b.qr.Mode,o=e.prototype;w69b.qr.ModeEnum={TERMINATOR:new e([0,0,0],0,"TERMINATOR"),NUMERIC:new e([10,12,14],1,"NUMERIC"),ALPHANUMERIC:new e([9,11,13],2,"ALPHANUMERIC"),STRUCTURED_APPEND:new e([0,0,0],3,"STRUCTURED_APPEND"),BYTE:new e([8,16,16],4,"BYTE"),ECI:new e([0,0,0],7,"ECI"),KANJI:new e([8,10,12],8,"KANJI"),FNC1_FIRST_POSITION:new e([0,0,0],5,"FNC1_FIRST_POSITION"),FNC1_SECOND_POSITION:new e([0,0,0],9,"FNC1_SECOND_POSITION"),HANZI:new e([8,10,12],13,"HANZI")};var t=w69b.qr.ModeEnum;o.getCharacterCountBits=function(e){var o,t=e.versionNumber;return o=t>9?t>26?2:1:0,this.characterCountBitsForVersions[o]},o.getBits=function(){return this.bits},o.toString=function(){return this.name_},e.forBits=function(e){switch(e){case 0:return t.TERMINATOR;case 1:return t.NUMERIC;case 2:return t.ALPHANUMERIC;case 3:return t.STRUCTURED_APPEND;case 4:return t.BYTE;case 5:return t.FNC1_FIRST_POSITION;case 7:return t.ECI;case 8:return t.KANJI;case 9:return t.FNC1_SECOND_POSITION;case 13:return t.HANZI;default:throw Error()}}}),goog.provide("w69b.utf8"),/**
 * @license
 * utf8.js
 * License: Apache2, v2 see http://www.apache.org/licenses/LICENSE-2.0
 * @author mb@w69b.com (Manuel Braun)
 */
function(e){/**
   * @license
   * Snippet fixedCharCodeAt borrowed from http://goo.gl/3lRpR.
   * (c) see contributers of site.
   * License: MIT
  */
function o(e,o){var t,r,n=e.charCodeAt(o);if(n>=55296&&56319>=n){if(t=n,r=e.charCodeAt(o+1),isNaN(r))throw"fixedCharCodeAt: Invalid Encoding";return 1024*(t-55296)+(r-56320)+65536}return 56320>n||n>57343?n:!1}/**
   * @license
   * fixedFromCodePoint
  * Convert array of unicode code points to string.
  * Originally from:
  * ES6 Unicode Shims 0.1
  * (c) 2012 Steven Levithan <http://slevithan.com/>
  * MIT License
  * @param {Array.<number>} codePoints codePoints sequence.
  * @return {string} resulting string.
  */
function t(e){var o,t,r,n,g=[];for(n=0;n<e.length;++n)o=e[n],t=o-65536,r=o>65535?[55296+(t>>10),56320+(1023&t)]:[o],g.push(String.fromCharCode.apply(null,r));return g.join("")}function r(e){for(var t=[],r=0;r<e.length;++r){var n=o(e,r);n&&(n>127?n>2047?n>65535?n>2097151?n>67108863?(t.push(240|1&n>>30),t.push(128|63&n>>24),t.push(128|63&n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>24),t.push(128|63&n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(192|n>>6),t.push(128|63&n)):t.push(n))}return t}function n(e){var o=e.length,r=function(t){if(t>o)throw Error();var r=e[t];if(128!==(192&r))throw Error();return 63&r},n=[];try{for(var g=0;o>g;++g){var i=e[g];if(i>255)return null;var s;0===(128&i)?s=i:192===(224&i)?(s=(31&i)<<6|r(g+1),g+=1):224===(240&i)?(s=(15&i)<<12|r(g+1)<<6|r(g+2),g+=2):240===(248&i)?(s=(7&i)<<18|r(g+1)<<12|r(g+2)<<6|r(g+3),g+=3):248===(252&i)?(s=(3&i)<<24|r(g+1)<<18|r(g+2)<<12|r(g+3)<<6|r(g+4),g+=4):252===(254&i)&&(s=(1&i)<<30|r(g+1)<<24|r(g+2)<<18|r(g+3)<<12|r(g+4)<<6|r(g+5),g+=5),n.push(s)}}catch(a){return null}return t(n)}var g={stringToUTF8Bytes:r,UTF8BytesToString:n};"object"==typeof goog&&goog.provide?(w69b.utf8.stringToUTF8Bytes=r,w69b.utf8.UTF8BytesToString=n):"function"==typeof e.define?e.define(g):e.utf8=g}(self),/*
 @license
 Singlebyte encodings values ported from iconv-lite (for nodejs).
 google closure/browser port 2013 by Manuel Braun (mb@w69b.com)

 LICENSE of iconve-lite:

 Copyright (c) 2011 Alexander Shtuchkin

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
goog.provide("w69b.iconvlite"),goog.require("w69b.utf8"),goog.require("goog.object"),goog.scope(function(){var e=w69b.iconvlite;e.SINGLEBYTES={Cp1251:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя",Cp1252:"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ",Cp1256:"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے","ISO-8859-1":" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ","ISO-8859-2":" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙","ISO-8859-3":" Ħ˘£¤�Ĥ§¨İŞĞĴ­�Ż°ħ²³´µĥ·¸ışğĵ½�żÀÁÂ�ÄĊĈÇÈÉÊËÌÍÎÏ�ÑÒÓÔĠÖ×ĜÙÚÛÜŬŜßàáâ�äċĉçèéêëìíîï�ñòóôġö÷ĝùúûüŭŝ˙","ISO-8859-4":" ĄĸŖ¤ĨĻ§¨ŠĒĢŦ­Ž¯°ą˛ŗ´ĩļˇ¸šēģŧŊžŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎĪĐŅŌĶÔÕÖ×ØŲÚÛÜŨŪßāáâãäåæįčéęëėíîīđņōķôõö÷øųúûüũū˙","ISO-8859-5":" ЁЂЃЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђѓєѕіїјљњћќ§ўџ","ISO-8859-6":" ���¤�������،­�������������؛���؟�ءآأؤإئابةتثجحخدذرزسشصضطظعغ�����ـفقكلمنهوىيًٌٍَُِّْ�������������","ISO-8859-7":" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�","ISO-8859-8":" �¢£¤¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾��������������������������������‗אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�","ISO-8859-9":" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ","ISO-8859-10":" ĄĒĢĪĨĶ§ĻĐŠŦŽ­ŪŊ°ąēģīĩķ·ļđšŧž―ūŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎÏÐŅŌÓÔÕÖŨØŲÚÛÜÝÞßāáâãäåæįčéęëėíîïðņōóôõöũøųúûüýþĸ","ISO-8859-11":" กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����","ISO-8859-13":" ”¢£¤„¦§Ø©Ŗ«¬­®Æ°±²³“µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž’","ISO-8859-14":" Ḃḃ£ĊċḊ§Ẁ©ẂḋỲ­®ŸḞḟĠġṀṁ¶ṖẁṗẃṠỳẄẅṡÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŴÑÒÓÔÕÖṪØÙÚÛÜÝŶßàáâãäåæçèéêëìíîïŵñòóôõöṫøùúûüýŷÿ","ISO-8859-15":" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ","ISO-8859-16":" ĄąŁ€„Š§š©Ș«Ź­źŻ°±ČłŽ”¶·žčș»ŒœŸżÀÁÂĂÄĆÆÇÈÉÊËÌÍÎÏĐŃÒÓÔŐÖŚŰÙÚÛÜĘȚßàáâăäćæçèéêëìíîïđńòóôőöśűùúûüęțÿ"},e.ASCII="\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",e.REVERSE_MAPS_={},e.toString=function(o,t){var r=e.ASCII+e.SINGLEBYTES[t];if(!r)throw Error();return o.map(function(e){return r[e]}).join("")},e.isSupported=function(o){return!!e.SINGLEBYTES[o]},e.toBytes=function(o,t){for(var r=e.getReverseMap_(t),n=[],g=0;g<o.length;++g){var i=r[o[g]];if(void 0===i)return null;n.push(i)}return n},e.getReverseMap_=function(o){var t=e.REVERSE_MAPS_[o];if(!t){t={};var r=e.ASCII+e.SINGLEBYTES[o];if(!r)throw Error();for(var n=0;n<r.length;++n)t[r[n]]=n}return e.REVERSE_MAPS_[o]=t,t},e.getSupportedCharsets=function(){return goog.object.getKeys(e.SINGLEBYTES)}}),goog.provide("w69b.qr.stringutils"),goog.require("w69b.iconvlite"),goog.require("w69b.qr.DecodeHintType"),goog.require("w69b.qr.InvalidCharsetError"),goog.require("w69b.utf8"),goog.scope(function(){var e=w69b.qr.stringutils,o=w69b.utf8,t=self.iconv,r=w69b.iconvlite,n=w69b.qr.InvalidCharsetError;e.SHIFT_JIS="SHIFT_JIS",e.GB2312="GB18030",e.EUC_JP="EUC-JP",e.UTF8="UTF-8",e.ISO88591="ISO-8859-1",e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e.bytesToString=function(e,g){var i=g||"UTF-8",s=null;if(self.TextDecoder&&self.Uint8Array&&self.Uint8Array.from)try{var a=new self.TextDecoder(i);return a.decode(self.Uint8Array.from(e))}catch(u){}if("UTF-8"==i)s=o.UTF8BytesToString(e);else if(r.isSupported(i))s=r.toString(e,i);else{if(!t)throw new n("iconv not loaded, cannot handle "+i);var l=t.convert(e,i,"UTF-8");if(null===l)throw new n("toStr "+i+" to UTF-8 "+e);e=l,s=o.UTF8BytesToString(e)}if(null===s)throw new n;return s},e.stringToBytes=function(e,g){var i=g||"UTF-8",s=null;if("UTF-8"==i){if(s=o.stringToUTF8Bytes(e),null===s)throw new n}else if(r.isSupported(i))s=r.toBytes(e,i);else{if(s=o.stringToUTF8Bytes(e),!t)throw new n("iconv not loaded");s=t.convert(s,"UTF-8",i)}if(null===s)throw new n(i+" to bytes: "+e);return s},e.guessEncoding=function(o,t){if(t){var r=t.get(w69b.qr.DecodeHintType.CHARACTER_SET);if(r)return r}for(var n=o.length,g=!0,i=!0,s=!0,a=0,u=0,l=0,c=0,d=0,h=0,f=0,p=0,m=0,_=0,E=0,v=o.length>3&&239==o[0]&&187==o[1]&&191==o[2],y=0;n>y&&(g||i||s);y++){var b=255&o[y];s&&(a>0?0==(128&b)?s=!1:a--:0!=(128&b)&&(0==(64&b)?s=!1:(a++,0==(32&b)?u++:(a++,0==(16&b)?l++:(a++,0==(8&b)?c++:s=!1))))),g&&(b>127&&160>b?g=!1:b>159&&(192>b||215==b||247==b)&&E++),i&&(d>0?64>b||127==b||b>252?i=!1:d--:128==b||160==b||b>239?i=!1:b>160&&224>b?(h++,p=0,f++,f>m&&(m=f)):b>127?(d++,f=0,p++,p>_&&(_=p)):(f=0,p=0))}return s&&a>0&&(s=!1),i&&d>0&&(i=!1),s&&(v||u+l+c>0)?e.UTF8:!i||!e.ASSUME_SHIFT_JIS&&3>m&&3>_?g&&i?2==m&&2==h||10*E>=n?e.SHIFT_JIS:e.ISO88591:g?e.ISO88591:i?e.SHIFT_JIS:s?e.UTF8:e.PLATFORM_DEFAULT_ENCODING:e.SHIFT_JIS}}),goog.provide("w69b.qr.DecodedBitStreamParser"),goog.require("goog.string.StringBuffer"),goog.require("w69b.qr.BitSource"),goog.require("w69b.qr.CharacterSetECI"),goog.require("w69b.qr.FormatError"),goog.require("w69b.qr.Mode"),goog.require("w69b.qr.ModeEnum"),goog.require("w69b.qr.stringutils"),goog.scope(function(){var e=w69b.qr.DecodedBitStreamParser,o=w69b.qr.BitSource,t=w69b.qr.Mode,r=w69b.qr.ModeEnum,n=goog.string.StringBuffer,g=w69b.qr.stringutils,i=w69b.qr.FormatError,s=w69b.qr.CharacterSetECI;e.ALPHANUMERIC_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"],e.GB2312_SUBSET=1,e.decode=function(g,a){var u,l=new o(g),c=new n,d=[],h=!1,f=null;do if(u=l.available()<4?r.TERMINATOR:t.forBits(l.readBits(4)),u!=r.TERMINATOR)if(u==r.FNC1_FIRST_POSITION||u==r.FNC1_SECOND_POSITION)h=!0;else if(u==r.STRUCTURED_APPEND){if(l.available()<16)throw new i;l.readBits(16)}else if(u==r.ECI){var p=e.parseECIValue(l);if(f=s.getName(p),null==f)throw new i}else if(u==r.HANZI){var m=l.readBits(4),_=l.readBits(u.getCharacterCountBits(a));m==e.GB2312_SUBSET&&e.decodeHanziSegment(l,c,_)}else{var E=l.readBits(u.getCharacterCountBits(a));if(u==r.NUMERIC)e.decodeNumericSegment(l,c,E);else if(u==r.ALPHANUMERIC)e.decodeAlphanumericSegment(l,c,E,h);else if(u==r.BYTE)e.decodeByteSegment(l,c,E,f,d);else{if(u!=r.KANJI)throw new i;e.decodeKanjiSegment(l,c,E)}}while(u!=r.TERMINATOR);return""+c},e.decodeHanziSegment=function(e,o,t){if(13*t>e.available())throw new i;for(var r=Array(2*t),n=0;t>0;){var s=e.readBits(13),a=s/96<<8|s%96;a+=959>a?41377:42657,r[n]=a>>8&255,r[n+1]=255&a,n+=2,t--}o.append(g.bytesToString(r,"GB2312"))},e.decodeKanjiSegment=function(e,o,t){if(13*t>e.available())throw new i;for(var r=Array(2*t),n=0;t>0;){var s=e.readBits(13),a=s/192<<8|s%192;a+=7936>a?33088:49472,r[n]=a>>8,r[n+1]=a,n+=2,t--}o.append(g.bytesToString(r,"SJIS"))},e.decodeByteSegment=function(e,o,t,r,n){if(t<<3>e.available())throw new i;for(var s=Array(t),a=0;t>a;a++)s[a]=e.readBits(8);var u;u=r?r:g.guessEncoding(s),o.append(g.bytesToString(s,u)),n.push(s)},e.toAlphaNumericChar=function(o){if(o>=e.ALPHANUMERIC_CHARS.length)throw new i;return e.ALPHANUMERIC_CHARS[Math.floor(o)]},e.decodeAlphanumericSegment=function(o,t,r){for(t.getLength();r>1;){if(o.available()<11)throw new i;var n=o.readBits(11);t.append(e.toAlphaNumericChar(n/45)),t.append(e.toAlphaNumericChar(n%45)),r-=2}if(1==r){if(o.available()<6)throw new i;t.append(e.toAlphaNumericChar(o.readBits(6)))}},e.decodeNumericSegment=function(o,t,r){for(;r>=3;){if(o.available()<10)throw new i;var n=o.readBits(10);if(n>=1e3)throw new i;t.append(e.toAlphaNumericChar(n/100)),t.append(e.toAlphaNumericChar(n/10%10)),t.append(e.toAlphaNumericChar(n%10)),r-=3}if(2==r){if(o.available()<7)throw new i;var g=o.readBits(7);if(g>=100)throw new i;t.append(e.toAlphaNumericChar(g/10)),t.append(e.toAlphaNumericChar(g%10))}else if(1==r){if(o.available()<4)throw new i;var s=o.readBits(4);if(s>=10)throw new i;t.append(e.toAlphaNumericChar(s))}},e.parseECIValue=function(e){var o=e.readBits(8);if(0==(128&o))return 127&o;if(128==(192&o)){var t=e.readBits(8);return(63&o)<<8|t}if(192==(224&o)){var r=e.readBits(16);return(31&o)<<16|r}throw new i}}),goog.provide("w69b.qr.GF256Poly"),goog.require("goog.asserts"),goog.scope(function(){w69b.qr.WrongFieldError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.WrongFieldError,Error);var e=w69b.qr.WrongFieldError;w69b.qr.GF256Poly=function(e,o){goog.asserts.assert(null!=o&&0!=o.length),this.field=e;var t=o.length;if(t>1&&0==o[0]){for(var r=1;t>r&&0==o[r];)r++;if(r==t)this.coefficients=e.zero.coefficients;else{this.coefficients=Array(t-r);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=0;for(var g=0;g<this.coefficients.length;g++)this.coefficients[g]=o[r+g]}}else this.coefficients=o};var o=w69b.qr.GF256Poly,t=o.prototype;o.addOrSubtractScalar=function(e,o){return e^o},t.isZero=function(){return 0==this.coefficients[0]},t.getDegree=function(){return this.coefficients.length-1},t.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var r=0,n=0;t>n;n++)r=o.addOrSubtractScalar(r,this.coefficients[n]);return r}for(var g=this.coefficients[0],n=1;t>n;n++)g=o.addOrSubtractScalar(this.field.multiply(e,g),this.coefficients[n]);return g},t.addOrSubtract=function(t){if(this.field!=t.field)throw new e;if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var g=r;r=n,n=g}for(var i=Array(n.length),s=n.length-r.length,a=0;s>a;a++)i[a]=n[a];for(var u=s;u<n.length;u++)i[u]=o.addOrSubtractScalar(r[u-s],n[u]);return new o(this.field,i)},t.multiply1=function(t){if(this.field!=t.field)throw new e;if(this.isZero()||t.isZero())return this.field.zero;for(var r=this.coefficients,n=r.length,g=t.coefficients,i=g.length,s=Array(n+i-1),a=0;n>a;a++)for(var u=r[a],l=0;i>l;l++)s[a+l]=o.addOrSubtractScalar(s[a+l],this.field.multiply(u,g[l]));return new o(this.field,s)},t.multiply2=function(e){if(0==e)return this.field.zero;if(1==e)return this;for(var t=this.coefficients.length,r=Array(t),n=0;t>n;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new o(this.field,r)},t.multiplyByMonomial=function(e,t){if(goog.asserts.assert(e>=0),0==t)return this.field.zero;for(var r=this.coefficients.length,n=Array(r+e),g=0;g<n.length;g++)n[g]=0;for(var g=0;r>g;g++)n[g]=this.field.multiply(this.coefficients[g],t);return new o(this.field,n)},t.divide=function(o){if(this.field!=o.field)throw new e;goog.asserts.assert(!o.isZero());for(var t=this.field.zero,r=this,n=o.getCoefficient(o.getDegree()),g=this.field.inverse(n);r.getDegree()>=o.getDegree()&&!r.isZero();){var i=r.getDegree()-o.getDegree(),s=this.field.multiply(r.getCoefficient(r.getDegree()),g),a=o.multiplyByMonomial(i,s),u=this.field.buildMonomial(i,s);t=t.addOrSubtract(u),r=r.addOrSubtract(a)}return[t,r]},t.toString=function(){for(var e=[],o=this.getDegree();o>=0;o--){var t=this.getCoefficient(o);if(0!=t){if(0>t?(e.push(" - "),t=-t):e.length>0&&e.push(" + "),0==o||1!=t){var r=this.field.log(t);0==r?e.push("1"):1==r?e.push("a"):(e.push("a^"),e.push(r))}0!=o&&(1==o?e.push("x"):(e.push("x^"),e.push(o)))}}return e.join("")}}),goog.provide("w69b.qr.GF256"),goog.require("w69b.qr.GF256Poly"),goog.scope(function(){var e=w69b.qr.GF256Poly;w69b.qr.GF256=function(o){this.expTable=Array(256),this.logTable=Array(256);for(var t=1,r=0;256>r;r++)this.expTable[r]=t,t<<=1,256>t||(t^=o);for(var r=0;255>r;r++)this.logTable[this.expTable[r]]=r;var n=Array(1);n[0]=0,this.zero=new e(this,Array(n));var g=Array(1);g[0]=1,this.one=new e(this,Array(g))};var o=w69b.qr.GF256,t=o.prototype;t.buildMonomial=function(o,t){if(0>o)throw Error();if(0==t)return this.zero;for(var r=Array(o+1),n=0;n<r.length;n++)r[n]=0;return r[0]=t,new e(this,r)},t.exp=function(e){return this.expTable[e]},t.log=function(e){if(0==e)throw Error();return this.logTable[e]},t.inverse=function(e){if(0==e)throw Error();return this.expTable[255-this.logTable[e]]},t.multiply=function(e,o){return 0==e||0==o?0:1==e?o:1==o?e:this.expTable[(this.logTable[e]+this.logTable[o])%255]},o.QR_CODE_FIELD=new o(285),o.DATA_MATRIX_FIELD=new o(301)}),goog.provide("w69b.qr.ReedSolomonDecoder"),goog.require("w69b.qr.GF256Poly"),goog.require("w69b.qr.ReaderError"),goog.scope(function(){var e=w69b.qr.GF256Poly;w69b.qr.ReedSolomonError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.ReedSolomonError,w69b.qr.ReaderError);var o=w69b.qr.ReedSolomonError;w69b.qr.ReedSolomonDecoder=function(e){this.field=e};var t=w69b.qr.ReedSolomonDecoder,r=t.prototype;r.decode=function(t,r){for(var n=new e(this.field,t),g=Array(r),i=0;i<g.length;i++)g[i]=0;for(var s=!1,a=!0,i=0;r>i;i++){var u=n.evaluateAt(this.field.exp(s?i+1:i));g[g.length-1-i]=u,0!=u&&(a=!1)}if(!a)for(var l=new e(this.field,g),c=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),l,r),d=c[0],h=c[1],f=this.findErrorLocations(d),p=this.findErrorMagnitudes(h,f,s),i=0;i<f.length;i++){var m=t.length-1-this.field.log(f[i]);if(0>m)throw new o("bad error location");t[m]=e.addOrSubtractScalar(t[m],p[i])}},r.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var g=e,i=t,s=this.field.one,a=this.field.zero,u=this.field.zero,l=this.field.one;i.getDegree()>=Math.floor(r/2);){var c=g,d=s,h=u;if(g=i,s=a,u=l,g.isZero())throw new o("r_{i-1} was zero");i=c;for(var f=this.field.zero,p=g.getCoefficient(g.getDegree()),m=this.field.inverse(p);i.getDegree()>=g.getDegree()&&!i.isZero();){var _=i.getDegree()-g.getDegree(),E=this.field.multiply(i.getCoefficient(i.getDegree()),m);f=f.addOrSubtract(this.field.buildMonomial(_,E)),i=i.addOrSubtract(g.multiplyByMonomial(_,E))}a=f.multiply1(s).addOrSubtract(d),l=f.multiply1(u).addOrSubtract(h)}var v=l.getCoefficient(0);if(0==v)throw new o("sigmaTilde(0) was zero");var y=this.field.inverse(v),b=l.multiply2(y),S=i.multiply2(y);return[b,S]},r.findErrorLocations=function(e){var t=e.getDegree();if(1==t)return[e.getCoefficient(1)];for(var r=Array(t),n=0,g=1;256>g&&t>n;g++)0==e.evaluateAt(g)&&(r[n]=this.field.inverse(g),n++);if(n!=t)throw new o("locator degree does not match number of roots");return r},r.findErrorMagnitudes=function(o,t,r){for(var n=t.length,g=Array(n),i=0;n>i;i++){for(var s=this.field.inverse(t[i]),a=1,u=0;n>u;u++)i!=u&&(a=this.field.multiply(a,e.addOrSubtractScalar(1,this.field.multiply(t[u],s))));g[i]=this.field.multiply(o.evaluateAt(s),this.field.inverse(a)),r&&(g[i]=this.field.multiply(g[i],s))}return g}}),goog.provide("w69b.qr.decoder"),goog.require("w69b.qr.BitMatrixParser"),goog.require("w69b.qr.DataBlock"),goog.require("w69b.qr.DecodedBitStreamParser"),goog.require("w69b.qr.GF256"),goog.require("w69b.qr.ReedSolomonDecoder"),goog.scope(function(){var e=w69b.qr.GF256,o=w69b.qr.DataBlock,t=w69b.qr.decoder;t.rsDecoder=new w69b.qr.ReedSolomonDecoder(e.QR_CODE_FIELD),t.correctErrors=function(e,o){for(var r=e.length,n=Array(r),g=0;r>g;g++)n[g]=255&e[g];var i=e.length-o;t.rsDecoder.decode(n,i);for(var g=0;o>g;g++)e[g]=n[g]},t.decode=function(e){for(var r=new w69b.qr.BitMatrixParser(e),n=r.readVersion(),g=r.readFormatInformation().errorCorrectionLevel,i=r.readCodewords(),s=o.getDataBlocks(i,n,g),a=0,u=0;u<s.length;u++)a+=s[u].numDataCodewords;for(var l=Array(a),c=0,d=0;d<s.length;d++){var h=s[d],f=h.codewords,p=h.numDataCodewords;t.correctErrors(f,p);for(var u=0;p>u;u++)l[c++]=f[u]}return w69b.qr.DecodedBitStreamParser.decode(l,n,g.bits)}}),goog.provide("w69b.qr.BitArray"),goog.scope(function(){w69b.qr.BitArray=function(e){this.size_=e||0,this.bits_=w69b.qr.BitArray.makeArray(this.size_)};var e=w69b.qr.BitArray,o=e.prototype;e.numberOfTrailingZeros=function(e){var o;if(0==e)return 32;var t=31;return o=e<<16,0!=o&&(t-=16,e=o),o=e<<8,0!=o&&(t-=8,e=o),o=e<<4,0!=o&&(t-=4,e=o),o=e<<2,0!=o&&(t-=2,e=o),t-(e<<1>>>31)},o.getSize=function(){return this.size_},o.getSizeInBytes=function(){return this.size_+7>>3},o.ensureCapacity=function(o){if(o>this.bits_.length<<5){var t=e.makeArray(o);t.set(this.bits_,0),this.bits_=t}},o.get=function(e){return 0!=(this.bits_[e>>5]&1<<(31&e))},o.set=function(e){this.bits_[e>>5]|=1<<(31&e)},o.flip=function(e){this.bits_[e>>5]^=1<<(31&e)},o.getNextSet=function(o){var t=this.size_;if(o>=t)return t;var r=o>>5,n=this.bits_[r];for(n&=~((1<<(31&o))-1);0==n;){if(++r==this.bits_.length)return t;n=this.bits_[r]}var g=(r<<5)+e.numberOfTrailingZeros(n);return g>t?t:g},o.getNextUnset=function(o){var t=this.size_;if(o>=t)return t;var r=o>>5,n=~this.bits_[r];for(n&=~((1<<(31&o))-1);0==n;){if(++r==this.bits_.length)return t;n=~this.bits_[r]}var g=(r<<5)+e.numberOfTrailingZeros(n);return g>t?t:g},o.setBulk=function(e,o){this.bits_[e>>5]=o},o.setRange=function(e,o){if(e>o)throw Error();if(o!=e){o--;for(var t=e>>5,r=o>>5,n=t;r>=n;n++){var g,i=n>t?0:31&e,s=r>n?31:31&o;if(0==i&&31==s)g=-1;else{g=0;for(var a=i;s>=a;a++)g|=1<<a}this.bits_[n]|=g}}},o.clear=function(){for(var e=this.bits_.length,o=0;e>o;o++)this.bits_[o]=0},o.isRange=function(e,o,t){if(e>o)throw Error();if(o==e)return!0;o--;for(var r=e>>5,n=o>>5,g=r;n>=g;g++){var i,s=g>r?0:31&e,a=n>g?31:31&o;if(0==s&&31==a)i=-1;else{i=0;for(var u=s;a>=u;u++)i|=1<<u}if((this.bits_[g]&i)!=(t?i:0))return!1}return!0},o.appendBit=function(e){this.ensureCapacity(this.size_+1),e&&(this.bits_[this.size_>>5]|=1<<(31&this.size_)),this.size_++},o.appendBits=function(e,o){if(0>o||o>32)throw Error();this.ensureCapacity(this.size_+o);for(var t=o;t>0;t--)this.appendBit(1==(e>>t-1&1))},o.appendBitArray=function(e){var o=e.size_;this.ensureCapacity(this.size_+o);for(var t=0;o>t;t++)this.appendBit(e.get(t))},o.xor=function(e){if(this.bits_.length!=e.bits_.length)throw Error();for(var o=0;o<this.bits_.length;o++)this.bits_[o]^=e.bits_[o]},o.toBytes=function(e,o,t,r){for(var n=0;r>n;n++){for(var g=0,i=0;8>i;i++)this.get(e)&&(g|=1<<7-i),e++;o[t+n]=g}},o.getBitArray=function(){return this.bits_},o.reverse=function(){for(var e=new Int32Array(this.bits_.length),o=this.size_,t=0;o>t;t++)this.get(o-t-1)&&(e[t>>5]|=1<<(31&t));this.bits_=e},e.makeArray=function(e){return new Int32Array(e+31>>5)},o.toString=function(){for(var e=[],o=0;o<this.size_;o++)0==(7&o)&&e.push(" "),e.push(this.get(o)?"X":".");return e.join("")}}),goog.provide("w69b.qr.EncodeHintType"),w69b.qr.EncodeHintType={CHARACTER_SET:1,FORCE_ADD_ECI:2},goog.provide("w69b.qr.ReedSolomonEncoder"),goog.require("w69b.qr.GF256"),goog.require("w69b.qr.GF256Poly"),goog.scope(function(){var e=(w69b.qr.GF256,w69b.qr.GF256Poly);w69b.qr.ReedSolomonEncoder=function(o){this.field_=o,this.cachedGenerators_=[new e(o,[1])]};var o=w69b.qr.ReedSolomonEncoder.prototype;o.buildGenerator=function(o){var t=this.cachedGenerators_;if(o>=t.length)for(var r=t[t.length-1],n=t.length;o>=n;n++){var g=r.multiply1(new e(this.field_,[1,this.field_.exp(n-1)]));t.push(g),r=g}return t[o]},o.encode=function(o,t){if(0==t)throw Error("No error correction bytes");var r=o.length-t;if(0>=r)throw Error("No data bytes provided");var n=this.buildGenerator(t),g=o.slice(0,r),i=new e(this.field_,g);i=i.multiplyByMonomial(t,1);var s,a=i.divide(n)[1],u=a.coefficients,l=t-u.length;for(s=0;l>s;s++)o[r+s]=0;for(s=0;s<u.length;++s)o[r+l+s]=u[s]}}),goog.provide("w69b.qr.encoder.BlockPair"),goog.scope(function(){w69b.qr.encoder.BlockPair=function(e,o){this.dataBytes=e,this.errorCorrectionBytes=o};var e=w69b.qr.encoder.BlockPair.prototype;e.getDataBytes=function(){return this.dataBytes},e.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes}}),goog.provide("w69b.qr.encoder.ByteMatrix"),goog.scope(function(){w69b.qr.encoder.ByteMatrix=function(e,o){this.width_=e,this.height_=o,this.bytes_=new Int8Array(e*o)};var e=w69b.qr.encoder.ByteMatrix.prototype;e.getBytes=function(){return this.bytes_},e.getHeight=function(){return this.height_},e.getWidth=function(){return this.width_},e.get=function(e,o){return this.bytes_[this.width_*o+e]},e.set=function(e,o,t){this.bytes_[this.width_*o+e]=t},e.clear=function(e){for(var o=0;o<this.bytes_.length;++o)this.bytes_[o]=e},e.toString=function(){for(var e=[],o=0;o<this.height_;++o){for(var t=0;t<this.width_;++t)switch(this.get(t,o)){case 0:e.push(" 0");break;case 1:e.push(" 1");break;default:e.push("  ")}e.push("\n")}return e.join("")}}),goog.provide("w69b.qr.encoder.MaskUtil"),goog.require("w69b.qr.encoder.ByteMatrix"),goog.scope(function(){var e=(w69b.qr.encoder.ByteMatrix,w69b.qr.encoder.MaskUtil);e.N1=3,e.N2=3,e.N3=40,e.N4=10,e.applyMaskPenaltyRule1=function(o){return e.applyMaskPenaltyRule1Internal(o,!0)+e.applyMaskPenaltyRule1Internal(o,!1)},e.applyMaskPenaltyRule2=function(o){for(var t=0,r=o.getWidth(),n=o.getHeight(),g=0;n-1>g;g++)for(var i=0;r-1>i;i++){var s=o.get(i,g);s==o.get(i+1,g)&&s==o.get(i,g+1)&&s==o.get(i+1,g+1)&&t++}return e.N2*t},e.applyMaskPenaltyRule3=function(o){for(var t=0,r=o.getWidth(),n=o.getHeight(),g=o.getBytes(),i=0;n>i;i++)for(var s=r*i,a=0;r>a;a++)r>a+6&&1==g[s+a]&&0==g[s+a+1]&&1==g[s+a+2]&&1==g[s+a+3]&&1==g[s+a+4]&&0==g[s+a+5]&&1==g[s+a+6]&&(r>a+10&&0==g[s+a+7]&&0==g[s+a+8]&&0==g[s+a+9]&&0==g[s+a+10]||a-4>=0&&0==g[s+a-1]&&0==g[s+a-2]&&0==g[s+a-3]&&0==g[s+a-4])&&(t+=e.N3),n>i+6&&1==o.get(a,i)&&0==o.get(a,i+1)&&1==o.get(a,i+2)&&1==o.get(a,i+3)&&1==o.get(a,i+4)&&0==o.get(a,i+5)&&1==o.get(a,i+6)&&(n>i+10&&0==o.get(a,i+7)&&0==o.get(a,i+8)&&0==o.get(a,i+9)&&0==o.get(a,i+10)||i-4>=0&&0==o.get(a,i-1)&&0==o.get(a,i-2)&&0==o.get(a,i-3)&&0==o.get(a,i-4))&&(t+=e.N3);return t},e.applyMaskPenaltyRule4=function(o){for(var t=0,r=o.getWidth(),n=o.getHeight(),g=0;n>g;g++)for(var i=0;r>i;i++)1==o.get(i,g)&&t++;var s=o.getHeight()*o.getWidth(),a=t/s,u=Math.floor(20*Math.abs(a-.5));return u*e.N4},e.getDataMaskBit=function(e,o,t){var r,n;switch(e){case 0:r=t+o&1;break;case 1:r=1&t;break;case 2:r=o%3;break;case 3:r=(t+o)%3;break;case 4:r=(t>>>1)+o/3&1;break;case 5:n=t*o,r=(1&n)+n%3;break;case 6:n=t*o,r=(1&n)+n%3&1;break;case 7:n=t*o,r=n%3+(t+o&1)&1;break;default:throw Error("Invalid mask pattern: "+e)}return 0==r},e.applyMaskPenaltyRule1Internal=function(o,t){for(var r=0,n=t?o.getHeight():o.getWidth(),g=t?o.getWidth():o.getHeight(),i=0;n>i;i++){for(var s=0,a=-1,u=0;g>u;u++){var l=t?o.get(u,i):o.get(i,u);l==a?s++:(5>s||(r+=e.N1+(s-5)),s=1,a=l)}s>5&&(r+=e.N1+(s-5))}return r}}),goog.provide("w69b.qr.WriterError"),goog.require("goog.debug.Error"),goog.scope(function(){w69b.qr.WriterError=function(e){goog.base(this,e)},goog.inherits(w69b.qr.WriterError,goog.debug.Error)}),goog.provide("w69b.qr.encoder.QRCode"),goog.require("w69b.qr.ErrorCorrectionLevel"),goog.require("w69b.qr.Mode"),goog.require("w69b.qr.Version"),goog.require("w69b.qr.encoder.ByteMatrix"),goog.scope(function(){w69b.qr.ErrorCorrectionLevel,w69b.qr.Mode,w69b.qr.Version,w69b.qr.encoder.ByteMatrix;w69b.qr.encoder.QRCode=function(){};var e=w69b.qr.encoder.QRCode,o=e.prototype;o.mode_=null,o.ecLevel_=null,o.version_=null,o.maskPattern_=-1,o.matrix_=null,e.NUM_MASK_PATTERNS=8,o.getMode=function(){return this.mode_},o.getECLevel=function(){return this.ecLevel_},o.getVersion=function(){return this.version_},o.getMaskPattern=function(){return this.maskPattern_},o.getMatrix=function(){return this.matrix_},o.toString=function(){var e=[];return e.push("<<\n"),e.push(" mode: "),e.push(""+this.mode_),e.push("\n ecLevel: "),e.push(""+this.ecLevel_),e.push("\n version: "),e.push(""+this.version_),e.push("\n maskPattern: "),e.push(this.maskPattern_),null==this.matrix_?e.push("\n matrix: null\n"):(e.push("\n matrix:\n"),e.push(""+this.matrix_)),e.push(">>\n"),e.join("")},o.setMode=function(e){this.mode_=e},o.setECLevel=function(e){this.ecLevel_=e},o.setVersion=function(e){this.version_=e},o.setMaskPattern=function(e){this.maskPattern_=e},o.setMatrix=function(e){this.matrix_=e},e.isValidMaskPattern=function(o){return o>=0&&o<e.NUM_MASK_PATTERNS}}),goog.provide("w69b.qr.encoder.MatrixUtil"),goog.require("w69b.qr.BitArray"),goog.require("w69b.qr.ErrorCorrectionLevel"),goog.require("w69b.qr.Version"),goog.require("w69b.qr.WriterError"),goog.require("w69b.qr.encoder.ByteMatrix"),goog.require("w69b.qr.encoder.MaskUtil"),goog.require("w69b.qr.encoder.QRCode"),goog.scope(function(){var e=(w69b.qr.ErrorCorrectionLevel,w69b.qr.BitArray),o=(w69b.qr.encoder.ByteMatrix,w69b.qr.Version,w69b.qr.WriterError),t=w69b.qr.encoder.QRCode,r=w69b.qr.encoder.MaskUtil,n=w69b.qr.encoder.MatrixUtil;n.POSITION_DETECTION_PATTERN=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],n.POSITION_ADJUSTMENT_PATTERN=[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,1,1,1,1]],n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=[[-1,-1,-1,-1,-1,-1,-1],[6,18,-1,-1,-1,-1,-1],[6,22,-1,-1,-1,-1,-1],[6,26,-1,-1,-1,-1,-1],[6,30,-1,-1,-1,-1,-1],[6,34,-1,-1,-1,-1,-1],[6,22,38,-1,-1,-1,-1],[6,24,42,-1,-1,-1,-1],[6,26,46,-1,-1,-1,-1],[6,28,50,-1,-1,-1,-1],[6,30,54,-1,-1,-1,-1],[6,32,58,-1,-1,-1,-1],[6,34,62,-1,-1,-1,-1],[6,26,46,66,-1,-1,-1],[6,26,48,70,-1,-1,-1],[6,26,50,74,-1,-1,-1],[6,30,54,78,-1,-1,-1],[6,30,56,82,-1,-1,-1],[6,30,58,86,-1,-1,-1],[6,34,62,90,-1,-1,-1],[6,28,50,72,94,-1,-1],[6,26,50,74,98,-1,-1],[6,30,54,78,102,-1,-1],[6,28,54,80,106,-1,-1],[6,32,58,84,110,-1,-1],[6,30,58,86,114,-1,-1],[6,34,62,90,118,-1,-1],[6,26,50,74,98,122,-1],[6,30,54,78,102,126,-1],[6,26,52,78,104,130,-1],[6,30,56,82,108,134,-1],[6,34,60,86,112,138,-1],[6,30,58,86,114,142,-1],[6,34,62,90,118,146,-1],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n.TYPE_INFO_COORDINATES=[[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,7],[8,8],[7,8],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8]],n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n.clearMatrix=function(e){e.clear(-1)},n.buildMatrix=function(e,o,t,r,g){n.clearMatrix(g),n.embedBasicPatterns(t,g),n.embedTypeInfo(o,r,g),n.maybeEmbedVersionInfo(t,g),n.embedDataBits(e,r,g)},n.embedBasicPatterns=function(e,o){n.embedPositionDetectionPatternsAndSeparators(o),n.embedDarkDotAtLeftBottomCorner(o),n.maybeEmbedPositionAdjustmentPatterns(e,o),n.embedTimingPatterns(o)},n.embedTypeInfo=function(o,t,r){var g=new e;n.makeTypeInfoBits(o,t,g);for(var i=0;i<g.getSize();++i){var s=g.get(g.getSize()-1-i),a=n.TYPE_INFO_COORDINATES[i][0],u=n.TYPE_INFO_COORDINATES[i][1];if(r.set(a,u,s),8>i){var l=r.getWidth()-i-1,c=8;r.set(l,c,s)}else{var l=8,c=r.getHeight()-7+(i-8);r.set(l,c,s)}}},n.maybeEmbedVersionInfo=function(o,t){if(o.getVersionNumber()>=7){var r=new e;n.makeVersionInfoBits(o,r);for(var g=17,i=0;6>i;++i)for(var s=0;3>s;++s){var a=r.get(g);g--,t.set(i,t.getHeight()-11+s,a),t.set(t.getHeight()-11+s,i,a)}}},n.embedDataBits=function(e,t,g){for(var i=0,s=-1,a=g.getWidth()-1,u=g.getHeight()-1;a>0;){for(6==a&&(a-=1);u>=0&&u<g.getHeight();){for(var l=0;2>l;++l){var c=a-l;if(n.isEmpty(g.get(c,u))){var d;i<e.getSize()?(d=e.get(i),++i):d=!1,-1!=t&&r.getDataMaskBit(t,c,u)&&(d=!d),g.set(c,u,d)}}u+=s}s=-s,u+=s,a-=2}if(i!=e.getSize())throw new o("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){for(var o=0;0!=e;)e>>>=1,++o;return o},n.calculateBCHCode=function(e,o){var t=n.findMSBSet(o);for(e<<=t-1;n.findMSBSet(e)>=t;)e^=o<<n.findMSBSet(e)-t;return e},n.makeTypeInfoBits=function(r,g,i){if(!t.isValidMaskPattern(g))throw new o("Invalid mask pattern");var s=r.getBits()<<3|g;i.appendBits(s,5);var a=n.calculateBCHCode(s,n.TYPE_INFO_POLY);i.appendBits(a,10);var u=new e;if(u.appendBits(n.TYPE_INFO_MASK_PATTERN,15),i.xor(u),15!=i.getSize())throw new o("should not happen but we got: "+i.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),18!=t.getSize())throw new o("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return-1==e},n.embedTimingPatterns=function(e){for(var o=8;o<e.getWidth()-8;++o){var t=(o+1)%2;n.isEmpty(e.get(o,6))&&e.set(o,6,t),n.isEmpty(e.get(6,o))&&e.set(6,o,t)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(0==e.get(8,e.getHeight()-8))throw new o;e.set(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var g=0;8>g;++g){if(!n.isEmpty(r.get(e+g,t)))throw new o;r.set(e+g,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var g=0;7>g;++g){if(!n.isEmpty(r.get(e,t+g)))throw new o;r.set(e,t+g,0)}},n.embedPositionAdjustmentPattern=function(e,o,t){for(var r=0;5>r;++r)for(var g=0;5>g;++g)t.set(e+g,o+r,n.POSITION_ADJUSTMENT_PATTERN[r][g])},n.embedPositionDetectionPattern=function(e,o,t){for(var r=0;7>r;++r)for(var g=0;7>g;++g)t.set(e+g,o+r,n.POSITION_DETECTION_PATTERN[r][g])},n.embedPositionDetectionPatternsAndSeparators=function(e){var o=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-o,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-o,e);var t=8;n.embedHorizontalSeparationPattern(0,t-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-t,t-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-t,e);var r=7;n.embedVerticalSeparationPattern(r,0,e),n.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),n.embedVerticalSeparationPattern(r,e.getHeight()-r,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,o){if(e.getVersionNumber()>=2)for(var t=e.getVersionNumber()-1,r=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[t],g=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[t].length,i=0;g>i;++i)for(var s=0;g>s;++s){var a=r[i],u=r[s];-1!=u&&-1!=a&&n.isEmpty(o.get(u,a))&&n.embedPositionAdjustmentPattern(u-2,a-2,o)}}}),goog.provide("w69b.qr.encoder.Encoder"),goog.require("w69b.qr.BitArray"),goog.require("w69b.qr.CharacterSetECI"),goog.require("w69b.qr.EncodeHintType"),goog.require("w69b.qr.ErrorCorrectionLevel"),goog.require("w69b.qr.GF256"),goog.require("w69b.qr.Mode"),goog.require("w69b.qr.ModeEnum"),goog.require("w69b.qr.ReedSolomonEncoder"),goog.require("w69b.qr.Version"),goog.require("w69b.qr.encoder.BlockPair"),goog.require("w69b.qr.encoder.MaskUtil"),goog.require("w69b.qr.encoder.MatrixUtil"),goog.require("w69b.qr.encoder.QRCode"),goog.require("w69b.qr.stringutils"),goog.scope(function(){var e=(w69b.qr.ErrorCorrectionLevel,w69b.qr.BitArray),o=w69b.qr.encoder.ByteMatrix,t=w69b.qr.encoder.MatrixUtil,r=w69b.qr.Version,n=w69b.qr.WriterError,g=w69b.qr.encoder.BlockPair,i=w69b.qr.encoder.QRCode,s=w69b.qr.encoder.MaskUtil,a=(w69b.qr.Mode,w69b.qr.ModeEnum),u=w69b.qr.EncodeHintType,l=w69b.qr.CharacterSetECI,c=w69b.qr.ReedSolomonEncoder,d=w69b.qr.stringutils,h=w69b.qr.encoder.Encoder;h.ALPHANUMERIC_TABLE=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1],h.DEFAULT_BYTE_MODE_ENCODING="UTF-8",h.calculateMaskPenalty=function(e){return s.applyMaskPenaltyRule1(e)+s.applyMaskPenaltyRule2(e)+s.applyMaskPenaltyRule3(e)+s.applyMaskPenaltyRule4(e)},h.encode=function(n,g,s){var c=s?s[u.CHARACTER_SET]:null,d=s?s[u.FORCE_ADD_ECI]:!1;null==c&&(c=h.DEFAULT_BYTE_MODE_ENCODING);var f=h.chooseMode(n,c),p=new e;if(d||f==a.BYTE&&h.DEFAULT_BYTE_MODE_ENCODING!=c){var m=l.getValue(c);m&&h.appendECI(m,p)}h.appendModeInfo(f,p);var _=new e;
h.appendBytes(n,f,_,c);var E=p.getSize()+f.getCharacterCountBits(r.getVersionForNumber(1))+_.getSize(),v=h.chooseVersion(E,g),y=p.getSize()+f.getCharacterCountBits(v)+_.getSize(),b=h.chooseVersion(y,g),S=new e;S.appendBitArray(p);var w=f==a.BYTE?_.getSizeInBytes():n.length;h.appendLengthInfo(w,b,f,S),S.appendBitArray(_);var A=b.getECBlocksForLevel(g),T=b.getTotalCodewords()-A.getTotalECCodewords();h.terminateBits(T,S);var C=h.interleaveWithECBytes(S,b.getTotalCodewords(),T,A.getNumBlocks()),R=new i;R.setECLevel(g),R.setMode(f),R.setVersion(b);var D=b.getDimensionForVersion(),O=new o(D,D),I=h.chooseMaskPattern(C,g,b,O);return R.setMaskPattern(I),t.buildMatrix(C,g,b,I,O),R.setMatrix(O),R},h.getAlphanumericCode=function(e){return e=+e,e<h.ALPHANUMERIC_TABLE.length?h.ALPHANUMERIC_TABLE[e]:-1},h.chooseMode=function(e,o){if("SHIFT_JIS"==o)return h.isOnlyDoubleByteKanji(e)?a.KANJI:a.BYTE;for(var t=!1,r=!1,n="0".charCodeAt(0),g="9".charCodeAt(0),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<n||g<s){if(-1==h.getAlphanumericCode(s))return a.BYTE;r=!0}else t=!0}return r?a.ALPHANUMERIC:t?a.NUMERIC:a.BYTE},h.isOnlyDoubleByteKanji=function(e){var o=[];try{o=d.stringToBytes(e,"SHIFT_JIS")}catch(t){return!1}var r=o.length;if(r%2!=0)return!1;for(var n=0;r>n;n+=2){var g=255&o[n];if((129>g||g>159)&&(224>g||g>235))return!1}return!0},h.chooseMaskPattern=function(e,o,r,n){for(var g=Number.MAX_VALUE,s=-1,a=0;a<i.NUM_MASK_PATTERNS;a++){t.buildMatrix(e,o,r,a,n);var u=h.calculateMaskPenalty(n);g>u&&(g=u,s=a)}return s},h.chooseVersion=function(e,o){for(var t=1;40>=t;t++){var g=r.getVersionForNumber(t),i=g.getTotalCodewords(),s=g.getECBlocksForLevel(o),a=s.getTotalECCodewords(),u=i-a,l=Math.floor((e+7)/8);if(u>=l)return g}throw new n("Data too big")},h.terminateBits=function(e,o){var t,r=e<<3;if(o.getSize()>r)throw new n("data bits cannot fit in the QR Code"+o.getSize()+" > "+r);for(t=0;4>t&&o.getSize()<r;++t)o.appendBit(!1);var g=7&o.getSize();if(g>0)for(t=g;8>t;t++)o.appendBit(!1);var i=e-o.getSizeInBytes();for(t=0;i>t;++t)o.appendBits(0==(1&t)?236:17,8);if(o.getSize()!=r)throw new n("Bits size does not equal capacity")},h.getNumDataBytesAndNumECBytesForBlockID=function(e,o,t,r,g,i){if(r>=t)throw new n("Block ID too large");var s=e%t,a=t-s,u=Math.floor(e/t),l=u+1,c=Math.floor(o/t),d=c+1,h=u-c,f=l-d;if(h!=f)throw new n("EC bytes mismatch");if(t!=a+s)throw new n("RS blocks mismatch");if(e!=(c+h)*a+(d+f)*s)throw new n("Total bytes mismatch");a>r?(g[0]=c,i[0]=h):(g[0]=d,i[0]=f)},h.interleaveWithECBytes=function(o,t,r,i){if(o.getSizeInBytes()!=r)throw new n("Number of bits and data bytes does not match");var s,a=0,u=0,l=0,c=[];for(s=0;i>s;++s){var d=[0],f=[0];h.getNumDataBytesAndNumECBytesForBlockID(t,r,i,s,d,f);var p=d[0],m=Array(p);o.toBytes(8*a,m,0,p);var _=h.generateECBytes(m,f[0]);c.push(new g(m,_)),u=Math.max(u,p),l=Math.max(l,_.length),a+=d[0]}if(r!=a)throw new n("Data bytes does not match offset");var E=new e;for(s=0;u>s;++s)c.forEach(function(e){var o=e.getDataBytes();s<o.length&&E.appendBits(o[s],8)});for(s=0;l>s;++s)c.forEach(function(e){var o=e.getErrorCorrectionBytes();s<o.length&&E.appendBits(o[s],8)});if(t!=E.getSizeInBytes())throw new n("Interleaving error: "+t+" and "+E.getSizeInBytes()+" differ.");return E},h.generateECBytes=function(e,o){var t,r=e.length,n=Array(r+o);for(t=0;r>t;t++)n[t]=255&e[t];new c(w69b.qr.GF256.QR_CODE_FIELD).encode(n,o);var g=Array(o);for(t=0;o>t;t++)g[t]=n[r+t];return g},h.appendModeInfo=function(e,o){o.appendBits(e.getBits(),4)},h.appendLengthInfo=function(e,o,t,r){var g=t.getCharacterCountBits(o);if(e>=1<<g)throw new n(e+" is bigger than "+((1<<g)-1));r.appendBits(e,g)},h.appendBytes=function(e,o,t,r){switch(o){case a.NUMERIC:h.appendNumericBytes(e,t);break;case a.ALPHANUMERIC:h.appendAlphanumericBytes(e,t);break;case a.BYTE:h.append8BitBytes(e,t,r);break;case a.KANJI:h.appendKanjiBytes(e,t);break;default:throw new n("Invalid mode: "+o)}},h.appendNumericBytes=function(e,o){for(var t,r=e.length,n=0,g="0".charCodeAt(0);r>n;){var i=e.charCodeAt(n)-g;if(r>n+2){t=e.charCodeAt(n+1)-g;var s=e.charCodeAt(n+2)-g;o.appendBits(100*i+10*t+s,10),n+=3}else r>n+1?(t=e.charCodeAt(n+1)-g,o.appendBits(10*i+t,7),n+=2):(o.appendBits(i,4),n++)}},h.appendAlphanumericBytes=function(e,o){for(var t=e.length,r=0;t>r;){var g=h.getAlphanumericCode(e.charCodeAt(r));if(-1==g)throw new n;if(t>r+1){var i=h.getAlphanumericCode(e.charCodeAt(r+1));if(-1==i)throw new n;o.appendBits(45*g+i,11),r+=2}else o.appendBits(g,6),r++}},h.append8BitBytes=function(e,o,t){var r;try{r=d.stringToBytes(e,t)}catch(g){throw new n(g)}r.forEach(function(e){o.appendBits(e,8)})},h.appendKanjiBytes=function(e,o){var t;try{t=d.stringToBytes(e,"Shift_JIS")}catch(r){throw new n(r)}for(var g=t.length,i=0;g>i;i+=2){var s=255&t[i],a=255&t[i+1],u=s<<8|a,l=-1;if(33088>u||u>40956?57408>u||u>60351||(l=u-49472):l=u-33088,-1==l)throw new n("Invalid byte sequence");var c=192*(l>>8)+(255&l);o.appendBits(c,13)}},h.appendECI=function(e,o){o.appendBits(a.ECI.getBits(),4),o.appendBits(e,8)}}),goog.provide("w69b.qr.Binarizer"),goog.scope(function(){w69b.qr.Binarizer=function(e){this.source=e};var e=w69b.qr.Binarizer,o=e.prototype;o.getLuminanceSource=function(){return this.source},o.getBlackRow=function(){throw Error()},o.getBlackMatrix=function(){throw Error()},o.createBinarizer=function(){throw Error()},o.getWidth=function(){return this.source.width},o.getHeight=function(){return this.source.height}}),goog.provide("w69b.qr.GlobalHistogramBinarizer"),goog.require("w69b.qr.Binarizer"),goog.require("w69b.qr.BitArray"),goog.require("w69b.qr.BitMatrix"),goog.require("w69b.qr.NotFoundError"),goog.scope(function(){var e=w69b.qr.BitMatrix,o=w69b.qr.BitArray;w69b.qr.GlobalHistogramBinarizer=function(e){goog.base(this,e),this.luminances_=new Uint8Array(0),this.buckets_=new Uint8Array(t.LUMINANCE_BUCKETS)};var t=w69b.qr.GlobalHistogramBinarizer;goog.inherits(t,w69b.qr.Binarizer);var r=t.prototype;t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,r.getBlackRow=function(e,r){var n,g=this.getLuminanceSource(),i=g.getWidth();null==r||r.getSize()<i?r=new o(i):r.clear(),this.initArrays(i);var s=g.getRow(e,this.luminances_),a=this.buckets_;for(n=0;i>n;n++){var u=255&s[n];a[u>>t.LUMINANCE_SHIFT]++}var l=t.estimateBlackPoint(a),c=255&s[0],d=255&s[1];for(n=1;i-1>n;n++){var h=255&s[n+1],f=(d<<2)-c-h>>1;l>f&&r.set(n),c=d,d=h}return r},r.getBlackMatrix=function(){var o,r,n,g,i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight(),u=new e(s,a);this.initArrays(s);var l=this.buckets_;for(g=1;5>g;g++){var c=a*g/5;o=i.getRow(c,this.luminances_);var d=(s<<2)/5;for(n=s/5;d>n;n++)r=255&o[n],l[r>>t.LUMINANCE_SHIFT]++}var h=t.estimateBlackPoint(l);for(o=i.getMatrix(),g=0;a>g;g++){var f=g*s;for(n=0;s>n;n++)r=255&o[f+n],h>r&&u.set(n,g)}return u},r.createBinarizer=function(e){return new t(e)},r.initArrays=function(e){this.luminances_.length<e&&(this.luminances_=new Uint8Array(e));for(var o=0;o<t.LUMINANCE_BUCKETS;o++)this.buckets_[o]=0},t.estimateBlackPoint=function(e){var o,r,n=e.length,g=0,i=0,s=0;for(o=0;n>o;o++)e[o]>s&&(i=o,s=e[o]),e[o]>g&&(g=e[o]);var a=0,u=0;for(o=0;n>o;o++){var l=o-i;r=e[o]*l*l,r>u&&(a=o,u=r)}if(i>a){var c=i;i=a,a=c}if(n>>4>=a-i)throw new w69b.qr.NotFoundError;var d=a-1,h=-1;for(o=a-1;o>i;o--){var f=o-i;r=f*f*(a-o)*(g-e[o]),r>h&&(d=o,h=r)}return d<<t.LUMINANCE_SHIFT}}),goog.provide("w69b.qr.IntArray2D"),goog.scope(function(){w69b.qr.IntArray2D=function(e,o){this.size1=e,this.size2=o,this.data=new Int32Array(e*o)};var e=w69b.qr.IntArray2D.prototype;e.getAt=function(e,o){return this.data[this.size2*e+o]},e.setAt=function(e,o,t){this.data[this.size2*e+o]=t}}),goog.provide("w69b.qr.HybridBinarizer"),goog.require("w69b.qr.BitArray"),goog.require("w69b.qr.BitMatrix"),goog.require("w69b.qr.GlobalHistogramBinarizer"),goog.require("w69b.qr.IntArray2D"),goog.scope(function(){var e=w69b.qr.BitMatrix,o=w69b.qr.IntArray2D;w69b.qr.HybridBinarizer=function(e){goog.base(this,e)},goog.inherits(w69b.qr.HybridBinarizer,w69b.qr.GlobalHistogramBinarizer);var t=w69b.qr.HybridBinarizer,r=t.prototype;r.matrix_,t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,r.getBlackMatrix=function(){if(null!=this.matrix_)return this.matrix_;var o=this.getLuminanceSource(),r=o.getWidth(),n=o.getHeight();if(r<t.MINIMUM_DIMENSION||n<t.MINIMUM_DIMENSION)this.matrix_=goog.base(this,"getBlackMatrix");else{var g=o.getMatrix(),i=r>>t.BLOCK_SIZE_POWER;0!=(r&t.BLOCK_SIZE_MASK)&&i++;var s=n>>t.BLOCK_SIZE_POWER;0!=(n&t.BLOCK_SIZE_MASK)&&s++;var a=t.calculateBlackPoints(g,i,s,r,n),u=new e(r,n);t.calculateThresholdForBlock(g,i,s,r,n,a,u),this.matrix_=u}return this.matrix_},r.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,o,r,n,g,i,s){for(var a=0;r>a;a++){var u=a<<t.BLOCK_SIZE_POWER,l=g-t.BLOCK_SIZE;u>l&&(u=l);for(var c=0;o>c;c++){var d=c<<t.BLOCK_SIZE_POWER,h=n-t.BLOCK_SIZE;d>h&&(d=h);for(var f=t.cap(c,2,o-3),p=t.cap(a,2,r-3),m=0,_=-2;2>=_;_++){var E=(p+_)*i.size2,v=i.data;m+=v[E+f-2]+v[E+f-1]+v[E+f]+v[E+f+1]+v[E+f+2]}var y=m/25;t.thresholdBlock(e,d,u,y,n,s)}}},t.cap=function(e,o,t){return o>e?o:e>t?t:e},t.thresholdBlock=function(e,o,r,n,g,i){for(var s=0,a=r*g+o;s<t.BLOCK_SIZE;s++,a+=g)for(var u=0;u<t.BLOCK_SIZE;u++)(255&e[a+u])>n||i.set(o+u,r+s)},t.calculateBlackPoints=function(e,r,n,g,i){for(var s,a=new o(n,r),u=0;n>u;u++){var l=u<<t.BLOCK_SIZE_POWER,c=i-t.BLOCK_SIZE;l>c&&(l=c);for(var d=0;r>d;d++){var h=d<<t.BLOCK_SIZE_POWER,f=g-t.BLOCK_SIZE;h>f&&(h=f);for(var p=0,m=255,_=0,E=0,v=l*g+h;E<t.BLOCK_SIZE;E++,v+=g){for(s=0;s<t.BLOCK_SIZE;s++){var y=255&e[v+s];p+=y,m>y&&(m=y),y>_&&(_=y)}if(_-m>t.MIN_DYNAMIC_RANGE)for(E++,v+=g;E<t.BLOCK_SIZE;E++,v+=g)for(s=0;s<t.BLOCK_SIZE;s++)p+=255&e[v+s]}var b=p>>2*t.BLOCK_SIZE_POWER;if(_-m<=t.MIN_DYNAMIC_RANGE&&(b=m>>1,u>0&&d>0)){var S=a.getAt(u-1,d)+2*a.getAt(u,d-1)+a.getAt(u-1,d-1)>>2;S>m&&(b=S)}a.setAt(u,d,b)}}return a}}),goog.provide("w69b.qr.nativepreprocessing"),goog.require("w69b.qr.HybridBinarizer"),goog.require("w69b.qr.QRImage"),goog.scope(function(){var e=w69b.qr.nativepreprocessing,o=w69b.qr.QRImage;e.binarizeImageData=function(o){var t=e.grayscale(o),r=new w69b.qr.HybridBinarizer(t);return r.getBlackMatrix()},e.grayscale=function(e){for(var t=o.newEmpty(e.width,e.height),r=t.data,n=e.data,g=0;g<r.length;++g){var i=4*g;r[g]=(33*n[i]+34*n[i+1]+33*n[i+2])/100}return t}}),goog.provide("w69b.qr.imagedecoding"),goog.require("w69b.img.RGBABitMatrix"),goog.require("w69b.img.WebGLBinarizer"),goog.require("w69b.imgtools"),goog.require("w69b.qr.DecodeResult"),goog.require("w69b.qr.Detector"),goog.require("w69b.qr.QRImage"),goog.require("w69b.qr.ReaderError"),goog.require("w69b.qr.decoder"),goog.require("w69b.qr.encoder.Encoder"),goog.require("w69b.qr.nativepreprocessing"),goog.scope(function(){var e=w69b.qr.Detector,o=w69b.img.RGBABitMatrix,t=w69b.qr.DecodeResult,r=w69b.img.WebGLBinarizer,n=w69b.imgtools,g=w69b.qr.nativepreprocessing,i=w69b.qr.imagedecoding;i.webGLBinarizer_=null,i.getWebGLBinarizer_=function(){return i.webGLBinarizer_||(i.webGLBinarizer_=new r),i.webGLBinarizer_},i.decode=function(e,o,t){var g;if(t&&r.isSupported()){var s=i.getWebGLBinarizer_();s.setup(e.width||e.videoHeight,e.height||e.videoHeight),s.render(e),g=s.getBitMatrix()}else g=n.getImageData(e,700);return i.decodeFromImageData(g,o)},i.decodeFromImageData=function(e,o){var r;try{r=i.decodeFromImageDataThrowing(e,o)}catch(n){if(r=new t(n),!(n instanceof w69b.qr.ReaderError))throw n}return r},i.decodeFromImageDataThrowing=function(r,n){var i;i=r instanceof o?r:g.binarizeImageData(r);var s=new e(i,n),a=s.detect(),u=w69b.qr.decoder.decode(a.bits);return new t(u,a.points)}}),goog.exportSymbol("w69b.qr.imagedecoding.decodeFromImageData",w69b.qr.imagedecoding.decodeFromImageData),goog.provide("w69b.qr.DecodeInWorkerHelper"),goog.require("goog.math.Size"),goog.require("goog.net.jsloader"),goog.require("goog.string"),goog.require("goog.string.path"),goog.require("goog.userAgent"),goog.require("w69b.img.RGBABitMatrix"),goog.require("w69b.img.WebGLBinarizer"),goog.require("w69b.imgtools"),goog.require("w69b.qr.InvalidCharsetError"),goog.require("w69b.qr.WorkerMessageType"),goog.require("w69b.qr.imagedecoding"),goog.scope(function(){var e=w69b.qr.imagedecoding,o=goog.net.jsloader,t=w69b.qr.WorkerMessageType,r=w69b.img.WebGLBinarizer;w69b.qr.DecodeInWorkerHelper=function(){this.callback_=null};var n=w69b.qr.DecodeInWorkerHelper,g=n.prototype;g.enableWebGl_=!0,g.enableWorker_=!0,g.webglBinarizer_=null,n.workerUrl_="",n.iconvUrl_=null,n.setWorkerUrl=function(e){n.workerUrl_=e},n.setIconvUrl=function(e){n.iconvUrl_=e},g.enableWebGl=function(e){this.enableWebGl_=e},g.enableWorker=function(e){this.enableWorker_=e},g.init=function(){if(this.enableWorker_){var e=w69b.qr.DecodeInWorkerHelper.workerUrl_;if(!e)throw Error("missing worker url setup");this.worker_=new Worker(e),this.useWorker_=this.shallUseWorker(),this.useWorker_?(this.worker_.addEventListener("message",this.onMessage_.bind(this)),w69b.qr.DecodeInWorkerHelper.iconvUrl_&&this.worker_.postMessage({setIconvUrl:w69b.qr.DecodeInWorkerHelper.iconvUrl_})):(this.worker_.terminate(),this.worker_=null)}},g.isWebGlEnabledAndSupported=function(){return this.enableWebGl_&&r.isSupported()},g.shallUseWorker=function(){if(!this.enableWorker_)return!1;var e=new ArrayBuffer(1);return this.worker_.postMessage({isfeaturedetect:!0,buffer:e},[e]),0==e.byteLength},g.onMessage_=function(e){if(this.callback_){var o=e.data[0];if("ffmemoryhack"==o)return;var t=e.data[1];t&&(t=window.JSON.parse(t)),this.callback_(o,t)}},g.decode=function(e,o,t){var n=!1,g=e;if(o.round(),this.enableWebGl_&&(!this.webGLBinarizer_&&r.isSupported()&&(this.webGLBinarizer_=new r),this.webGLBinarizer_)){var i=new goog.math.Size(e.width||e.videoWidth,e.height||e.videoHeight);i.fitsInside(o)?o=i:i=i.scaleToCover(o),this.webGLBinarizer_.setup(o.width,o.height,i.width,i.height),this.webGLBinarizer_.render(e),g=this.webGLBinarizer_.getBitMatrix(),n=!0}if(g instanceof ImageData||g instanceof w69b.img.RGBABitMatrix||(g=w69b.imgtools.getImageData(g,o)),this.useWorker_){var s=g.data.buffer,a={width:g.width,height:g.height,buffer:s,isBinary:n};this.callback_=t,this.worker_.postMessage(a,[s]),g.data=null,e.data=null}else this.decodeLocalFallback_(g,t)},g.dispose=function(){this.worker_&&this.worker_.terminate()},g.decodeLocalFallback_=function(r,g){try{var i=e.decodeFromImageData(r,function(e){g(t.PATTERN,e.toJSON())}.bind(this))}catch(s){if(s instanceof w69b.qr.InvalidCharsetError&&!self.iconv&&n.iconvUrl_){var a=n.iconvUrl_;return goog.string.startsWith(a,"http://")||goog.string.startsWith(a,"https://")||(a=goog.string.path.dirname(n.workerUrl_)+"/"+a),void o.load(a).addCallback(function(){this.decodeLocalFallback_(r,g)},this)}throw s}if(i.isError()){var s=i.getError();g(t.NOTFOUND,s&&s.message)}else g(t.DECODED,i.toJSON());delete r.data}}),goog.provide("w69b.qr.decoding"),goog.require("goog.Promise"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("w69b.img.WebGLBinarizer"),goog.require("w69b.qr.DecodeInWorkerHelper"),goog.scope(function(){var e=w69b.qr.WorkerMessageType,o=w69b.qr.DecodeInWorkerHelper,t=goog.object,r=goog.Promise,n=w69b.qr.decoding;n.setWorkerUrl=function(e){o.setWorkerUrl(e)},n.setIconvUrl=function(e){o.setIconvUrl(e)},n.isWebGlSupported=function(){return w69b.img.WebGLBinarizer.isSupported()},n.Decoder=function(e){var r={worker:!0,webgl:!0,maxSize:700};t.extend(r,e||{});var n=new o;n.enableWebGl(r.webgl),n.enableWorker(r.worker),n.init(),this.options_=r,this.worker_=n,this.busy_=!1},n.Decoder.prototype.dispose=function(){this.worker_.dispose()},n.Decoder.prototype.decode=function(o){if(this.busy_)throw Error("Decoder is still busy");this.busy_=!0;var t=this.options_,n=this.worker_,g=r.withResolver(),i=new goog.math.Size(o.width||o.videoWidth,o.height||o.videoHeight);if(t.maxSize){var s=new goog.math.Size(t.maxSize,t.maxSize);i.fitsInside(s)||(i=i.scaleToFit(s),i.floor())}return n.decode(o,i,function(o,t){switch(o){case e.DECODED:g.resolve(t);break;case e.NOTFOUND:g.reject(t?Error(t):null)}}),g.promise.thenAlways(function(){this.busy_=!1}.bind(this)),g.promise}}),goog.provide("w69b.qr.Drawable"),goog.scope(function(){w69b.qr.Drawable=function(){};var e=w69b.qr.Drawable.prototype;e.fillBackground=function(){},e.fillBlack=function(){}}),goog.provide("w69b.qr.CanvasDrawable"),goog.require("w69b.qr.Drawable"),goog.scope(function(){w69b.qr.CanvasDrawable=function(e){this.canvas_=e,this.context_=e.getContext("2d"),this.bgStyle_="rgb(255, 255, 255)",this.fgStyle_="rgb(0, 0, 0)"};var e=w69b.qr.CanvasDrawable.prototype;e.fillBackground=function(e,o){this.canvas_.width=e,this.canvas_.height=o,this.context_.fillStyle=this.bgStyle_,this.context_.fillRect(0,0,e,o)},e.fillBlack=function(e,o,t,r){this.context_.fillStyle=this.fgStyle_,this.context_.fillRect(e,o,t,r)}}),goog.provide("w69b.qr.EpsDrawable"),goog.require("goog.asserts"),goog.require("w69b.qr.Drawable"),goog.scope(function(){w69b.qr.EpsDrawable=function(){this.buffer_=[],this.bgColor_="1 1 1",this.fgColor_="0 0 0",this.prevColor_=null,this.height_=0,this.width_=0};var e=w69b.qr.EpsDrawable.prototype;e.writeHeader=function(e,o){this.buffer_.push("%!PS-Adobe-3.0 EPSF-3.0"),this.buffer_.push("%%BoundingBox: 0 0 "+e+" "+o),this.width_=e,this.height_=o},e.writeRect_=function(e,o,t,r,n){this.prevColor_!=n&&(this.buffer_.push(n+" setrgbcolor"),this.prevColor_=n),o=this.height_-o,this.buffer_.push(e+" "+o+" moveto"),this.buffer_.push("0 "+-r+" rlineto "+t+" 0 rlineto 0 "+r+" rlineto closepath"),this.buffer_.push("fill")},e.fillBackground=function(e,o){goog.asserts.assert(0==this.buffer_.length),this.writeHeader(e,o),this.writeRect_(0,0,e,o,this.bgColor_)},e.fillBlack=function(e,o,t,r){goog.asserts.assert(this.buffer_.length>0),this.writeRect_(e,o,t,r,this.fgColor_)},e.toString=function(){return goog.asserts.assert(this.buffer_.length>0),this.buffer_.join("\n")}}),goog.provide("w69b.qr.SvgDrawable"),goog.require("goog.asserts"),goog.require("w69b.qr.Drawable"),goog.scope(function(){w69b.qr.SvgDrawable=function(){this.buffer_=[],this.bgStyle_="white",this.fgStyle_="black"};var e=w69b.qr.SvgDrawable.prototype;e.writeHeader=function(e,o){this.buffer_.push('<?xml version="1.0" encoding="UTF-8"?>'),this.buffer_.push('<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+o+'">')},e.writeRect_=function(e,o,t,r,n){this.buffer_.push('<rect shape-rendering="optimizeSpeed"  x="'+e+'" y="'+o+'" width="'+t+'" height="'+r+'" fill="'+n+'" />')},e.fillBackground=function(e,o){goog.asserts.assert(0==this.buffer_.length),this.writeHeader(e,o),this.writeRect_(0,0,e,o,this.bgStyle_)},e.fillBlack=function(e,o,t,r){goog.asserts.assert(this.buffer_.length>0),this.writeRect_(e,o,t,r,this.fgStyle_)},e.toString=function(){return goog.asserts.assert(this.buffer_.length>0),this.buffer_.join("\n")+"</svg>"}}),goog.provide("w69b.qr.renderer"),goog.require("w69b.qr.Drawable"),goog.require("w69b.qr.encoder.QRCode"),goog.scope(function(){var e=w69b.qr.renderer;e.QUIET_ZONE_SIZE=4,e.render=function(e,o,t,r,n){var g=e.getMatrix(),i=g.getWidth(),s=g.getHeight(),a=i+(n<<1),u=s+(n<<1),l=Math.max(t,a),c=Math.max(r,u),d=Math.floor(Math.min(l/a,c/u)),h=l-i*d>>1,f=c-s*d>>1;o.fillBackground(l,c);for(var p=0,m=f;s>p;p++,m+=d)for(var _=0,E=h;i>_;_++,E+=d)1==g.get(_,p)&&o.fillBlack(E,m,d,d)}}),goog.provide("w69b.qr.encoding"),goog.require("w69b.qr.CanvasDrawable"),goog.require("w69b.qr.EncodeHintType"),goog.require("w69b.qr.EpsDrawable"),goog.require("w69b.qr.ErrorCorrectionLevel"),goog.require("w69b.qr.SvgDrawable"),goog.require("w69b.qr.encoder.Encoder"),goog.require("w69b.qr.renderer"),goog.scope(function(){var e=w69b.qr.encoder.Encoder,o=w69b.qr.ErrorCorrectionLevel,t=w69b.qr.renderer,r=(w69b.qr.EncodeHintType,w69b.qr.SvgDrawable),n=w69b.qr.EpsDrawable,g=w69b.qr.encoding;g.cache_={content:null,ecLevel:null,result:null},g.encode_=function(t,r){var n=null;if(r&&(n=o.getByName(r)),n=n||o.L,g.cache_.content==t&&g.cache_.ecLevel==n)return g.cache_.result;var i=e.encode(t,n);return g.cache_.content=t,g.cache_.ecLevel=n,g.cache_.result=i,i},g.drawOnCanvas=function(e,o,r,n){var i=g.encode_(e,n),s=goog.isDef(r)?r:t.QUIET_ZONE_SIZE,a=new w69b.qr.CanvasDrawable(o);t.render(i,a,o.width,o.height,s)},g.getSize=function(e,o){var t=g.encode_(e,o);return t.getMatrix().getWidth()},g.drawAsSVG=function(e,o,n,i){var s=g.encode_(e,i),a=goog.isDef(n)?n:t.QUIET_ZONE_SIZE,u=new r;return t.render(s,u,o,o,a),""+u},g.drawAsEPS=function(e,o,r,i){var s=g.encode_(e,i),a=goog.isDef(r)?r:t.QUIET_ZONE_SIZE,u=new n;return t.render(s,u,o,o,a),""+u},goog.exportSymbol("w69b.qr.encoding.drawOnCanvas",g.drawOnCanvas),goog.exportSymbol("w69b.qr.encoding.drawAsSVG",g.drawAsSVG),goog.exportSymbol("w69b.qr.encoding.drawAsEPS",g.drawAsEPS),goog.exportSymbol("w69b.qr.encoding.getSize",g.getSize)}),/**
 * @license
 * This file is part of barcode.js.
 *
 * barcode.js is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  barcode.js is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with barcode.js.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Licenses of included third software:
 * ---------------------------------------------------------------------------
 * License for zxing files (https://github.com/zxing/zxing):
 *
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Ported to JavaScript by Lazar Laszlo 2011
 * lazarsoft@gmail.com, www.lazarsoft.info
 *
 * javascript (closure) port (c) 2013 Manuel Braun (mb@w69b.com)
 *
 * XZing NOTICES:
 * --------------------------------------------------------------------------------
 * NOTICES FOR BARCODE4J
 * --------------------------------------------------------------------------------
 *
 * Barcode4J
 * Copyright 2002-2010 Jeremias Märki
 * Copyright 2005-2006 Dietmar Bürkle
 *
 * Portions of this software were contributed under section 5 of the
 * Apache License. Contributors are listed under:
 * http://barcode4j.sourceforge.net/contributors.html
 *
 * --------------------------------------------------------------------------------
 * NOTICES FOR JCOMMANDER
 * --------------------------------------------------------------------------------
 *
 * Copyright 2010 Cedric Beust cedric@beust.com
 *
 * */
goog.provide("w69b.qr.licenses"),goog.provide("goog.dom.vendor"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,o){if(o&&e in o)return e;var t=goog.dom.vendor.getVendorJsPrefix();if(t){t=t.toLowerCase();var r=t+goog.string.toTitleCase(e);return!goog.isDef(o)||r in o?r:null}return null},goog.dom.vendor.getPrefixedEventType=function(e){var o=goog.dom.vendor.getVendorJsPrefix()||"";return(o+e).toLowerCase()},goog.provide("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.math.Box=function(e,o,t,r){this.top=e,this.right=o,this.bottom=t,this.left=r},goog.math.Box.boundingBox=function(){for(var e=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),o=1;o<arguments.length;o++)e.expandToIncludeCoordinate(arguments[o]);return e},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,o,t,r){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=o,this.bottom+=t,this.left-=r),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,o){return e==o?!0:e&&o?e.top==o.top&&e.right==o.right&&e.bottom==o.bottom&&e.left==o.left:!1},goog.math.Box.contains=function(e,o){return e&&o?o instanceof goog.math.Box?!(o.left<e.left||o.right>e.right||o.top<e.top||o.bottom>e.bottom):!(o.x<e.left||o.x>e.right||o.y<e.top||o.y>e.bottom):!1},goog.math.Box.relativePositionX=function(e,o){return o.x<e.left?o.x-e.left:o.x>e.right?o.x-e.right:0},goog.math.Box.relativePositionY=function(e,o){return o.y<e.top?o.y-e.top:o.y>e.bottom?o.y-e.bottom:0},goog.math.Box.distance=function(e,o){var t=goog.math.Box.relativePositionX(e,o),r=goog.math.Box.relativePositionY(e,o);return Math.sqrt(t*t+r*r)},goog.math.Box.intersects=function(e,o){return!(e.left>o.right||o.left>e.right||e.top>o.bottom||o.top>e.bottom)},goog.math.Box.intersectsWithPadding=function(e,o,t){return!(e.left>o.right+t||o.left>e.right+t||e.top>o.bottom+t||o.top>e.bottom+t)},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,goog.isNumber(o)&&(this.top+=o,this.bottom+=o)),this},goog.math.Box.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this},goog.provide("goog.math.Rect"),goog.require("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Size"),goog.math.Rect=function(e,o,t,r){this.left=e,this.top=o,this.width=t,this.height=r},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){var e=this.left+this.width,o=this.top+this.height;return new goog.math.Box(this.top,e,o,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,o){return new goog.math.Rect(e.x,e.y,o.width,o.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,o){return e==o?!0:e&&o?e.left==o.left&&e.width==o.width&&e.top==o.top&&e.height==o.height:!1},goog.math.Rect.prototype.intersection=function(e){var o=Math.max(this.left,e.left),t=Math.min(this.left+this.width,e.left+e.width);if(t>=o){var r=Math.max(this.top,e.top),n=Math.min(this.top+this.height,e.top+e.height);if(n>=r)return this.left=o,this.top=r,this.width=t-o,this.height=n-r,!0}return!1},goog.math.Rect.intersection=function(e,o){var t=Math.max(e.left,o.left),r=Math.min(e.left+e.width,o.left+o.width);if(r>=t){var n=Math.max(e.top,o.top),g=Math.min(e.top+e.height,o.top+o.height);if(g>=n)return new goog.math.Rect(t,n,r-t,g-n)}return null},goog.math.Rect.intersects=function(e,o){return!(e.left>o.left+o.width||o.left>e.left+e.width||e.top>o.top+o.height||o.top>e.top+e.height)},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,o){var t=goog.math.Rect.intersection(e,o);if(!t||!t.height||!t.width)return[e.clone()];var r=[],n=e.top,g=e.height,i=e.left+e.width,s=e.top+e.height,a=o.left+o.width,u=o.top+o.height;return o.top>e.top&&(r.push(new goog.math.Rect(e.left,e.top,e.width,o.top-e.top)),n=o.top,g-=o.top-e.top),s>u&&(r.push(new goog.math.Rect(e.left,u,e.width,s-u)),g=u-n),o.left>e.left&&r.push(new goog.math.Rect(e.left,n,o.left-e.left,g)),i>a&&r.push(new goog.math.Rect(a,n,i-a,g)),r},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var o=Math.max(this.left+this.width,e.left+e.width),t=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=o-this.left,this.height=t-this.top},goog.math.Rect.boundingRect=function(e,o){if(!e||!o)return null;var t=e.clone();return t.boundingRect(o),t},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?!(this.left>e.left||this.left+this.width<e.left+e.width||this.top>e.top||this.top+this.height<e.top+e.height):!(e.x<this.left||e.x>this.left+this.width||e.y<this.top||e.y>this.top+this.height)},goog.math.Rect.prototype.squaredDistance=function(e){var o=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0),t=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0);return o*o+t*t},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,goog.isNumber(o)&&(this.top+=o)),this},goog.math.Rect.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.width*=e,this.top*=t,this.height*=t,this},goog.provide("goog.style"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.dom.vendor"),goog.require("goog.math.Box"),goog.require("goog.math.Coordinate"),goog.require("goog.math.Rect"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.userAgent"),goog.forwardDeclare("goog.events.BrowserEvent"),goog.forwardDeclare("goog.events.Event"),goog.style.setStyle=function(e,o,t){if(goog.isString(o))goog.style.setStyle_(e,t,o);else for(var r in o)goog.style.setStyle_(e,o[r],r)},goog.style.setStyle_=function(e,o,t){var r=goog.style.getVendorJsStyleName_(e,t);r&&(e.style[r]=o)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,o){var t=goog.style.styleNameCache_[o];if(!t){var r=goog.string.toCamelCase(o);if(t=r,void 0===e.style[r]){var n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(r);void 0!==e.style[n]&&(t=n)}goog.style.styleNameCache_[o]=t}return t},goog.style.getVendorStyleName_=function(e,o){var t=goog.string.toCamelCase(o);if(void 0===e.style[t]){var r=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(t);if(void 0!==e.style[r])return goog.dom.vendor.getVendorPrefix()+"-"+o}return o},goog.style.getStyle=function(e,o){var t=e.style[goog.string.toCamelCase(o)];return void 0!==t?t:e.style[goog.style.getVendorJsStyleName_(e,o)]||""},goog.style.getComputedStyle=function(e,o){var t=goog.dom.getOwnerDocument(e);if(t.defaultView&&t.defaultView.getComputedStyle){var r=t.defaultView.getComputedStyle(e,null);if(r)return r[o]||r.getPropertyValue(o)||""}return""},goog.style.getCascadedStyle=function(e,o){return e.currentStyle?e.currentStyle[o]:null},goog.style.getStyle_=function(e,o){return goog.style.getComputedStyle(e,o)||goog.style.getCascadedStyle(e,o)||e.style&&e.style[o]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var o=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,o)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,o,t){var r,n;o instanceof goog.math.Coordinate?(r=o.x,n=o.y):(r=o,n=t),e.style.left=goog.style.getPixelStyleValue_(r,!1),e.style.top=goog.style.getPixelStyleValue_(n,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){var o;return o=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(o).isCss1CompatMode()?o.documentElement:o.body},goog.style.getViewportPageOffset=function(e){var o=e.body,t=e.documentElement,r=o.scrollLeft||t.scrollLeft,n=o.scrollTop||t.scrollTop;return new goog.math.Coordinate(r,n)},goog.style.getBoundingClientRect_=function(e){var o;try{o=e.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}if(goog.userAgent.IE&&e.ownerDocument.body){var r=e.ownerDocument;o.left-=r.documentElement.clientLeft+r.body.clientLeft,o.top-=r.documentElement.clientTop+r.body.clientTop}return o},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return e.offsetParent;for(var o=goog.dom.getOwnerDocument(e),t=goog.style.getStyle_(e,"position"),r="fixed"==t||"absolute"==t,n=e.parentNode;n&&n!=o;n=n.parentNode)if(n.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&n.host&&(n=n.host),t=goog.style.getStyle_(n,"position"),r=r&&"static"==t&&n!=o.documentElement&&n!=o.body,!r&&(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight||"fixed"==t||"absolute"==t||"relative"==t))return n;return null},goog.style.getVisibleRectForElement=function(e){for(var o=new goog.math.Box(0,1/0,1/0,0),t=goog.dom.getDomHelper(e),r=t.getDocument().body,n=t.getDocument().documentElement,g=t.getDocumentScrollElement(),i=e;i=goog.style.getOffsetParent(i);)if(!(goog.userAgent.IE&&0==i.clientWidth||goog.userAgent.WEBKIT&&0==i.clientHeight&&i==r||i==r||i==n||"visible"==goog.style.getStyle_(i,"overflow"))){var s=goog.style.getPageOffset(i),a=goog.style.getClientLeftTop(i);s.x+=a.x,s.y+=a.y,o.top=Math.max(o.top,s.y),o.right=Math.min(o.right,s.x+i.clientWidth),o.bottom=Math.min(o.bottom,s.y+i.clientHeight),o.left=Math.max(o.left,s.x)}var u=g.scrollLeft,l=g.scrollTop;o.left=Math.max(o.left,u),o.top=Math.max(o.top,l);var c=t.getViewportSize();return o.right=Math.min(o.right,u+c.width),o.bottom=Math.min(o.bottom,l+c.height),o.top>=0&&o.left>=0&&o.bottom>o.top&&o.right>o.left?o:null},goog.style.getContainerOffsetToScrollInto=function(e,o,t){var r=o||goog.dom.getDocumentScrollElement(),n=goog.style.getPageOffset(e),g=goog.style.getPageOffset(r),i=goog.style.getBorderBox(r);if(r==goog.dom.getDocumentScrollElement()){var s=n.x-r.scrollLeft,a=n.y-r.scrollTop;goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(s+=i.left,a+=i.top)}else var s=n.x-g.x-i.left,a=n.y-g.y-i.top;var u=r.clientWidth-e.offsetWidth,l=r.clientHeight-e.offsetHeight,c=r.scrollLeft,d=r.scrollTop;return t?(c+=s-u/2,d+=a-l/2):(c+=Math.min(s,Math.max(s-u,0)),d+=Math.min(a,Math.max(a-l,0))),new goog.math.Coordinate(c,d)},goog.style.scrollIntoContainerView=function(e,o,t){var r=o||goog.dom.getDocumentScrollElement(),n=goog.style.getContainerOffsetToScrollInto(e,r,t);r.scrollLeft=n.x,r.scrollTop=n.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var o=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var t=new goog.math.Coordinate(0,0),r=goog.style.getClientViewportElement(o);if(e==r)return t;var n=goog.style.getBoundingClientRect_(e),g=goog.dom.getDomHelper(o).getDocumentScroll();return t.x=n.left+g.x,t.y=n.top+g.y,t},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,o){var t=new goog.math.Coordinate(0,0),r=goog.dom.getWindow(goog.dom.getOwnerDocument(e)),n=e;do{var g=r==o?goog.style.getPageOffset(n):goog.style.getClientPositionForElement_(goog.asserts.assert(n));t.x+=g.x,t.y+=g.y}while(r&&r!=o&&r!=r.parent&&(n=r.frameElement)&&(r=r.parent));return t},goog.style.translateRectForAnotherFrame=function(e,o,t){if(o.getDocument()!=t.getDocument()){var r=o.getDocument().body,n=goog.style.getFramedPageOffset(r,t.getWindow());n=goog.math.Coordinate.difference(n,goog.style.getPageOffset(r)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||o.isCss1CompatMode()||(n=goog.math.Coordinate.difference(n,o.getDocumentScroll())),e.left+=n.x,e.top+=n.y}},goog.style.getRelativePosition=function(e,o){var t=goog.style.getClientPosition(e),r=goog.style.getClientPosition(o);return new goog.math.Coordinate(t.x-r.x,t.y-r.y)},goog.style.getClientPositionForElement_=function(e){var o=goog.style.getBoundingClientRect_(e);return new goog.math.Coordinate(o.left,o.top)},goog.style.getClientPosition=function(e){if(goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(e);var o=e.changedTouches?e.changedTouches[0]:e;return new goog.math.Coordinate(o.clientX,o.clientY)},goog.style.setPageOffset=function(e,o,t){var r=goog.style.getPageOffset(e);o instanceof goog.math.Coordinate&&(t=o.y,o=o.x);var n=o-r.x,g=t-r.y;goog.style.setPosition(e,e.offsetLeft+n,e.offsetTop+g)},goog.style.setSize=function(e,o,t){var r;if(o instanceof goog.math.Size)r=o.height,o=o.width;else{if(void 0==t)throw Error("missing height argument");r=t}goog.style.setWidth(e,o),goog.style.setHeight(e,r)},goog.style.getPixelStyleValue_=function(e,o){return"number"==typeof e&&(e=(o?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,o){e.style.height=goog.style.getPixelStyleValue_(o,!0)},goog.style.setWidth=function(e,o){e.style.width=goog.style.getPixelStyleValue_(o,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,o){if("none"!=goog.style.getStyle_(o,"display"))return e(o);var t=o.style,r=t.display,n=t.visibility,g=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";var i=e(o);return t.display=r,t.position=g,t.visibility=n,i},goog.style.getSizeWithDisplay_=function(e){var o=e.offsetWidth,t=e.offsetHeight,r=goog.userAgent.WEBKIT&&!o&&!t;if((!goog.isDef(o)||r)&&e.getBoundingClientRect){var n=goog.style.getBoundingClientRect_(e);return new goog.math.Size(n.right-n.left,n.bottom-n.top)}return new goog.math.Size(o,t)},goog.style.getTransformedSize=function(e){if(!e.getBoundingClientRect)return null;var o=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e);return new goog.math.Size(o.right-o.left,o.bottom-o.top)},goog.style.getBounds=function(e){var o=goog.style.getPageOffset(e),t=goog.style.getSize(e);return new goog.math.Rect(o.x,o.y,t.width,t.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(e+"")},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){var o=e.style,t="";if("opacity"in o)t=o.opacity;else if("MozOpacity"in o)t=o.MozOpacity;else if("filter"in o){var r=o.filter.match(/alpha\(opacity=([\d.]+)\)/);r&&(t=r[1]/100+"")}return""==t?t:+t},goog.style.setOpacity=function(e,o){var t=e.style;"opacity"in t?t.opacity=o:"MozOpacity"in t?t.MozOpacity=o:"filter"in t&&(t.filter=""===o?"":"alpha(opacity="+100*o+")")},goog.style.setTransparentBackgroundImage=function(e,o){var t=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?t.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+o+'", sizingMethod="crop")':(t.backgroundImage="url("+o+")",t.backgroundPosition="top left",t.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){var o=e.style;"filter"in o?o.filter="":o.backgroundImage="none"},goog.style.showElement=function(e,o){goog.style.setElementShown(e,o)},goog.style.setElementShown=function(e,o){e.style.display=o?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,o){var t=goog.dom.getDomHelper(o),r=null,n=t.getDocument();if(goog.userAgent.IE&&n.createStyleSheet)r=n.createStyleSheet(),goog.style.setStyles(r,e);else{var g=t.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];if(!g){var i=t.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];g=t.createDom(goog.dom.TagName.HEAD),i.parentNode.insertBefore(g,i)}r=t.createDom(goog.dom.TagName.STYLE),goog.style.setStyles(r,e),t.appendChild(g,r)}return r},goog.style.uninstallStyles=function(e){var o=e.ownerNode||e.owningElement||e;goog.dom.removeNode(o)},goog.style.setStyles=function(e,o){goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=o:e.innerHTML=o},goog.style.setPreWrap=function(e){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(o.whiteSpace="pre",o.wordWrap="break-word"):o.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){var o=e.style;o.position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(o.zoom="1",o.display="inline"):o.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==e.getAttribute("unselectable"):!1},goog.style.setUnselectable=function(e,o,t){var r=t?null:e.getElementsByTagName("*"),n=goog.style.unselectableStyle_;if(n){var g=o?"none":"";if(e.style&&(e.style[n]=g),r)for(var i,s=0;i=r[s];s++)i.style&&(i.style[n]=g)}else if(goog.userAgent.IE||goog.userAgent.OPERA){var g=o?"on":"";if(e.setAttribute("unselectable",g),r)for(var i,s=0;i=r[s];s++)i.setAttribute("unselectable",g)}},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),r=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||r&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"border-box");else{var n=e.style;if(r){var g=goog.style.getPaddingBox(e),i=goog.style.getBorderBox(e);n.pixelWidth=o.width-i.left-g.left-g.right-i.right,n.pixelHeight=o.height-i.top-g.top-g.bottom-i.bottom}else n.pixelWidth=o.width,n.pixelHeight=o.height}},goog.style.getContentBoxSize=function(e){var o=goog.dom.getOwnerDocument(e),t=goog.userAgent.IE&&e.currentStyle;if(t&&goog.dom.getDomHelper(o).isCss1CompatMode()&&"auto"!=t.width&&"auto"!=t.height&&!t.boxSizing){var r=goog.style.getIePixelValue_(e,t.width,"width","pixelWidth"),n=goog.style.getIePixelValue_(e,t.height,"height","pixelHeight");return new goog.math.Size(r,n)}var g=goog.style.getBorderBoxSize(e),i=goog.style.getPaddingBox(e),s=goog.style.getBorderBox(e);return new goog.math.Size(g.width-s.left-i.left-i.right-s.right,g.height-s.top-i.top-i.bottom-s.bottom)},goog.style.setContentBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),r=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||r&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"content-box");else{var n=e.style;if(r)n.pixelWidth=o.width,n.pixelHeight=o.height;else{var g=goog.style.getPaddingBox(e),i=goog.style.getBorderBox(e);n.pixelWidth=o.width+i.left+g.left+g.right+i.right,n.pixelHeight=o.height+i.top+g.top+g.bottom+i.bottom}}},goog.style.setBoxSizingSize_=function(e,o,t){var r=e.style;goog.userAgent.GECKO?r.MozBoxSizing=t:goog.userAgent.WEBKIT?r.WebkitBoxSizing=t:r.boxSizing=t,r.width=Math.max(o.width,0)+"px",r.height=Math.max(o.height,0)+"px"},goog.style.getIePixelValue_=function(e,o,t,r){if(/^\d+px?$/.test(o))return parseInt(o,10);var n=e.style[t],g=e.runtimeStyle[t];e.runtimeStyle[t]=e.currentStyle[t],e.style[t]=o;var i=e.style[r];return e.style[t]=n,e.runtimeStyle[t]=g,i},goog.style.getIePixelDistance_=function(e,o){var t=goog.style.getCascadedStyle(e,o);return t?goog.style.getIePixelValue_(e,t,"left","pixelLeft"):0},goog.style.getBox_=function(e,o){if(goog.userAgent.IE){var t=goog.style.getIePixelDistance_(e,o+"Left"),r=goog.style.getIePixelDistance_(e,o+"Right"),n=goog.style.getIePixelDistance_(e,o+"Top"),g=goog.style.getIePixelDistance_(e,o+"Bottom");return new goog.math.Box(n,r,g,t)}var t=goog.style.getComputedStyle(e,o+"Left"),r=goog.style.getComputedStyle(e,o+"Right"),n=goog.style.getComputedStyle(e,o+"Top"),g=goog.style.getComputedStyle(e,o+"Bottom");return new goog.math.Box(parseFloat(n),parseFloat(r),parseFloat(g),parseFloat(t))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,o){if("none"==goog.style.getCascadedStyle(e,o+"Style"))return 0;var t=goog.style.getCascadedStyle(e,o+"Width");return t in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[t]:goog.style.getIePixelValue_(e,t,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var o=goog.style.getIePixelBorder_(e,"borderLeft"),t=goog.style.getIePixelBorder_(e,"borderRight"),r=goog.style.getIePixelBorder_(e,"borderTop"),n=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(r,t,n,o)}var o=goog.style.getComputedStyle(e,"borderLeftWidth"),t=goog.style.getComputedStyle(e,"borderRightWidth"),r=goog.style.getComputedStyle(e,"borderTopWidth"),n=goog.style.getComputedStyle(e,"borderBottomWidth");return new goog.math.Box(parseFloat(r),parseFloat(t),parseFloat(n),parseFloat(o))},goog.style.getFontFamily=function(e){var o=goog.dom.getOwnerDocument(e),t="";if(o.body.createTextRange&&goog.dom.contains(o,e)){var r=o.body.createTextRange();r.moveToElementText(e);/** @preserveTry */
try{t=r.queryCommandValue("FontName")}catch(n){t=""}}t||(t=goog.style.getStyle_(e,"fontFamily"));var g=t.split(",");return g.length>1&&(t=g[0]),goog.string.stripQuotes(t,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){var o=e.match(goog.style.lengthUnitRegex_);return o&&o[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var o=goog.style.getStyle_(e,"fontSize"),t=goog.style.getLengthUnits(o);if(o&&"px"==t)return parseInt(o,10);if(goog.userAgent.IE){if(t in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,o,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&t in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_){var r=e.parentNode,n=goog.style.getStyle_(r,"fontSize");return goog.style.getIePixelValue_(r,o==n?"1em":o,"left","pixelLeft")}}var g=goog.dom.createDom(goog.dom.TagName.SPAN,{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});return goog.dom.appendChild(e,g),o=g.offsetHeight,goog.dom.removeNode(g),o},goog.style.parseStyleAttribute=function(e){var o={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var t=e.match(/\s*([\w-]+)\s*\:(.+)/);if(t){var r=t[1],n=goog.string.trim(t[2]);o[goog.string.toCamelCase(r.toLowerCase())]=n}}),o},goog.style.toStyleAttribute=function(e){var o=[];return goog.object.forEach(e,function(e,t){o.push(goog.string.toSelectorCase(t),":",e,";")}),o.join("")},goog.style.setFloat=function(e,o){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=o},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var o=goog.dom.createElement(goog.dom.TagName.DIV);e&&(o.className=e),o.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var t=goog.dom.createElement(goog.dom.TagName.DIV);goog.style.setSize(t,"200px","200px"),o.appendChild(t),goog.dom.appendChild(goog.dom.getDocument().body,o);var r=o.offsetWidth-o.clientWidth;return goog.dom.removeNode(o),r},goog.style.MATRIX_TRANSLATION_REGEX_=RegExp("matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)"),goog.style.getCssTranslation=function(e){var o=goog.style.getComputedTransform(e);if(!o)return new goog.math.Coordinate(0,0);var t=o.match(goog.style.MATRIX_TRANSLATION_REGEX_);return t?new goog.math.Coordinate(parseFloat(t[1]),parseFloat(t[2])):new goog.math.Coordinate(0,0)},goog.provide("goog.events.EventHandler"),goog.require("goog.Disposable"),goog.require("goog.events"),goog.require("goog.object"),goog.forwardDeclare("goog.events.EventWrapper"),goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,o,t,r){return this.listen_(e,o,t,r)},goog.events.EventHandler.prototype.listenWithScope=function(e,o,t,r,n){return this.listen_(e,o,t,r,n)},goog.events.EventHandler.prototype.listen_=function(e,o,t,r,n){goog.isArray(o)||(o&&(goog.events.EventHandler.typeArray_[0]=""+o),o=goog.events.EventHandler.typeArray_);for(var g=0;g<o.length;g++){var i=goog.events.listen(e,o[g],t||this.handleEvent,r||!1,n||this.handler_||this);if(!i)return this;var s=i.key;this.keys_[s]=i}return this},goog.events.EventHandler.prototype.listenOnce=function(e,o,t,r){return this.listenOnce_(e,o,t,r)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,o,t,r,n){return this.listenOnce_(e,o,t,r,n)},goog.events.EventHandler.prototype.listenOnce_=function(e,o,t,r,n){if(goog.isArray(o))for(var g=0;g<o.length;g++)this.listenOnce_(e,o[g],t,r,n);else{var i=goog.events.listenOnce(e,o,t||this.handleEvent,r,n||this.handler_||this);if(!i)return this;var s=i.key;this.keys_[s]=i}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,o,t,r){return this.listenWithWrapper_(e,o,t,r)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,o,t,r,n){return this.listenWithWrapper_(e,o,t,r,n)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,o,t,r,n){return o.listen(e,t,r,n||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e=0;for(var o in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,o)&&e++;return e},goog.events.EventHandler.prototype.unlisten=function(e,o,t,r,n){if(goog.isArray(o))for(var g=0;g<o.length;g++)this.unlisten(e,o[g],t,r,n);else{var i=goog.events.getListener(e,o,t||this.handleEvent,r,n||this.handler_||this);i&&(goog.events.unlistenByKey(i),delete this.keys_[i.key])}return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,o,t,r,n){return o.unlisten(e,t,r,n||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(e,o){this.keys_.hasOwnProperty(o)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},goog.provide("goog.events.EventTarget"),goog.require("goog.Disposable"),goog.require("goog.asserts"),goog.require("goog.events"),goog.require("goog.events.Event"),goog.require("goog.events.Listenable"),goog.require("goog.events.ListenerMap"),goog.require("goog.object"),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,o,t,r){goog.events.listen(this,e,o,t,r)},goog.events.EventTarget.prototype.removeEventListener=function(e,o,t,r){goog.events.unlisten(this,e,o,t,r)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var o,t=this.getParentEventTarget();if(t){o=[];for(var r=1;t;t=t.getParentEventTarget())o.push(t),goog.asserts.assert(++r<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,o,t,r){return this.assertInitialized_(),this.eventTargetListeners_.add(e+"",o,!1,t,r)},goog.events.EventTarget.prototype.listenOnce=function(e,o,t,r){return this.eventTargetListeners_.add(e+"",o,!0,t,r)},goog.events.EventTarget.prototype.unlisten=function(e,o,t,r){return this.eventTargetListeners_.remove(e+"",o,t,r)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,o,t){var r=this.eventTargetListeners_.listeners[e+""];if(!r)return!0;r=r.concat();for(var n=!0,g=0;g<r.length;++g){var i=r[g];if(i&&!i.removed&&i.capture==o){var s=i.listener,a=i.handler||i.src;i.callOnce&&this.unlistenByKey(i),n=s.call(a,t)!==!1&&n}}return n&&0!=t.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,o){return this.eventTargetListeners_.getListeners(e+"",o)},goog.events.EventTarget.prototype.getListener=function(e,o,t,r){return this.eventTargetListeners_.getListener(e+"",o,t,r)},goog.events.EventTarget.prototype.hasListener=function(e,o){var t=goog.isDef(e)?e+"":void 0;return this.eventTargetListeners_.hasListener(t,o)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,o,t){var r=o.type||o;if(goog.isString(o))o=new goog.events.Event(o,e);else if(o instanceof goog.events.Event)o.target=o.target||e;else{var n=o;o=new goog.events.Event(r,e),goog.object.extend(o,n)}var g,i=!0;if(t)for(var s=t.length-1;!o.propagationStopped_&&s>=0;s--)g=o.currentTarget=t[s],i=g.fireListeners(r,!0,o)&&i;if(o.propagationStopped_||(g=o.currentTarget=e,i=g.fireListeners(r,!0,o)&&i,o.propagationStopped_||(i=g.fireListeners(r,!1,o)&&i)),t)for(s=0;!o.propagationStopped_&&s<t.length;s++)g=o.currentTarget=t[s],i=g.fireListeners(r,!1,o)&&i;return i},goog.provide("goog.ui.IdGenerator"),goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)},goog.provide("goog.ui.Component"),goog.provide("goog.ui.Component.Error"),goog.provide("goog.ui.Component.EventType"),goog.provide("goog.ui.Component.State"),goog.require("goog.array"),goog.require("goog.asserts"),goog.require("goog.dom"),goog.require("goog.dom.NodeType"),goog.require("goog.dom.TagName"),goog.require("goog.events.EventHandler"),goog.require("goog.events.EventTarget"),goog.require("goog.object"),goog.require("goog.style"),goog.require("goog.ui.IdGenerator"),goog.ui.Component=function(e){goog.events.EventTarget.call(this),this.dom_=e||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.model_=null,this.parent_=null,this.children_=null,this.childIndex_=null,this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.define("goog.ui.Component.ALLOW_DETACHED_DECORATION",!1),goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.define("goog.ui.Component.DEFAULT_BIDI_DIR",0),goog.ui.Component.defaultRightToLeft_=1==goog.ui.Component.DEFAULT_BIDI_DIR?!1:-1==goog.ui.Component.DEFAULT_BIDI_DIR?!0:null,goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(e,o){switch(e){case goog.ui.Component.State.DISABLED:return o?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return o?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return o?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return o?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return o?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return o?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return o?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(e){goog.ui.Component.defaultRightToLeft_=e},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(e){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,e,this)),this.id_=e},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var e=this.element_;return goog.asserts.assert(e,"Can not call getElementStrict before rendering/decorating."),e},goog.ui.Component.prototype.setElementInternal=function(e){this.element_=e},goog.ui.Component.prototype.getElementsByClass=function(e){return this.element_?this.dom_.getElementsByClass(e,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(e){return this.element_?this.dom_.getElementByClass(e,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(e){var o=this.getElementByClass(e);return goog.asserts.assert(o,"Expected element in component with class: %s",e),o},goog.ui.Component.prototype.getHandler=function(){var e=this;return e.googUiComponentHandler_||(e.googUiComponentHandler_=new goog.events.EventHandler(e)),e.googUiComponentHandler_},goog.ui.Component.prototype.setParent=function(e){if(this==e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e,goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(e){if(this.parent_&&this.parent_!=e)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement(goog.dom.TagName.DIV)},goog.ui.Component.prototype.render=function(e){this.render_(e)},goog.ui.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},goog.ui.Component.prototype.render_=function(e,o){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,o||null):this.dom_.getDocument().body.appendChild(this.element_),(!this.parent_||this.parent_.isInDocument())&&this.enterDocument()},goog.ui.Component.prototype.decorate=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!e||!this.canDecorate(e))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var o=goog.dom.getOwnerDocument(e);this.dom_&&this.dom_.getDocument()==o||(this.dom_=goog.dom.getDomHelper(e)),this.decorateInternal(e),(!goog.ui.Component.ALLOW_DETACHED_DECORATION||goog.dom.contains(o,e))&&this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(e){this.element_=e},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(e){e.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.children_=null,this.childIndex_=null,this.element_=null,this.model_=null,this.parent_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(e){return this.getId()+"."+e},goog.ui.Component.prototype.makeIds=function(e){var o={};for(var t in e)o[t]=this.makeId(e[t]);return o},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(e){this.model_=e},goog.ui.Component.prototype.getFragmentFromId=function(e){return e.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(e){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(e))},goog.ui.Component.prototype.addChild=function(e,o){this.addChildAt(e,this.getChildCount(),o)},goog.ui.Component.prototype.addChildAt=function(e,o,t){if(goog.asserts.assert(!!e,"Provided element must not be null."),e.inDocument_&&(t||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>o||o>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),e.getParent()==this?(goog.object.set(this.childIndex_,e.getId(),e),goog.array.remove(this.children_,e)):goog.object.add(this.childIndex_,e.getId(),e),e.setParent(this),goog.array.insertAt(this.children_,e,o),e.inDocument_&&this.inDocument_&&e.getParent()==this){var r=this.getContentElement(),n=r.childNodes[o]||null;n!=e.getElement()&&r.insertBefore(e.getElement(),n)}else if(t){this.element_||this.createDom();var g=this.getChildAt(o+1);e.render_(this.getContentElement(),g?g.element_:null)}else this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&e.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var e=[];return this.forEachChild(function(o){e.push(o.getId())}),e},goog.ui.Component.prototype.getChild=function(e){return this.childIndex_&&e?goog.object.get(this.childIndex_,e)||null:null},goog.ui.Component.prototype.getChildAt=function(e){return this.children_?this.children_[e]||null:null},goog.ui.Component.prototype.forEachChild=function(e,o){this.children_&&goog.array.forEach(this.children_,e,o)},goog.ui.Component.prototype.indexOfChild=function(e){return this.children_&&e?goog.array.indexOf(this.children_,e):-1},goog.ui.Component.prototype.removeChild=function(e,o){if(e){var t=goog.isString(e)?e:e.getId();e=this.getChild(t),t&&e&&(goog.object.remove(this.childIndex_,t),goog.array.remove(this.children_,e),o&&(e.exitDocument(),e.element_&&goog.dom.removeNode(e.element_)),e.setParent(null))}if(!e)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return e},goog.ui.Component.prototype.removeChildAt=function(e,o){return this.removeChild(this.getChildAt(e),o)},goog.ui.Component.prototype.removeChildren=function(e){for(var o=[];this.hasChildren();)o.push(this.removeChildAt(0,e));return o},goog.provide("goog.userAgent.product"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.userAgent"),goog.define("goog.userAgent.product.ASSUME_FIREFOX",!1),goog.define("goog.userAgent.product.ASSUME_IPHONE",!1),goog.define("goog.userAgent.product.ASSUME_IPAD",!1),goog.define("goog.userAgent.product.ASSUME_ANDROID",!1),goog.define("goog.userAgent.product.ASSUME_CHROME",!1),goog.define("goog.userAgent.product.ASSUME_SAFARI",!1),goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.provide("w69b.qr.ui.ContinuousScanner"),goog.require("goog.math.Size"),goog.require("goog.object"),goog.require("goog.string"),goog.require("goog.style"),goog.require("goog.ui.Component"),goog.require("goog.userAgent"),goog.require("goog.userAgent.product"),goog.require("w69b.LocalVideoCapturer"),goog.require("w69b.imgtools"),goog.require("w69b.qr.DecodeInWorkerHelper"),goog.require("w69b.qr.WorkerMessageType"),goog.require("w69b.qr.imagedecoding"),goog.scope(function(){var e=w69b.imgtools,o=goog.math.Size,t=w69b.qr.WorkerMessageType,r=goog.object;w69b.qr.ui.PatternPoint=function(e,o,t){this.x=e,this.y=o,this.size=t||4,this.birthTime=(new Date).getTime()};var n=w69b.qr.ui.PatternPoint;w69b.qr.ui.ContinuousScanner=function(e){goog.base(this);var t={webgl:!0};r.extend(t,e||{}),this.capturer_=new w69b.LocalVideoCapturer,this.worker_=new w69b.qr.DecodeInWorkerHelper,this.worker_.enableWebGl(t.webgl),this.worker_.init(),this.foundPatterns_=[],this.lastFrameTime_=null,this.size_=new o(200,200),this.decodeSize_=new o(200,200),this.decodedCallback_=goog.nullFunction};var g=w69b.qr.ui.ContinuousScanner;goog.inherits(g,goog.ui.Component);var i=g.prototype;g.isSupported=function(){if(!w69b.LocalVideoCapturer.getMedia)return!1;var e=goog.userAgent.getUserAgentString()||"",o=/Chrome\/(\d+)/.exec(e);return o&&o[1]<21?!1:(o=/Firefox\/(\d+)/.exec(e),o&&(o[1]<20||o[1]<29&&(goog.string.contains(e,"Mobile")||goog.string.contains(e,"Android")||goog.string.contains(e,"iPhone")||goog.string.contains(e,"iPad")))?!1:!0)},i.visualizationCanvas_=null,i.visualizationContext_=null,i.foundPatterns_=null,i.isDecoding_=!1,i.maxVisualizationResolution_=0,i.maxDecodeResolution_=500,i.maxPatternAge_=500,i.animFrameRequestId_=0,i.timerRequestId_=0,i.stopped_=!1,i.setDecodedCallback=function(e){this.decodedCallback_=e},i.setSize=function(e,o){this.size_.width=e,this.size_.height=o,this.decodeSize_=this.size_.clone(),this.ensureMaxResolutions_()},i.updateSizeFromClient=function(){var e=window.devicePixelRatio||1;e=1;var o=this.getElement();this.size_.width=o.clientWidth*e,this.size_.height=o.clientHeight*e,this.decodeSize_=this.size_.clone(),this.ensureMaxResolutions_()},i.setMaxVisualizationResolution=function(e){this.maxVisualizationResolution_=e,this.ensureMaxResolutions_()},i.setMaxDecodingResolution=function(e){this.maxDecodeResolution_=e,this.ensureMaxResolutions_()},i.setStopped=function(e){e=!!e;var o=this.stopped_;e!=o&&(this.stopped_=e,e||this.scheduleNextFrame())},i.createDom=function(){var e=this.getDomHelper();this.visualizationCanvas_=e.createDom("canvas"),goog.style.setStyle(this.visualizationCanvas_,{width:"100%",height:"100%"}),this.visualizationContext_=this.visualizationCanvas_.getContext("2d"),this.setElementInternal(this.visualizationCanvas_),this.capturer_.start(this.onAnimationFrame.bind(this))},i.onAnimationFrame=function(){this.stopped_||(this.drawVisualization_(),this.lastFrameTime_=(new Date).getTime(),this.isDecoding_||(this.worker_.decode(this.capturer_.getVideo(),this.decodeSize_,this.onDecodeMessage_.bind(this)),this.isDecoding_=!0),this.scheduleNextFrame())},i.ensureMaxResolutions_=function(){this.maxVisualizationResolution_&&e.scaleIfLarger(this.size_,this.maxVisualizationResolution_),this.maxDecodeResolution_&&e.scaleIfLarger(this.decodeSize_,this.maxDecodeResolution_)},i.drawVisualization_=function(){var e=this.size_,o=this.visualizationCanvas_;(o.width!=e.width||o.height!=e.height)&&(o.width=e.width,o.height=e.height);var t=this.visualizationContext_;this.capturer_.drawOnCanvas(o,t);for(var r=this.size_.width/this.decodeSize_.width,n=this.maxPatternAge_,g=(new Date).getTime(),i=0;i<this.foundPatterns_.length;++i){var s=this.foundPatterns_[i],a=g-s.birthTime;if(n>a){var u=(n-a)/n,l=s.x*r,c=s.y*r,d=s.size*r*u;t.fillStyle="rgba(200,255,50,"+u+")",t.beginPath(),t.arc(l,c,d,0,2*Math.PI,!1),t.fill()}}},i.scheduleNextFrame=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame;if(e)this.animFrameRequestId_=e.call(window,this.onAnimationFrame.bind(this));else{var o=(new Date).getTime()-this.lastFrameTime_,t=0;40>o&&(t=40-o),this.timerRequestId_=window.setTimeout(this.onAnimationFrame.bind(this),t)}},i.onDecodeMessage_=function(e,o){if(this.stopped_)return void(this.isDecoding_=!1);switch(e){case t.DECODED:o.patterns.forEach(this.addPattern_,this),this.onDecoded(o.text),this.isDecoding_=!1;break;case t.NOTFOUND:this.isDecoding_=!1;break;case t.PATTERN:this.addPattern_(o)}},i.onDecoded=function(e){this.decodedCallback_(e)},i.addPattern_=function(e){this.foundPatterns_.unshift(new n(e.x,e.y,e.size));var o=10;this.foundPatterns_.splice(o-1,this.foundPatterns_.length-o)},i.enterDocument=function(){goog.base(this,"enterDocument"),this.updateSizeFromClient(),this.getHandler().listen(window,goog.events.EventType.RESIZE,this.updateSizeFromClient),this.getHandler().listen(window,"orientationchange",this.updateSizeFromClient)},i.disposeInternal=function(){if(goog.base(this,"disposeInternal"),this.stopped_=!0,this.capturer_.dispose(),this.worker_.dispose(),this.animFrameRequestId_){var e=window.cancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame;e&&e.call(window,this.animFrameRequestId_)}this.timerRequestId_&&window.clearTimeout(this.timerRequestId_)},goog.exportSymbol("w69b.qr.ui.ContinuousScanner.prototype.render",i.render),goog.exportSymbol("w69b.qr.ui.ContinuousScanner.prototype.dispose",i.dispose)}),goog.provide("main"),goog.require("w69b.FileSaver"),goog.require("w69b.LocalVideoCapturer"),goog.require("w69b.img.WebGLBinarizer"),goog.require("w69b.qr.decoding"),goog.require("w69b.qr.encoding"),goog.require("w69b.qr.licenses"),goog.require("w69b.qr.ui.ContinuousScanner");